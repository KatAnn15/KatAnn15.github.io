/*! For license information please see main.e2eeeeb78b4ccfed8eef.js.LICENSE.txt */
(()=>{var e,t,n={3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6077:(e,t,n)=>{var r=n(111);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},1223:(e,t,n)=>{var r=n(5112),i=n(30),s=n(3070),o=r("unscopables"),a=Array.prototype;null==a[o]&&s.f(a,o,{configurable:!0,value:i(null)}),e.exports=function(e){a[o][e]=!0}},1530:(e,t,n)=>{"use strict";var r=n(8710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},5787:e=>{e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},9670:(e,t,n)=>{var r=n(111);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},1318:(e,t,n)=>{var r=n(5656),i=n(7466),s=n(1400),o=function(e){return function(t,n,o){var a,l=r(t),u=i(l.length),c=s(o,u);if(e&&n!=n){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},9341:(e,t,n)=>{"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},3411:(e,t,n)=>{var r=n(9670);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var s=e.return;throw void 0!==s&&r(s.call(e)),t}}},7072:(e,t,n)=>{var r=n(5112)("iterator"),i=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var s={};s[r]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(e){}return n}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},648:(e,t,n)=>{var r=n(1694),i=n(4326),s=n(5112)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},9920:(e,t,n)=>{var r=n(6656),i=n(3887),s=n(1236),o=n(3070);e.exports=function(e,t){for(var n=i(t),a=o.f,l=s.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||a(e,c,l(t,c))}}},4964:(e,t,n)=>{var r=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:(e,t,n)=>{"use strict";var r=n(3383).IteratorPrototype,i=n(30),s=n(9114),o=n(8003),a=n(7497),l=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:s(1,n)}),o(e,u,!1,!0),a[u]=l,e}},8880:(e,t,n)=>{var r=n(9781),i=n(3070),s=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},654:(e,t,n)=>{"use strict";var r=n(2109),i=n(4994),s=n(9518),o=n(7674),a=n(8003),l=n(8880),u=n(1320),c=n(5112),h=n(1913),d=n(7497),f=n(3383),p=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,g=c("iterator"),v="keys",y="values",w="entries",b=function(){return this};e.exports=function(e,t,n,c,f,_,E){i(n,t,c);var k,I,S,T=function(e){if(e===f&&R)return R;if(!m&&e in C)return C[e];switch(e){case v:case y:case w:return function(){return new n(this,e)}}return function(){return new n(this)}},x=t+" Iterator",N=!1,C=e.prototype,A=C[g]||C["@@iterator"]||f&&C[f],R=!m&&A||T(f),O="Array"==t&&C.entries||A;if(O&&(k=s(O.call(new e)),p!==Object.prototype&&k.next&&(h||s(k)===p||(o?o(k,p):"function"!=typeof k[g]&&l(k,g,b)),a(k,x,!0,!0),h&&(d[x]=b))),f==y&&A&&A.name!==y&&(N=!0,R=function(){return A.call(this)}),h&&!E||C[g]===R||l(C,g,R),d[t]=R,f)if(I={values:T(y),keys:_?R:T(v),entries:T(w)},E)for(S in I)(m||N||!(S in C))&&u(C,S,I[S]);else r({target:t,proto:!0,forced:m||N},I);return I}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var r=n(7854),i=n(111),s=r.document,o=i(s)&&i(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6833:(e,t,n)=>{var r=n(8113);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},8113:(e,t,n)=>{var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,i,s=n(7854),o=n(8113),a=s.process,l=a&&a.versions,u=l&&l.v8;u?i=(r=u.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var r=n(7854),i=n(1236).f,s=n(8880),o=n(1320),a=n(3505),l=n(9920),u=n(4705);e.exports=function(e,t){var n,c,h,d,f,p=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[p]||a(p,{}):(r[p]||{}).prototype)for(c in t){if(d=t[c],h=e.noTargetGet?(f=i(n,c))&&f.value:n[c],!u(m?c:p+(g?".":"#")+c,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&s(d,"sham",!0),o(n,c,d,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:(e,t,n)=>{"use strict";n(4916);var r=n(1320),i=n(7293),s=n(5112),o=n(2261),a=n(8880),l=s("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c="$0"==="a".replace(/./,"$0"),h=s("replace"),d=!!/./[h]&&""===/./[h]("a","$0"),f=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,h){var p=s(e),m=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),g=m&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!m||!g||"replace"===e&&(!u||!c||d)||"split"===e&&!f){var v=/./[p],y=n(p,""[e],(function(e,t,n,r,i){return t.exec===o?m&&!i?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),w=y[0],b=y[1];r(String.prototype,e,w),r(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}h&&a(RegExp.prototype[p],"sham",!0)}},9974:(e,t,n)=>{var r=n(3099);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},5005:(e,t,n)=>{var r=n(857),i=n(7854),s=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e])||s(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},1246:(e,t,n)=>{var r=n(648),i=n(7497),s=n(5112)("iterator");e.exports=function(e){if(null!=e)return e[s]||e["@@iterator"]||i[r(e)]}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||Function("return this")()},6656:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var r=n(7854);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),i=n(7293),s=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var r=n(7293),i=n(4326),s="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s.call(e,""):Object(e)}:Object},2788:(e,t,n)=>{var r=n(5465),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},9909:(e,t,n)=>{var r,i,s,o=n(8536),a=n(7854),l=n(111),u=n(8880),c=n(6656),h=n(6200),d=n(3501),f=a.WeakMap;if(o){var p=new f,m=p.get,g=p.has,v=p.set;r=function(e,t){return v.call(p,e,t),t},i=function(e){return m.call(p,e)||{}},s=function(e){return g.call(p,e)}}else{var y=h("state");d[y]=!0,r=function(e,t){return u(e,y,t),t},i=function(e){return c(e,y)?e[y]:{}},s=function(e){return c(e,y)}}e.exports={set:r,get:i,has:s,enforce:function(e){return s(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},7659:(e,t,n)=>{var r=n(5112),i=n(7497),s=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[s]===e)}},4705:(e,t,n)=>{var r=n(7293),i=/#|\.prototype\./,s=function(e,t){var n=a[o(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},o=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var r=n(111),i=n(4326),s=n(5112)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},408:(e,t,n)=>{var r=n(9670),i=n(7659),s=n(7466),o=n(9974),a=n(1246),l=n(3411),u=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,c,h){var d,f,p,m,g,v,y,w=o(t,n,c?2:1);if(h)d=e;else{if("function"!=typeof(f=a(e)))throw TypeError("Target is not iterable");if(i(f)){for(p=0,m=s(e.length);m>p;p++)if((g=c?w(r(y=e[p])[0],y[1]):w(e[p]))&&g instanceof u)return g;return new u(!1)}d=f.call(e)}for(v=d.next;!(y=v.call(d)).done;)if("object"==typeof(g=l(d,w,y.value,c))&&g&&g instanceof u)return g;return new u(!1)}).stop=function(e){return new u(!0,e)}},3383:(e,t,n)=>{"use strict";var r,i,s,o=n(9518),a=n(8880),l=n(6656),u=n(5112),c=n(1913),h=u("iterator"),d=!1;[].keys&&("next"in(s=[].keys())?(i=o(o(s)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),c||l(r,h)||a(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},7497:e=>{e.exports={}},5948:(e,t,n)=>{var r,i,s,o,a,l,u,c,h=n(7854),d=n(1236).f,f=n(4326),p=n(261).set,m=n(6833),g=h.MutationObserver||h.WebKitMutationObserver,v=h.process,y=h.Promise,w="process"==f(v),b=d(h,"queueMicrotask"),_=b&&b.value;_||(r=function(){var e,t;for(w&&(e=v.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():s=void 0,e}}s=void 0,e&&e.enter()},w?o=function(){v.nextTick(r)}:g&&!m?(a=!0,l=document.createTextNode(""),new g(r).observe(l,{characterData:!0}),o=function(){l.data=a=!a}):y&&y.resolve?(u=y.resolve(void 0),c=u.then,o=function(){c.call(u,r)}):o=function(){p.call(h,r)}),e.exports=_||function(e){var t={fn:e,next:void 0};s&&(s.next=t),i||(i=t,o()),s=t}},3366:(e,t,n)=>{var r=n(7854);e.exports=r.Promise},133:(e,t,n)=>{var r=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},8536:(e,t,n)=>{var r=n(7854),i=n(2788),s=r.WeakMap;e.exports="function"==typeof s&&/native code/.test(i(s))},8523:(e,t,n)=>{"use strict";var r=n(3099),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},3929:(e,t,n)=>{var r=n(7850);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},30:(e,t,n)=>{var r,i=n(9670),s=n(6048),o=n(748),a=n(3501),l=n(490),u=n(317),c=n(6200),h=c("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"</"+"script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=r?function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};a[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[h]=e):n=p(),void 0===t?n:s(n,t)}},6048:(e,t,n)=>{var r=n(9781),i=n(3070),s=n(9670),o=n(1956);e.exports=r?Object.defineProperties:function(e,t){s(e);for(var n,r=o(t),a=r.length,l=0;a>l;)i.f(e,n=r[l++],t[n]);return e}},3070:(e,t,n)=>{var r=n(9781),i=n(4664),s=n(9670),o=n(7593),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(s(e),t=o(t,!0),s(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),i=n(5296),s=n(9114),o=n(5656),a=n(7593),l=n(6656),u=n(4664),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return s(!i.f.call(e,t),e[t])}},8006:(e,t,n)=>{var r=n(6324),i=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var r=n(6656),i=n(7908),s=n(6200),o=n(8544),a=s("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},6324:(e,t,n)=>{var r=n(6656),i=n(5656),s=n(1318).indexOf,o=n(3501);e.exports=function(e,t){var n,a=i(e),l=0,u=[];for(n in a)!r(o,n)&&r(a,n)&&u.push(n);for(;t.length>l;)r(a,n=t[l++])&&(~s(u,n)||u.push(n));return u}},1956:(e,t,n)=>{var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var r=n(9670),i=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,s){return r(n),i(s),t?e.call(n,s):n.__proto__=s,n}}():void 0)},3887:(e,t,n)=>{var r=n(5005),i=n(8006),s=n(5181),o=n(9670);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=s.f;return n?t.concat(n(e)):t}},857:(e,t,n)=>{var r=n(7854);e.exports=r},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:(e,t,n)=>{var r=n(9670),i=n(111),s=n(8523);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=s.f(e);return(0,n.resolve)(t),n.promise}},2248:(e,t,n)=>{var r=n(1320);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},1320:(e,t,n)=>{var r=n(7854),i=n(8880),s=n(6656),o=n(3505),a=n(2788),l=n(9909),u=l.get,c=l.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var l=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||s(n,"name")||i(n,"name",t),c(n).source=h.join("string"==typeof t?t:"")),e!==r?(l?!d&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n)):u?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},7651:(e,t,n)=>{var r=n(4326),i=n(2261);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var s=n.call(e,t);if("object"!=typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},2261:(e,t,n)=>{"use strict";var r,i,s=n(7066),o=n(2999),a=RegExp.prototype.exec,l=String.prototype.replace,u=a,c=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),h=o.UNSUPPORTED_Y||o.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(c||d||h)&&(u=function(e){var t,n,r,i,o=this,u=h&&o.sticky,f=s.call(o),p=o.source,m=0,g=e;return u&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),g=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),n=new RegExp("^(?:"+p+")",f)),d&&(n=new RegExp("^"+p+"$(?!\\s)",f)),c&&(t=o.lastIndex),r=a.call(u?n:o,g),u?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:c&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),d&&r&&r.length>1&&l.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=u},7066:(e,t,n)=>{"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:(e,t,n)=>{"use strict";var r=n(7293);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},1150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},3505:(e,t,n)=>{var r=n(7854),i=n(8880);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},6340:(e,t,n)=>{"use strict";var r=n(5005),i=n(3070),s=n(5112),o=n(9781),a=s("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var r=n(3070).f,i=n(6656),s=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(2309),i=n(9711),s=r("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},5465:(e,t,n)=>{var r=n(7854),i=n(3505),s="__core-js_shared__",o=r[s]||i(s,{});e.exports=o},2309:(e,t,n)=>{var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},6707:(e,t,n)=>{var r=n(9670),i=n(3099),s=n(5112)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[s])?t:i(n)}},8710:(e,t,n)=>{var r=n(9958),i=n(4488),s=function(e){return function(t,n){var s,o,a=String(i(t)),l=r(n),u=a.length;return l<0||l>=u?e?"":void 0:(s=a.charCodeAt(l))<55296||s>56319||l+1===u||(o=a.charCodeAt(l+1))<56320||o>57343?e?a.charAt(l):s:e?a.slice(l,l+2):o-56320+(s-55296<<10)+65536}};e.exports={codeAt:s(!1),charAt:s(!0)}},6091:(e,t,n)=>{var r=n(7293),i=n(1361);e.exports=function(e){return r((function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e}))}},3111:(e,t,n)=>{var r=n(4488),i="["+n(1361)+"]",s=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),a=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:a(1),end:a(2),trim:a(3)}},261:(e,t,n)=>{var r,i,s,o=n(7854),a=n(7293),l=n(4326),u=n(9974),c=n(490),h=n(317),d=n(6833),f=o.location,p=o.setImmediate,m=o.clearImmediate,g=o.process,v=o.MessageChannel,y=o.Dispatch,w=0,b={},_="onreadystatechange",E=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},k=function(e){return function(){E(e)}},I=function(e){E(e.data)},S=function(e){o.postMessage(e+"",f.protocol+"//"+f.host)};p&&m||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++w]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(w),w},m=function(e){delete b[e]},"process"==l(g)?r=function(e){g.nextTick(k(e))}:y&&y.now?r=function(e){y.now(k(e))}:v&&!d?(s=(i=new v).port2,i.port1.onmessage=I,r=u(s.postMessage,s,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||a(S)||"file:"===f.protocol?r=_ in h("script")?function(e){c.appendChild(h("script")).onreadystatechange=function(){c.removeChild(this),E(e)}}:function(e){setTimeout(k(e),0)}:(r=S,o.addEventListener("message",I,!1))),e.exports={set:p,clear:m}},1400:(e,t,n)=>{var r=n(9958),i=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):s(n,t)}},5656:(e,t,n)=>{var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9958:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:(e,t,n)=>{var r=n(9958),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(4488);e.exports=function(e){return Object(r(e))}},7593:(e,t,n)=>{var r=n(111);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},1694:(e,t,n)=>{var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},9711:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},3307:(e,t,n)=>{var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(e,t,n)=>{var r=n(7854),i=n(2309),s=n(6656),o=n(9711),a=n(133),l=n(3307),u=i("wks"),c=r.Symbol,h=l?c:c&&c.withoutSetter||o;e.exports=function(e){return s(u,e)||(a&&s(c,e)?u[e]=c[e]:u[e]=h("Symbol."+e)),u[e]}},1361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},6992:(e,t,n)=>{"use strict";var r=n(5656),i=n(1223),s=n(7497),o=n(9909),a=n(654),l="Array Iterator",u=o.set,c=o.getterFor(l);e.exports=a(Array,"Array",(function(e,t){u(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},2707:(e,t,n)=>{"use strict";var r=n(2109),i=n(3099),s=n(7908),o=n(7293),a=n(9341),l=[],u=l.sort,c=o((function(){l.sort(void 0)})),h=o((function(){l.sort(null)})),d=a("sort");r({target:"Array",proto:!0,forced:c||!h||!d},{sort:function(e){return void 0===e?u.call(s(this)):u.call(s(this),i(e))}})},8674:(e,t,n)=>{"use strict";var r,i,s,o,a=n(2109),l=n(1913),u=n(7854),c=n(5005),h=n(3366),d=n(1320),f=n(2248),p=n(8003),m=n(6340),g=n(111),v=n(3099),y=n(5787),w=n(4326),b=n(2788),_=n(408),E=n(7072),k=n(6707),I=n(261).set,S=n(5948),T=n(9478),x=n(842),N=n(8523),C=n(2534),A=n(9909),R=n(4705),O=n(5112),P=n(7392),D=O("species"),L="Promise",M=A.get,U=A.set,F=A.getterFor(L),j=h,V=u.TypeError,q=u.document,z=u.process,B=c("fetch"),$=N.f,W=$,H="process"==w(z),K=!!(q&&q.createEvent&&u.dispatchEvent),G="unhandledrejection",Q=R(L,(function(){if(!(b(j)!==String(j))){if(66===P)return!0;if(!H&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!j.prototype.finally)return!0;if(P>=51&&/native code/.test(j))return!1;var e=j.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[D]=t,!(e.then((function(){}))instanceof t)})),J=Q||!E((function(e){j.all(e).catch((function(){}))})),Y=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},X=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;S((function(){for(var i=t.value,s=1==t.state,o=0;r.length>o;){var a,l,u,c=r[o++],h=s?c.ok:c.fail,d=c.resolve,f=c.reject,p=c.domain;try{h?(s||(2===t.rejection&&ne(e,t),t.rejection=1),!0===h?a=i:(p&&p.enter(),a=h(i),p&&(p.exit(),u=!0)),a===c.promise?f(V("Promise-chain cycle")):(l=Y(a))?l.call(a,d,f):d(a)):f(i)}catch(e){p&&!u&&p.exit(),f(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ee(e,t)}))}},Z=function(e,t,n){var r,i;K?((r=q.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},(i=u["on"+e])?i(r):e===G&&x("Unhandled promise rejection",n)},ee=function(e,t){I.call(u,(function(){var n,r=t.value;if(te(t)&&(n=C((function(){H?z.emit("unhandledRejection",r,e):Z(G,e,r)})),t.rejection=H||te(t)?2:1,n.error))throw n.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e,t){I.call(u,(function(){H?z.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},re=function(e,t,n,r){return function(i){e(t,n,i,r)}},ie=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,X(e,t,!0))},se=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw V("Promise can't be resolved itself");var i=Y(n);i?S((function(){var r={done:!1};try{i.call(n,re(se,e,r,t),re(ie,e,r,t))}catch(n){ie(e,r,n,t)}})):(t.value=n,t.state=1,X(e,t,!1))}catch(n){ie(e,{done:!1},n,t)}}};Q&&(j=function(e){y(this,j,L),v(e),r.call(this);var t=M(this);try{e(re(se,this,t),re(ie,this,t))}catch(e){ie(this,t,e)}},(r=function(e){U(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(j.prototype,{then:function(e,t){var n=F(this),r=$(k(this,j));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=H?z.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&X(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=M(e);this.promise=e,this.resolve=re(se,e,t),this.reject=re(ie,e,t)},N.f=$=function(e){return e===j||e===s?new i(e):W(e)},l||"function"!=typeof h||(o=h.prototype.then,d(h.prototype,"then",(function(e,t){var n=this;return new j((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof B&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return T(j,B.apply(u,arguments))}}))),a({global:!0,wrap:!0,forced:Q},{Promise:j}),p(j,L,!1,!0),m(L),s=c(L),a({target:L,stat:!0,forced:Q},{reject:function(e){var t=$(this);return t.reject.call(void 0,e),t.promise}}),a({target:L,stat:!0,forced:l||Q},{resolve:function(e){return T(l&&this===s?j:this,e)}}),a({target:L,stat:!0,forced:J},{all:function(e){var t=this,n=$(t),r=n.resolve,i=n.reject,s=C((function(){var n=v(t.resolve),s=[],o=0,a=1;_(e,(function(e){var l=o++,u=!1;s.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,s[l]=e,--a||r(s))}),i)})),--a||r(s)}));return s.error&&i(s.value),n.promise},race:function(e){var t=this,n=$(t),r=n.reject,i=C((function(){var i=v(t.resolve);_(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},4916:(e,t,n)=>{"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},9714:(e,t,n)=>{"use strict";var r=n(1320),i=n(9670),s=n(7293),o=n(7066),a="toString",l=RegExp.prototype,u=l.toString,c=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=u.name!=a;(c||h)&&r(RegExp.prototype,a,(function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in l)?o.call(e):n)}),{unsafe:!0})},2023:(e,t,n)=>{"use strict";var r=n(2109),i=n(3929),s=n(4488);r({target:"String",proto:!0,forced:!n(4964)("includes")},{includes:function(e){return!!~String(s(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},5306:(e,t,n)=>{"use strict";var r=n(7007),i=n(9670),s=n(7908),o=n(7466),a=n(9958),l=n(4488),u=n(1530),c=n(7651),h=Math.max,d=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,y=g?"$":"$0";return[function(n,r){var i=l(this),s=null==n?void 0:n[e];return void 0!==s?s.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!g&&v||"string"==typeof r&&-1===r.indexOf(y)){var s=n(t,e,this,r);if(s.done)return s.value}var l=i(e),f=String(this),p="function"==typeof r;p||(r=String(r));var m=l.global;if(m){var b=l.unicode;l.lastIndex=0}for(var _=[];;){var E=c(l,f);if(null===E)break;if(_.push(E),!m)break;""===String(E[0])&&(l.lastIndex=u(f,o(l.lastIndex),b))}for(var k,I="",S=0,T=0;T<_.length;T++){E=_[T];for(var x=String(E[0]),N=h(d(a(E.index),f.length),0),C=[],A=1;A<E.length;A++)C.push(void 0===(k=E[A])?k:String(k));var R=E.groups;if(p){var O=[x].concat(C,N,f);void 0!==R&&O.push(R);var P=String(r.apply(void 0,O))}else P=w(x,f,N,C,R,r);N>=S&&(I+=f.slice(S,N)+P,S=N+x.length)}return I+f.slice(S)}];function w(e,n,r,i,o,a){var l=r+e.length,u=i.length,c=m;return void 0!==o&&(o=s(o),c=p),t.call(a,c,(function(t,s){var a;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":a=o[s.slice(1,-1)];break;default:var c=+s;if(0===c)return t;if(c>u){var h=f(c/10);return 0===h?t:h<=u?void 0===i[h-1]?s.charAt(1):i[h-1]+s.charAt(1):t}a=i[c-1]}return void 0===a?"":a}))}}))},4765:(e,t,n)=>{"use strict";var r=n(7007),i=n(9670),s=n(4488),o=n(1150),a=n(7651);r("search",1,(function(e,t,n){return[function(t){var n=s(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var s=i(e),l=String(this),u=s.lastIndex;o(u,0)||(s.lastIndex=0);var c=a(s,l);return o(s.lastIndex,u)||(s.lastIndex=u),null===c?-1:c.index}]}))},3123:(e,t,n)=>{"use strict";var r=n(7007),i=n(7850),s=n(9670),o=n(4488),a=n(6707),l=n(1530),u=n(7466),c=n(7651),h=n(2261),d=n(7293),f=[].push,p=Math.min,m=4294967295,g=!d((function(){return!RegExp(m,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(o(this)),s=void 0===n?m:n>>>0;if(0===s)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,s);for(var a,l,u,c=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,g=new RegExp(e.source,d+"g");(a=h.call(g,r))&&!((l=g.lastIndex)>p&&(c.push(r.slice(p,a.index)),a.length>1&&a.index<r.length&&f.apply(c,a.slice(1)),u=a[0].length,p=l,c.length>=s));)g.lastIndex===a.index&&g.lastIndex++;return p===r.length?!u&&g.test("")||c.push(""):c.push(r.slice(p)),c.length>s?c.slice(0,s):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=o(this),s=null==t?void 0:t[e];return void 0!==s?s.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var h=s(e),d=String(this),f=a(h,RegExp),v=h.unicode,y=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(g?"y":"g"),w=new f(g?h:"^(?:"+h.source+")",y),b=void 0===i?m:i>>>0;if(0===b)return[];if(0===d.length)return null===c(w,d)?[d]:[];for(var _=0,E=0,k=[];E<d.length;){w.lastIndex=g?E:0;var I,S=c(w,g?d:d.slice(E));if(null===S||(I=p(u(w.lastIndex+(g?0:E)),d.length))===_)E=l(d,E,v);else{if(k.push(d.slice(_,E)),k.length===b)return k;for(var T=1;T<=S.length-1;T++)if(k.push(S[T]),k.length===b)return k;E=_=I}}return k.push(d.slice(_)),k}]}),!g)},3210:(e,t,n)=>{"use strict";var r=n(2109),i=n(3111).trim;r({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return i(this)}})},3948:(e,t,n)=>{var r=n(7854),i=n(8324),s=n(6992),o=n(8880),a=n(5112),l=a("iterator"),u=a("toStringTag"),c=s.values;for(var h in i){var d=r[h],f=d&&d.prototype;if(f){if(f[l]!==c)try{o(f,l,c)}catch(e){f[l]=c}if(f[u]||o(f,u,h),i[h])for(var p in s)if(f[p]!==s[p])try{o(f,p,s[p])}catch(e){f[p]=s[p]}}}},8679:(e,t,n)=>{"use strict";var r=n(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=c(n);h&&(o=o.concat(h(n)));for(var a=l(t),m=l(n),g=0;g<o.length;++g){var v=o[g];if(!(s[v]||r&&r[v]||m&&m[v]||a&&a[v])){var y=d(n,v);try{u(t,v,y)}catch(e){}}}}return t}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var o,a,l=i(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(l[c]=o[c]);if(t){a=t(o);for(var h=0;h<a.length;h++)r.call(o,a[h])&&(l[a[h]]=o[a[h]])}}return l}},2703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9359:(e,t,n)=>{"use strict";var r,i=n(7294),s=(r=i)&&"object"==typeof r&&"default"in r?r.default:r,o=new(n(3451)),a=o.getBrowser(),l=(o.getCPU(),o.getDevice()),u=o.getEngine(),c=o.getOS(),h=o.getUA(),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t},f=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},p=function(e){var t=f();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var I="mobile",S="tablet",T="smarttv",x="console",N="wearable",C=void 0,A={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},R={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},O={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},P=function(e,t,n,r){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{vendor:d(t.vendor),model:d(t.model),os:d(n.name),osVersion:d(n.version),ua:d(r)})},D=function(e){switch(e){case I:return{isMobile:!0};case S:return{isTablet:!0};case T:return{isSmartTV:!0};case x:return{isConsole:!0};case N:return{isWearable:!0};case C:return{isBrowser:!0};default:return O}}(l.type);var L,M=function(){return"string"==typeof h&&-1!==h.indexOf("Edg/")},U=function(){return l.type===C},F=function(){return a.name===A.Edge},j=function(){return p("iPad")},V=l.type===T,q=l.type===x,z=l.type===N,B=a.name===A.MobileSafari||j(),$=a.name===A.Chromium,W=function(){switch(l.type){case I:case S:return!0;default:return!1}}()||j(),H=l.type===I,K=l.type===S||j(),G=U(),Q=U(),J=c.name===R.Android,Y=c.name===R.WindowsPhone,X=c.name===R.IOS||j(),Z=a.name===A.Chrome,ee=a.name===A.Firefox,te=a.name===A.Safari||a.name===A.MobileSafari,ne=a.name===A.Opera,re=a.name===A.InternetExplorer||a.name===A.Ie,ie=d(c.version),se=d(c.name),oe=d(a.version),ae=d(a.major),le=d(a.name),ue=d(l.vendor),ce=d(l.model),he=d(u.name),de=d(u.version),fe=d(h),pe=F()||M(),me=a.name===A.Yandex,ge=d(l.type,"browser"),ve=(L=f())&&(/iPad|iPhone|iPod/.test(L.platform)||"MacIntel"===L.platform&&L.maxTouchPoints>1)&&!window.MSStream,ye=j(),we=p("iPhone"),be=p("iPod"),_e=function(){var e=f(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)}(),Ee=M(),ke=F()&&!M(),Ie=c.name===R.Windows,Se=c.name===R.MAC_OS,Te=a.name===A.MIUI,xe=a.name===A.SamsungBrowser;t.tq=W,t.Em=K},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(7418),s=n(3840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var a=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,w);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,w);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,w);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,k=60106,I=60107,S=60108,T=60114,x=60109,N=60110,C=60112,A=60113,R=60120,O=60115,P=60116,D=60121,L=60128,M=60129,U=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var j=Symbol.for;E=j("react.element"),k=j("react.portal"),I=j("react.fragment"),S=j("react.strict_mode"),T=j("react.profiler"),x=j("react.provider"),N=j("react.context"),C=j("react.forward_ref"),A=j("react.suspense"),R=j("react.suspense_list"),O=j("react.memo"),P=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),U=j("react.offscreen"),F=j("react.legacy_hidden")}var V,q="function"==typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var $=!1;function W(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case I:return"Fragment";case k:return"Portal";case T:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return K(e.type);case D:return K(e._render);case P:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ue(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,ve=(ge=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var we={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||we.hasOwnProperty(e)&&we[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(we).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),we[t]=we[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ne=null,Ce=null;function Ae(e){if(e=ri(e)){if("function"!=typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=si(t),xe(e.stateNode,e.type,t))}}function Re(e){Ne?Ce?Ce.push(e):Ce=[e]:Ne=e}function Oe(){if(Ne){var e=Ne,t=Ce;if(Ce=Ne=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,Ue=!1,Fe=!1;function je(){null===Ne&&null===Ce||(Le(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(h)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){qe=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ge){qe=!1}function Be(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var $e=!1,We=null,He=!1,Ke=null,Ge={onError:function(e){$e=!0,We=e}};function Qe(e,t,n,r,i,s,o,a,l){$e=!1,We=null,Be.apply(Ge,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Je(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xe(i),e;if(s===r)return Xe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,st=!1,ot=[],at=null,lt=null,ut=null,ct=new Map,ht=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function gt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=pt(t,n,r,i,s),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ni(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){s.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function wt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(st=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&yt(at)&&(at=null),null!==lt&&yt(lt)&&(lt=null),null!==ut&&yt(ut)&&(ut=null),ct.forEach(wt),ht.forEach(wt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bt)))}function Et(e){function t(t){return _t(t,e)}if(0<ot.length){_t(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&_t(at,e),null!==lt&&_t(lt,e),null!==ut&&_t(ut,e),ct.forEach(t),ht.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},St={},Tt={};function xt(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Nt=xt("animationend"),Ct=xt("animationiteration"),At=xt("animationstart"),Rt=xt("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",Nt,"animationEnd",Ct,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),u(i,[r])}}(0,s.unstable_now)();var Mt=8;function Ut(e){if(0!=(1&e))return Mt=15,1;if(0!=(2&e))return Mt=14,2;if(0!=(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!=(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!=(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!=(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!=(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!=(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Mt=15;else if(0!==(s=134217727&n)){var l=s&~o;0!==l?(r=Ut(l),i=Mt):0!==(a&=s)&&(r=Ut(a),i=Mt)}else 0!==(s=n&~o)?(r=Ut(s),i=Mt):0!==a&&(r=Ut(a),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-$t(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Ut(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-$t(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Vt(10,t):e;case 10:return 0===(e=qt(192&~t))?Vt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-$t(t)]=n}var $t=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Kt=s.unstable_UserBlockingPriority,Gt=s.unstable_runWithPriority,Qt=!0;function Jt(e,t,n,r){Ue||Le();var i=Xt,s=Ue;Ue=!0;try{De(i,e,t,n,r)}finally{(Ue=s)||je()}}function Yt(e,t,n,r){Gt(Kt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0==(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var s=Zt(e,t,n,r);if(null===s)i&&mt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=pt(s,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=gt(at,e,t,n,r,i),!0;case"dragenter":return lt=gt(lt,e,t,n,r,i),!0;case"mouseover":return ut=gt(ut,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ct.set(s,gt(ct.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ht.set(s,gt(ht.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;mt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var s=Je(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Ye(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function sn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function ln(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,hn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(dn),pn=i({},dn,{view:0,detail:0}),mn=ln(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(un=e.screenX-hn.screenX,cn=e.screenY-hn.screenY):cn=un=0,hn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=ln(gn),yn=ln(i({},gn,{dataTransfer:0})),wn=ln(i({},pn,{relatedTarget:0})),bn=ln(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=ln(_n),kn=ln(i({},dn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Nn(){return xn}var Cn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?sn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=ln(Cn),Rn=ln(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Pn=ln(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=ln(Dn),Mn=[9,13,27,32],Un=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var jn=h&&"TextEvent"in window&&!Fn,Vn=h&&(!Un||Fn&&8<Fn&&11>=Fn),qn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Re(r),0<(t=Ur(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Jn=null;function Yn(e){Cr(e,0)}function Xn(e){if(Y(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"==typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",sr),Jn=Qn=null)}function sr(e){if("value"===e.propertyName&&Xn(Jn)){var t=[];if(Gn(t,Jn,e,Te(e)),e=Yn,Ue)e(t);else{Ue=!0;try{Pe(e,t)}finally{Ue=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Jn=n,(Qn=t).attachEvent("onpropertychange",sr)):"focusout"===e&&ir()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Jn)}function lr(e,t){if("click"===e)return Xn(t)}function ur(e,t){if("input"===e||"change"===e)return Xn(t)}var cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},hr=Object.prototype.hasOwnProperty;function dr(e,t){if(cr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,wr=null,br=null,_r=null,Er=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==wr||wr!==X(r)||("selectionStart"in(r=wr)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&dr(_r,r)||(_r=r,0<(r=Ur(br,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Ir.length;Sr++)Pt.set(Ir[Sr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if(Qe.apply(this,arguments),$e){if(!$e)throw Error(o(198));var c=We;$e=!1,We=null,He||(He=!0,Ke=c)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Nr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Nr(i,a,u),s=l}}}if(He)throw e=Ke,He=!1,Ke=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,a.forEach((function(t){xr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&xr.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=oi(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),Dr(s,e,i,t),o.add(a))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ni(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,je()}}((function(){var r=s,i=Te(n),o=[];e:{var a=Ot.get(e);if(void 0!==a){var l=fn,u=e;switch(e){case"keypress":if(0===sn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":u="focus",l=wn;break;case"focusout":u="blur",l=wn;break;case"beforeblur":case"afterblur":l=wn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Nt:case Ct:case At:l=bn;break;case Rt:l=Pn;break;case"scroll":l=mn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ve(p,d))&&c.push(Mr(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!ni(u)&&!u[ei])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ni(u):null)&&(u!==(h=Je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=vn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Rn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ii(l),f=null==u?a:ii(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,ni(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Fr(f))p++;for(f=0,m=d;m;m=Fr(m))f++;for(;0<p-f;)c=Fr(c),p--;for(;0<f-p;)d=Fr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Fr(c),d=Fr(d)}c=null}else c=null;null!==l&&jr(o,a,l,c,!1),null!==u&&null!==h&&jr(o,h,u,c,!0)}if("select"===(l=(a=r?ii(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Zn;else if(Kn(a))if(er)g=ur;else{g=ar;var v=or}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=lr);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ie(a,"number",a.value)),v=r?ii(r):window,e){case"focusin":(Kn(v)||"true"===v.contentEditable)&&(wr=v,br=r,_r=null);break;case"focusout":_r=br=wr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,kr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Un)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Wn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Wn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(v=Ur(r,w)).length&&(w=new kn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=$n(n))&&(w.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(zn=!0,qn);case"textInput":return(e=t.data)===qn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Un&&Bn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Cr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ve(e,n))&&r.unshift(Mr(e,s,i)),null!=(s=Ve(e,t))&&r.push(Mr(e,s,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ve(n,s))&&o.unshift(Mr(n,l,a)):i||null!=(l=Ve(n,s))&&o.push(Mr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var qr=null,zr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function $r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"==typeof setTimeout?setTimeout:void 0,Hr="function"==typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var Yr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Yr,Zr="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Xr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function si(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ai=[],li=-1;function ui(e){return{current:e}}function ci(e){0>li||(e.current=ai[li],ai[li]=null,li--)}function hi(e,t){li++,ai[li]=e.current,e.current=t}var di={},fi=ui(di),pi=ui(!1),mi=di;function gi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function vi(e){return null!=(e=e.childContextTypes)}function yi(){ci(pi),ci(fi)}function wi(e,t,n){if(fi.current!==di)throw Error(o(168));hi(fi,t),hi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(o(108,K(t)||"Unknown",s));return i({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,mi=fi.current,hi(fi,e),hi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(fi),hi(fi,e)):ci(pi),hi(pi,n)}var ki=null,Ii=null,Si=s.unstable_runWithPriority,Ti=s.unstable_scheduleCallback,xi=s.unstable_cancelCallback,Ni=s.unstable_shouldYield,Ci=s.unstable_requestPaint,Ai=s.unstable_now,Ri=s.unstable_getCurrentPriorityLevel,Oi=s.unstable_ImmediatePriority,Pi=s.unstable_UserBlockingPriority,Di=s.unstable_NormalPriority,Li=s.unstable_LowPriority,Mi=s.unstable_IdlePriority,Ui={},Fi=void 0!==Ci?Ci:function(){},ji=null,Vi=null,qi=!1,zi=Ai(),Bi=1e4>zi?Ai:function(){return Ai()-zi};function $i(){switch(Ri()){case Oi:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Si(e,t)}function Ki(e,t,n){return e=Wi(e),Ti(e,t,n)}function Gi(){if(null!==Vi){var e=Vi;Vi=null,xi(e)}Qi()}function Qi(){if(!qi&&null!==ji){qi=!0;var e=0;try{var t=ji;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(t){throw null!==ji&&(ji=ji.slice(e+1)),Ti(Oi,Gi),t}finally{qi=!1}}}var Ji=_.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ui(null),Zi=null,es=null,ts=null;function ns(){ts=es=Zi=null}function rs(e){var t=Xi.current;ci(Xi),e.type._context._currentValue=t}function is(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ss(e,t){Zi=e,ts=es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Uo=!0),e.firstContext=null)}function os(e,t){if(ts!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ts=e,t=1073741823),t={context:e,observedBits:t,next:null},null===es){if(null===Zi)throw Error(o(308));es=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else es=es.next=t;return e._currentValue}var as=!1;function ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function us(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hs(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ds(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fs(e,t,n,r){var s=e.updateQueue;as=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=u)}}if(null!==o){for(d=s.baseState,a=0,h=c=u=null;;){l=o.lane;var f=o.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=m.payload)?p.call(f,d,l):p))break e;d=i({},d,l);break e;case 2:as=!0}}null!==o.callback&&(e.flags|=32,null===(l=s.effects)?s.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,u=d):h=h.next=f,a|=l;if(null===(o=o.next)){if(null===(l=s.shared.pending))break;o=l.next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}null===h&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,qa|=a,e.lanes=a,e.memoizedState=d}}function ps(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var ms=(new r.Component).refs;function gs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vs={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dl(),i=fl(e),s=cs(r,i);s.payload=t,null!=n&&(s.callback=n),hs(e,s),pl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dl(),i=fl(e),s=cs(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),hs(e,s),pl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dl(),r=fl(e),i=cs(n,r);i.tag=2,null!=t&&(i.callback=t),hs(e,i),pl(e,r,n)}};function ys(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,s))}function ws(e,t,n){var r=!1,i=di,s=t.contextType;return"object"==typeof s&&null!==s?s=os(s):(i=vi(t)?mi:fi.current,s=(r=null!=(r=t.contextTypes))?gi(e,i):di),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function bs(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vs.enqueueReplaceState(t,t.state,null)}function _s(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ms,ls(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=os(s):(s=vi(t)?mi:fi.current,i.context=gi(e,s)),fs(e,n,i,r),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(gs(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vs.enqueueReplaceState(i,i.state,null),fs(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Es=Array.isArray;function ks(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ms&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Is(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ss(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ks(e,t,n),r.return=e,r):((r=Kl(n.type,n.key,n.props,null,e.mode,r)).ref=ks(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Gl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Jl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Kl(t.type,t.key,t.props,null,e.mode,n)).ref=ks(e,null,t),n.return=e,n;case k:return(t=Yl(t,e.mode,n)).return=e,t}if(Es(t)||z(t))return(t=Gl(t,e.mode,n,null)).return=e,t;Is(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===I?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null}if(Es(n)||z(n))return null!==i?null:h(e,t,n,r,null);Is(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===I?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Es(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);Is(t,r)}return null}function m(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,a,l,u){var c=z(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,u);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?c=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(a=s(y,a,g),null===h?c=y:h.sibling=y,h=y);return c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,s,l){var u="object"==typeof s&&null!==s&&s.type===I&&null===s.key;u&&(s=s.props.children);var c="object"==typeof s&&null!==s;if(c)switch(s.$$typeof){case E:e:{for(c=s.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(s.type===I){n(e,u.sibling),(r=i(u,s.props.children)).return=e,e=r;break e}}else if(u.elementType===s.type){n(e,u.sibling),(r=i(u,s.props)).ref=ks(e,u,s),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}s.type===I?((r=Gl(s.props.children,e.mode,l,s.key)).return=e,e=r):((l=Kl(s.type,s.key,s.props,null,e.mode,l)).ref=ks(e,r,s),l.return=e,e=l)}return a(e);case k:e:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yl(s,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Jl(s,e.mode,l)).return=e,e=r),a(e);if(Es(s))return m(e,r,s,l);if(z(s))return g(e,r,s,l);if(c&&Is(e,s),void 0===s&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Ts=Ss(!0),xs=Ss(!1),Ns={},Cs=ui(Ns),As=ui(Ns),Rs=ui(Ns);function Os(e){if(e===Ns)throw Error(o(174));return e}function Ps(e,t){switch(hi(Rs,t),hi(As,e),hi(Cs,Ns),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Cs),hi(Cs,t)}function Ds(){ci(Cs),ci(As),ci(Rs)}function Ls(e){Os(Rs.current);var t=Os(Cs.current),n=pe(t,e.type);t!==n&&(hi(As,e),hi(Cs,n))}function Ms(e){As.current===e&&(ci(Cs),ci(As))}var Us=ui(0);function Fs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var js=null,Vs=null,qs=!1;function zs(e,t){var n=$l(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Bs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function $s(e){if(qs){var t=Vs;if(t){var n=t;if(!Bs(e,t)){if(!(t=Gr(n.nextSibling))||!Bs(e,t))return e.flags=-1025&e.flags|2,qs=!1,void(js=e);zs(js,n)}js=e,Vs=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,qs=!1,js=e}}function Ws(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;js=e}function Hs(e){if(e!==js)return!1;if(!qs)return Ws(e),qs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!$r(t,e.memoizedProps))for(t=Vs;t;)zs(e,t),t=Gr(t.nextSibling);if(Ws(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vs=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vs=null}}else Vs=js?Gr(e.stateNode.nextSibling):null;return!0}function Ks(){Vs=js=null,qs=!1}var Gs=[];function Qs(){for(var e=0;e<Gs.length;e++)Gs[e]._workInProgressVersionPrimary=null;Gs.length=0}var Js=_.ReactCurrentDispatcher,Ys=_.ReactCurrentBatchConfig,Xs=0,Zs=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function so(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,s){if(Xs=s,Zs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Js.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){s=0;do{if(ro=!1,!(25>s))throw Error(o(301));s+=1,to=eo=null,t.updateQueue=null,Js.current=Lo,e=n(r,i)}while(ro)}if(Js.current=Oo,t=null!==eo&&null!==eo.next,Xs=0,to=eo=Zs=null,no=!1,t)throw Error(o(300));return e}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Zs.memoizedState=to=e:to=to.next=e,to}function lo(){if(null===eo){var e=Zs.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Zs.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Zs.memoizedState=to=e:to=to.next=e}return to}function uo(e,t){return"function"==typeof t?t(e):t}function co(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=s=null,u=i;do{var c=u.lane;if((Xs&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,s=r):l=l.next=h,Zs.lanes|=c,qa|=c}u=u.next}while(null!==u&&u!==i);null===l?s=r:l.next=a,cr(r,t.memoizedState)||(Uo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ho(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);cr(s,t.memoizedState)||(Uo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xs&e)===e)&&(t._workInProgressVersionPrimary=r,Gs.push(t))),e)return n(t._source);throw Gs.push(t),Error(o(350))}function po(e,t,n,r){var i=Pa;if(null===i)throw Error(o(349));var s=t._getVersion,a=s(t._source),l=Js.current,u=l.useState((function(){return fo(i,t,n)})),c=u[1],h=u[0];u=to;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var g=Zs;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=s(t._source);if(!cr(a,e)){e=n(t._source),cr(h,e)||(c(e),e=fl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-$t(o),u=1<<l;r[l]|=e,o&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),cr(p,n)&&cr(m,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:h}).dispatch=c=Ro.bind(null,Zs,e),u.queue=e,u.baseQueue=null,h=fo(i,t,n),u.memoizedState=u.baseState=h),h}function mo(e,t,n){return po(lo(),e,t,n)}function go(e){var t=ao();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e}).dispatch=Ro.bind(null,Zs,e),[t.memoizedState,e]}function vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zs.updateQueue)?(t={lastEffect:null},Zs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},ao().memoizedState=e}function wo(){return lo().memoizedState}function bo(e,t,n,r){var i=ao();Zs.flags|=e,i.memoizedState=vo(1|t,n,void 0,void 0===r?null:r)}function _o(e,t,n,r){var i=lo();r=void 0===r?null:r;var s=void 0;if(null!==eo){var o=eo.memoizedState;if(s=o.destroy,null!==r&&so(r,o.deps))return void vo(t,n,s,r)}Zs.flags|=e,i.memoizedState=vo(1|t,n,s,r)}function Eo(e,t){return bo(516,4,e,t)}function ko(e,t){return _o(516,4,e,t)}function Io(e,t){return _o(4,2,e,t)}function So(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!=n?n.concat([e]):null,_o(4,2,So.bind(null,t,e),n)}function xo(){}function No(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&so(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&so(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=$i();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Ys.transition;Ys.transition=1;try{e(!1),t()}finally{Ys.transition=n}}))}function Ro(e,t,n){var r=dl(),i=fl(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Zs||null!==o&&o===Zs)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,cr(l,a))return}catch(e){}pl(e,i,r)}}var Oo={readContext:os,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:os,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:os,useEffect:Eo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Zs,e),[r.memoizedState,e]},useRef:yo,useState:go,useDebugValue:xo,useDeferredValue:function(e){var t=go(e),n=t[0],r=t[1];return Eo((function(){var t=Ys.transition;Ys.transition=1;try{r(e)}finally{Ys.transition=t}}),[e]),n},useTransition:function(){var e=go(!1),t=e[0];return yo(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ao();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(qs){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=go(t)[1];return 0==(2&Zs.mode)&&(Zs.flags|=516,vo(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return go(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:os,useCallback:No,useContext:os,useEffect:ko,useImperativeHandle:To,useLayoutEffect:Io,useMemo:Co,useReducer:co,useRef:wo,useState:function(){return co(uo)},useDebugValue:xo,useDeferredValue:function(e){var t=co(uo),n=t[0],r=t[1];return ko((function(){var t=Ys.transition;Ys.transition=1;try{r(e)}finally{Ys.transition=t}}),[e]),n},useTransition:function(){var e=co(uo)[0];return[wo().current,e]},useMutableSource:mo,useOpaqueIdentifier:function(){return co(uo)[0]},unstable_isNewReconciler:!1},Lo={readContext:os,useCallback:No,useContext:os,useEffect:ko,useImperativeHandle:To,useLayoutEffect:Io,useMemo:Co,useReducer:ho,useRef:wo,useState:function(){return ho(uo)},useDebugValue:xo,useDeferredValue:function(e){var t=ho(uo),n=t[0],r=t[1];return ko((function(){var t=Ys.transition;Ys.transition=1;try{r(e)}finally{Ys.transition=t}}),[e]),n},useTransition:function(){var e=ho(uo)[0];return[wo().current,e]},useMutableSource:mo,useOpaqueIdentifier:function(){return ho(uo)[0]},unstable_isNewReconciler:!1},Mo=_.ReactCurrentOwner,Uo=!1;function Fo(e,t,n,r){t.child=null===e?xs(t,null,n,r):Ts(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var s=t.ref;return ss(t,i),r=oo(e,t,n,r,s,i),null===e||Uo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,sa(e,t,i))}function Vo(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!=typeof o||Wl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kl(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,qo(e,t,o,r,i,s))}return o=e.child,0==(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?sa(e,t,s):(t.flags|=1,(e=Hl(o,r)).ref=t.ref,e.return=t,t.child=e)}function qo(e,t,n,r,i,s){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Uo=!1,0==(s&i))return t.lanes=e.lanes,sa(e,t,s);0!=(16384&e.flags)&&(Uo=!0)}return $o(e,t,n,r,s)}function zo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},El(t,n);else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},El(t,e),null;t.memoizedState={baseLanes:0},El(t,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,El(t,r);return Fo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function $o(e,t,n,r,i){var s=vi(n)?mi:fi.current;return s=gi(t,s),ss(t,i),n=oo(e,t,n,r,s,i),null===e||Uo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,sa(e,t,i))}function Wo(e,t,n,r,i){if(vi(n)){var s=!0;_i(t)}else s=!1;if(ss(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ws(t,n,r),_s(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=os(u):u=gi(t,u=vi(n)?mi:fi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==u)&&bs(t,o,r,u),as=!1;var d=t.memoizedState;o.state=d,fs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||pi.current||as?("function"==typeof c&&(gs(t,n,c,r),l=t.memoizedState),(a=as||ys(t,n,a,r,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,us(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Yi(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=os(l):l=gi(t,l=vi(n)?mi:fi.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&bs(t,o,r,l),as=!1,d=t.memoizedState,o.state=d,fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||pi.current||as?("function"==typeof f&&(gs(t,n,f,r),p=t.memoizedState),(u=as||ys(t,n,u,r,d,p,l))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,s,i)}function Ho(e,t,n,r,i,s){Bo(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&Ei(t,n,!1),sa(e,t,s);r=t.stateNode,Mo.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ts(t,e.child,null,s),t.child=Ts(t,null,a,s)):Fo(e,t,a,s),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ko(e){var t=e.stateNode;t.pendingContext?wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wi(0,t.context,!1),Ps(e,t.containerInfo)}var Go,Qo,Jo,Yo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,s=Us.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),hi(Us,1&s),null===e?(void 0!==i.fallback&&$s(t),e=i.children,s=i.fallback,o?(e=Zo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"==typeof i.unstable_expectedLoadTime?(e=Zo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Ql({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ta(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=ea(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Ql(t,i,0,null),n=Gl(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function ea(e,t,n,r){var i=e.child;return e=i.sibling,n=Hl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ta(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0==(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hl(o,a),null!==e?r=Hl(e,r):(r=Gl(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function na(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),is(e.return,t)}function ra(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function ia(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Fo(e,t,r.children,n),0!=(2&(r=Us.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&na(e,n);else if(19===e.tag)na(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Us,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ra(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ra(t,!0,n,null,s,t.lastEffect);break;case"together":ra(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function sa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qa|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function oa(e,t){if(!qs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vi(t.type)&&yi(),null;case 3:return Ds(),ci(pi),ci(fi),Qs(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Hs(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ms(t);var s=Os(Rs.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Os(Cs.current),Hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Xr]=t,r[Zr]=a,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,a),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ar("invalid",r);break;case"textarea":le(r,a),Ar("invalid",r)}for(var u in Ie(n,a),e=null,a)a.hasOwnProperty(u)&&(s=a[u],"children"===u?"string"==typeof s?r.textContent!==s&&(e=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(e=["children",""+s]):l.hasOwnProperty(u)&&null!=s&&"onScroll"===u&&Ar("scroll",r));switch(n){case"input":J(r),re(r,a,!0);break;case"textarea":J(r),ce(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===s.nodeType?s:s.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Go(e,t),t.stateNode=e,u=Se(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),s=r;break;case"iframe":case"object":case"embed":Ar("load",e),s=r;break;case"video":case"audio":for(s=0;s<Tr.length;s++)Ar(Tr[s],e);s=r;break;case"source":Ar("error",e),s=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),s=r;break;case"details":Ar("toggle",e),s=r;break;case"input":ee(e,r),s=Z(e,r),Ar("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":le(e,r),s=ae(e,r),Ar("invalid",e);break;default:s=r}Ie(n,s);var c=s;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?Ee(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ve(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"==typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Ar("scroll",e):null!=h&&b(e,a,h,u))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?oe(e,!!r.multiple,a,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Vr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));n=Os(Rs.current),Os(Cs.current),Hs(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return ci(Us),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Hs(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Us.current)?0===Fa&&(Fa=3):(0!==Fa&&3!==Fa||(Fa=4),null===Pa||0==(134217727&qa)&&0==(134217727&za)||yl(Pa,La))),(r||n)&&(t.flags|=4),null);case 4:return Ds(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return rs(t),null;case 17:return vi(t.type)&&yi(),null;case 19:if(ci(Us),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(u=r.rendering))if(a)oa(r,!1);else{if(0!==Fa||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Fs(e))){for(t.flags|=64,oa(r,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Us,1&Us.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Ha&&(t.flags|=64,a=!0,oa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Fs(u))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),oa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!qs)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Ha&&1073741824!==n&&(t.flags|=64,a=!0,oa(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Us.current,hi(Us,a?1&t|2:1&t),n):null;case 23:case 24:return kl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function la(e){switch(e.tag){case 1:vi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ds(),ci(pi),ci(fi),Qs(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ms(e),null;case 13:return ci(Us),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Us),null;case 4:return Ds(),null;case 10:return rs(e),null;case 23:case 24:return kl(),null;default:return null}}function ua(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ca(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Os(Cs.current);var o,a=null;switch(n){case"input":s=Z(e,s),r=Z(e,r),a=[];break;case"option":s=se(e,s),r=se(e,r),a=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":s=ae(e,s),r=ae(e,r),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(e.onclick=Vr)}for(h in Ie(n,r),n=null,s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var u=s[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=s?s[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Ar("scroll",e),a||u===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var ha="function"==typeof WeakMap?WeakMap:Map;function da(e,t,n){(n=cs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ja||(Ja=!0,Ya=r),ca(0,t)},n}function fa(e,t,n){(n=cs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ca(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Xa?Xa=new Set([this]):Xa.add(this),ca(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pa="function"==typeof WeakSet?WeakSet:Set;function ma(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Vl(e,t)}else t.current=null}function ga(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function va(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ul(n,e),Ml(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ps(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ps(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function ya(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function wa(e,t){if(Ii&&"function"==typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(ki,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ul(t,n);else{r=t;try{i()}catch(e){Vl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ma(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Vl(t,e)}break;case 5:ma(t);break;case 4:Sa(e,t)}}function ba(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _a(e){return 5===e.tag||3===e.tag||4===e.tag}function Ea(e){e:{for(var t=e.return;null!==t;){if(_a(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_a(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ka(e,n,t):Ia(e,n,t)}function ka(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(ka(e,t,n),e=e.sibling;null!==e;)ka(e,t,n),e=e.sibling}function Ia(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ia(e,t,n),e=e.sibling;null!==e;)Ia(e,t,n),e=e.sibling}function Sa(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,u=l;;)if(wa(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(wa(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function Ta(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];"style"===a?Ee(n,l):"dangerouslySetInnerHTML"===a?ve(n,l):"children"===a?ye(n,l):b(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?oe(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Wa=Bi(),ya(t.child,!0)),void xa(t);case 19:return void xa(t);case 17:return;case 23:case 24:return void ya(t,null!==t.memoizedState)}throw Error(o(163))}function xa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pa),t.forEach((function(t){var r=zl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Na(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ca=Math.ceil,Aa=_.ReactCurrentDispatcher,Ra=_.ReactCurrentOwner,Oa=0,Pa=null,Da=null,La=0,Ma=0,Ua=ui(0),Fa=0,ja=null,Va=0,qa=0,za=0,Ba=0,$a=null,Wa=0,Ha=1/0;function Ka(){Ha=Bi()+500}var Ga,Qa=null,Ja=!1,Ya=null,Xa=null,Za=!1,el=null,tl=90,nl=[],rl=[],il=null,sl=0,ol=null,al=-1,ll=0,ul=0,cl=null,hl=!1;function dl(){return 0!=(48&Oa)?Bi():-1!==al?al:al=Bi()}function fl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===$i()?1:2;if(0===ll&&(ll=Va),0!==Ji.transition){0!==ul&&(ul=null!==$a?$a.pendingLanes:0),e=ll;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=$i(),0!=(4&Oa)&&98===e?e=Vt(12,ll):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function pl(e,t,n){if(50<sl)throw sl=0,ol=null,Error(o(185));if(null===(e=ml(e,t)))return null;Bt(e,t,n),e===Pa&&(za|=t,4===Fa&&yl(e,La));var r=$i();1===t?0!=(8&Oa)&&0==(48&Oa)?wl(e):(gl(e,n),0===Oa&&(Ka(),Gi())):(0==(4&Oa)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),gl(e,n)),$a=e}function ml(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-$t(a),u=1<<l,c=s[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,Ut(u);var h=Mt;s[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=Ft(e,e===Pa?La:0),t=Mt,0===r)null!==n&&(n!==Ui&&xi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ui&&xi(n)}15===t?(n=wl.bind(null,e),null===ji?(ji=[n],Vi=Ti(Oi,Qi)):ji.push(n),n=Ui):14===t?n=Ki(99,wl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Ki(n,vl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vl(e){if(al=-1,ul=ll=0,0!=(48&Oa))throw Error(o(327));var t=e.callbackNode;if(Ll()&&e.callbackNode!==t)return null;var n=Ft(e,e===Pa?La:0);if(0===n)return null;var r=n,i=Oa;Oa|=16;var s=Tl();for(Pa===e&&La===r||(Ka(),Il(e,r));;)try{Cl();break}catch(t){Sl(e,t)}if(ns(),Aa.current=s,Oa=i,null!==Da?r=0:(Pa=null,La=0,r=Fa),0!=(Va&za))Il(e,0);else if(0!==r){if(2===r&&(Oa|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=jt(e))&&(r=xl(e,n))),1===r)throw t=ja,Il(e,0),yl(e,n),gl(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Ol(e);break;case 3:if(yl(e,n),(62914560&n)===n&&10<(r=Wa+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){dl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ol.bind(null,e),r);break}Ol(e);break;case 4:if(yl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-$t(n);s=1<<a,(a=r[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ca(n/1960))-n)){e.timeoutHandle=Wr(Ol.bind(null,e),n);break}Ol(e);break;case 5:Ol(e);break;default:throw Error(o(329))}}return gl(e,Bi()),e.callbackNode===t?vl.bind(null,e):null}function yl(e,t){for(t&=~Ba,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function wl(e){if(0!=(48&Oa))throw Error(o(327));if(Ll(),e===Pa&&0!=(e.expiredLanes&La)){var t=La,n=xl(e,t);0!=(Va&za)&&(n=xl(e,t=Ft(e,t)))}else n=xl(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Oa|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=jt(e))&&(n=xl(e,t))),1===n)throw n=ja,Il(e,0),yl(e,t),gl(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ol(e),gl(e,Bi()),null}function bl(e,t){var n=Oa;Oa|=1;try{return e(t)}finally{0===(Oa=n)&&(Ka(),Gi())}}function _l(e,t){var n=Oa;Oa&=-2,Oa|=8;try{return e(t)}finally{0===(Oa=n)&&(Ka(),Gi())}}function El(e,t){hi(Ua,Ma),Ma|=t,Va|=t}function kl(){Ma=Ua.current,ci(Ua)}function Il(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Da)for(n=Da.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&yi();break;case 3:Ds(),ci(pi),ci(fi),Qs();break;case 5:Ms(r);break;case 4:Ds();break;case 13:case 19:ci(Us);break;case 10:rs(r);break;case 23:case 24:kl()}n=n.return}Pa=e,Da=Hl(e.current,null),La=Ma=Va=t,Fa=0,ja=null,Ba=za=qa=0}function Sl(e,t){for(;;){var n=Da;try{if(ns(),Js.current=Oo,no){for(var r=Zs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xs=0,to=eo=Zs=null,ro=!1,Ra.current=null,null===n||null===n.return){Fa=1,ja=t,Da=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=La,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Us.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var v=new Set;v.add(u),d.updateQueue=v}else g.add(u);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=cs(-1,1);y.tag=2,hs(a,y)}a.lanes|=1;break e}l=void 0,a=t;var w=s.pingCache;if(null===w?(w=s.pingCache=new ha,l=new Set,w.set(u,l)):void 0===(l=w.get(u))&&(l=new Set,w.set(u,l)),!l.has(a)){l.add(a);var b=ql.bind(null,s,u,a);u.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((K(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fa&&(Fa=2),l=ua(l,a),d=o;do{switch(d.tag){case 3:s=l,d.flags|=4096,t&=-t,d.lanes|=t,ds(d,da(0,s,t));break e;case 1:s=l;var _=d.type,E=d.stateNode;if(0==(64&d.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Xa||!Xa.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,ds(d,fa(d,s,t));break e}}d=d.return}while(null!==d)}Rl(n)}catch(e){t=e,Da===n&&null!==n&&(Da=n=n.return);continue}break}}function Tl(){var e=Aa.current;return Aa.current=Oo,null===e?Oo:e}function xl(e,t){var n=Oa;Oa|=16;var r=Tl();for(Pa===e&&La===t||Il(e,t);;)try{Nl();break}catch(t){Sl(e,t)}if(ns(),Oa=n,Aa.current=r,null!==Da)throw Error(o(261));return Pa=null,La=0,Fa}function Nl(){for(;null!==Da;)Al(Da)}function Cl(){for(;null!==Da&&!Ni();)Al(Da)}function Al(e){var t=Ga(e.alternate,e,Ma);e.memoizedProps=e.pendingProps,null===t?Rl(e):Da=t,Ra.current=null}function Rl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=aa(n,t,Ma)))return void(Da=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ma)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=la(t)))return n.flags&=2047,void(Da=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Da=t);Da=t=e}while(null!==t);0===Fa&&(Fa=5)}function Ol(e){var t=$i();return Hi(99,Pl.bind(null,e,t)),null}function Pl(e,t){do{Ll()}while(null!==el);if(0!=(48&Oa))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<s;){var u=31-$t(s),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,s&=~c}if(null!==il&&0==(24&r)&&il.has(e)&&il.delete(e),e===Pa&&(Da=Pa=null,La=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Oa,Oa|=32,Ra.current=null,qr=Qt,vr(a=gr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,s=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=a,v=null;t:for(;;){for(var y;g!==l||0!==s&&3!==g.nodeType||(d=h+s),g!==u||0!==c&&3!==g.nodeType||(f=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===a)break t;if(v===l&&++p===s&&(d=h),v===u&&++m===c&&(f=h),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;zr={focusedElem:a,selectionRange:l},Qt=!1,cl=null,hl=!1,Qa=r;do{try{Dl()}catch(e){if(null===Qa)throw Error(o(330));Vl(Qa,e),Qa=Qa.nextEffect}}while(null!==Qa);cl=null,Qa=r;do{try{for(a=e;null!==Qa;){var w=Qa.flags;if(16&w&&ye(Qa.stateNode,""),128&w){var b=Qa.alternate;if(null!==b){var _=b.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&w){case 2:Ea(Qa),Qa.flags&=-3;break;case 6:Ea(Qa),Qa.flags&=-3,Ta(Qa.alternate,Qa);break;case 1024:Qa.flags&=-1025;break;case 1028:Qa.flags&=-1025,Ta(Qa.alternate,Qa);break;case 4:Ta(Qa.alternate,Qa);break;case 8:Sa(a,l=Qa);var E=l.alternate;ba(l),null!==E&&ba(E)}Qa=Qa.nextEffect}}catch(e){if(null===Qa)throw Error(o(330));Vl(Qa,e),Qa=Qa.nextEffect}}while(null!==Qa);if(_=zr,b=gr(),w=_.focusedElem,a=_.selectionRange,b!==w&&w&&w.ownerDocument&&mr(w.ownerDocument.documentElement,w)){null!==a&&vr(w)&&(b=a.start,void 0===(_=a.end)&&(_=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(_,w.value.length)):(_=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(_=_.getSelection(),l=w.textContent.length,E=Math.min(a.start,l),a=void 0===a.end?E:Math.min(a.end,l),!_.extend&&E>a&&(l=a,a=E,E=l),l=pr(w,E),s=pr(w,a),l&&s&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==s.node||_.focusOffset!==s.offset)&&((b=b.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),E>a?(_.addRange(b),_.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),_.addRange(b))))),b=[];for(_=w;_=_.parentNode;)1===_.nodeType&&b.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<b.length;w++)(_=b[w]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Qt=!!qr,zr=qr=null,e.current=n,Qa=r;do{try{for(w=e;null!==Qa;){var k=Qa.flags;if(36&k&&va(w,Qa.alternate,Qa),128&k){b=void 0;var I=Qa.ref;if(null!==I){var S=Qa.stateNode;Qa.tag,b=S,"function"==typeof I?I(b):I.current=b}}Qa=Qa.nextEffect}}catch(e){if(null===Qa)throw Error(o(330));Vl(Qa,e),Qa=Qa.nextEffect}}while(null!==Qa);Qa=null,Fi(),Oa=i}else e.current=n;if(Za)Za=!1,el=e,tl=t;else for(Qa=r;null!==Qa;)t=Qa.nextEffect,Qa.nextEffect=null,8&Qa.flags&&((k=Qa).sibling=null,k.stateNode=null),Qa=t;if(0===(r=e.pendingLanes)&&(Xa=null),1===r?e===ol?sl++:(sl=0,ol=e):sl=0,n=n.stateNode,Ii&&"function"==typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(ki,n,void 0,64==(64&n.current.flags))}catch(e){}if(gl(e,Bi()),Ja)throw Ja=!1,e=Ya,Ya=null,e;return 0!=(8&Oa)||Gi(),null}function Dl(){for(;null!==Qa;){var e=Qa.alternate;hl||null===cl||(0!=(8&Qa.flags)?et(Qa,cl)&&(hl=!0):13===Qa.tag&&Na(e,Qa)&&et(Qa,cl)&&(hl=!0));var t=Qa.flags;0!=(256&t)&&ga(e,Qa),0==(512&t)||Za||(Za=!0,Ki(97,(function(){return Ll(),null}))),Qa=Qa.nextEffect}}function Ll(){if(90!==tl){var e=97<tl?97:tl;return tl=90,Hi(e,Fl)}return!1}function Ml(e,t){nl.push(t,e),Za||(Za=!0,Ki(97,(function(){return Ll(),null})))}function Ul(e,t){rl.push(t,e),Za||(Za=!0,Ki(97,(function(){return Ll(),null})))}function Fl(){if(null===el)return!1;var e=el;if(el=null,0!=(48&Oa))throw Error(o(331));var t=Oa;Oa|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===s)throw Error(o(330));Vl(s,e)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===s)throw Error(o(330));Vl(s,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Oa=t,Gi(),!0}function jl(e,t,n){hs(e,t=da(0,t=ua(n,t),1)),t=dl(),null!==(e=ml(e,1))&&(Bt(e,1,t),gl(e,t))}function Vl(e,t){if(3===e.tag)jl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){jl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Xa||!Xa.has(r))){var i=fa(n,e=ua(t,e),1);if(hs(n,i),i=dl(),null!==(n=ml(n,1)))Bt(n,1,i),gl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Xa||!Xa.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function ql(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=dl(),e.pingedLanes|=e.suspendedLanes&n,Pa===e&&(La&n)===n&&(4===Fa||3===Fa&&(62914560&La)===La&&500>Bi()-Wa?Il(e,0):Ba|=n),gl(e,t)}function zl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===$i()?1:2:(0===ll&&(ll=Va),0===(t=qt(62914560&~ll))&&(t=4194304))),n=dl(),null!==(e=ml(e,t))&&(Bt(e,t,n),gl(e,n))}function Bl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function $l(e,t,n,r){return new Bl(e,t,n,r)}function Wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hl(e,t){var n=e.alternate;return null===n?((n=$l(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kl(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)Wl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case I:return Gl(n.children,i,s,t);case M:a=8,i|=16;break;case S:a=8,i|=1;break;case T:return(e=$l(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=s,e;case A:return(e=$l(13,n,t,i)).type=A,e.elementType=A,e.lanes=s,e;case R:return(e=$l(19,n,t,i)).elementType=R,e.lanes=s,e;case U:return Ql(n,i,s,t);case F:return(e=$l(24,n,t,i)).elementType=F,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case N:a=9;break e;case C:a=11;break e;case O:a=14;break e;case P:a=16,r=null;break e;case D:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=$l(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Gl(e,t,n,r){return(e=$l(7,e,r,t)).lanes=n,e}function Ql(e,t,n,r){return(e=$l(23,e,r,t)).elementType=U,e.lanes=n,e}function Jl(e,t,n){return(e=$l(6,e,null,t)).lanes=n,e}function Yl(e,t,n){return(t=$l(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function eu(e,t,n,r){var i=t.current,s=dl(),a=fl(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(vi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(vi(u)){n=bi(n,u,l);break e}}n=l}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=cs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),hs(i,t),pl(i,a,s),a}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ru(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function iu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xl(e,t,null!=n&&!0===n.hydrate),t=$l(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ls(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function su(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=tu(o);a.call(e)}}eu(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new iu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"==typeof i){var l=i;i=function(){var e=tu(o);l.call(e)}}_l((function(){eu(t,o,e,i)}))}return tu(o)}function au(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!su(t))throw Error(o(200));return Zl(e,t,null,n)}Ga=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Uo=!0;else{if(0==(n&r)){switch(Uo=!1,t.tag){case 3:Ko(t),Ks();break;case 5:Ls(t);break;case 1:vi(t.type)&&_i(t);break;case 4:Ps(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Xo(e,t,n):(hi(Us,1&Us.current),null!==(t=sa(e,t,n))?t.sibling:null);hi(Us,1&Us.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ia(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Us,Us.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return sa(e,t,n)}Uo=0!=(16384&e.flags)}else Uo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,fi.current),ss(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var s=!0;_i(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ls(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&gs(t,r,a,e),i.updater=vs,t.stateNode=i,i._reactInternals=t,_s(t,r,e,n),t=Ho(null,t,r,!0,s,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"==typeof e)return Wl(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(i),e=Yi(i,e),s){case 0:t=$o(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,$o(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ko(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,us(e,t),fs(t,r,null,n),(r=t.memoizedState.element)===i)Ks(),t=sa(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(Vs=Gr(t.stateNode.containerInfo.firstChild),js=t,s=qs=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Gs.push(s);for(n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ks();t=t.child}return t;case 5:return Ls(t),null===e&&$s(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,$r(r,i)?a=null:null!==s&&$r(r,s)&&(t.flags|=16),Bo(e,t),Fo(e,t,a,n),t.child;case 6:return null===e&&$s(t),null;case 13:return Xo(e,t,n);case 4:return Ps(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ts(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var l=t.type._context;if(hi(Xi,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0===(s=cr(l,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823))){if(a.children===i.children&&!pi.current){t=sa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&s)){1===l.tag&&((c=cs(-1,n&-n)).tag=2,hs(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),is(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,ss(t,n),r=r(i=os(i,s.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return s=Yi(i=t.type,t.pendingProps),Vo(e,t,i,s=Yi(i.type,s),r,n);case 15:return qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,_i(t)):e=!1,ss(t,n),ws(t,r,i),_s(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return ia(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},iu.prototype.render=function(e){eu(e,this._internalRoot,null,null)},iu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;eu(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pl(e,4,dl()),ru(e,4))},nt=function(e){13===e.tag&&(pl(e,67108864,dl()),ru(e,67108864))},rt=function(e){if(13===e.tag){var t=dl(),n=fl(e);pl(e,n,t),ru(e,n)}},it=function(e,t){return t()},xe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=si(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bl,De=function(e,t,n,r,i){var s=Oa;Oa|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Oa=s)&&(Ka(),Gi())}},Le=function(){0==(49&Oa)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gl(e,Bi())}))}Gi()}(),Ll())},Me=function(e,t){var n=Oa;Oa|=2;try{return e(t)}finally{0===(Oa=n)&&(Ka(),Gi())}};var lu={Events:[ri,ii,si,Re,Oe,Ll,{current:!1}]},uu={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{ki=hu.inject(cu),Ii=hu}catch(ge){}}t.render=function(e,t,n){if(!su(t))throw Error(o(200));return ou(null,e,t,!1,n)}},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},9921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||_(e)===c},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===h||e===a||e===o||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===y||e.$$typeof===w||e.$$typeof===b||e.$$typeof===v)},t.typeOf=_},9864:(e,t,n)=>{"use strict";e.exports=n(9921)},6585:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},9658:(e,t,n)=>{var r=n(6585);e.exports=f,e.exports.parse=s,e.exports.compile=function(e,t){return a(s(e,t),t)},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var n,r=[],s=0,o=0,a="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],d=n[1],f=n.index;if(a+=e.slice(o,f),o=f+h.length,d)a+=d[1];else{var p=e[o],m=n[2],g=n[3],v=n[4],y=n[5],w=n[6],b=n[7];a&&(r.push(a),a="");var _=null!=m&&null!=p&&p!==m,E="+"===w||"*"===w,k="?"===w||"*"===w,I=n[2]||c,S=v||y;r.push({name:g||s++,prefix:m||"",delimiter:I,optional:k,repeat:E,partial:_,asterisk:!!b,pattern:S?u(S):b?".*":"[^"+l(I)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function a(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var s="",a=t||{},l=(i||{}).pretty?o:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var h,d=a[c.name];if(null==d){if(c.optional){c.partial&&(s+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(h=l(d[f]),!n[u].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");s+=(0===f?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(d),!n[u].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');s+=c.prefix+h}}else s+=c}return s}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,s=!1!==n.end,o="",a=0;a<e.length;a++){var u=e[a];if("string"==typeof u)o+=l(u);else{var d=l(u.prefix),f="(?:"+u.pattern+")";t.push(u),u.repeat&&(f+="(?:"+d+f+")*"),o+=f=u.optional?u.partial?d+"("+f+")?":"(?:"+d+"("+f+"))?":d+"("+f+")"}}var p=l(n.delimiter||"/"),m=o.slice(-p.length)===p;return i||(o=(m?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=s?"$":i&&m?"":"(?="+p+"|$)",c(new RegExp("^"+o,h(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(f(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return d(s(e,n),t,n)}(e,t,n)}},2408:(e,t,n)=>{"use strict";var r=n(7418),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,a=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var w=y.prototype=new v;w.constructor=y,r(w,g.prototype),w.isPureReactComponent=!0;var b={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:b.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return o=o(l=e),e=""===r?"."+T(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),x(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+T(a=e[u],u);l+=x(a,t,n,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=x(a=a.value,t,n,c=r+T(a,u++),o);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function R(){var e=A.current;if(null===e)throw Error(f(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var s=r({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];s.children=u}return{$$typeof:i,type:e.type,key:o,ref:a,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},53:(e,t)=>{"use strict";var n,r,i,s;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,_=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+y;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){v=d((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,l=e[a];if(void 0!==o&&0>S(o,n))void 0!==l&&0>S(l,o)?(e[r]=l,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],x=[],N=1,C=null,A=3,R=!1,O=!1,P=!1;function D(e){for(var t=k(x);null!==t;){if(null===t.callback)I(x);else{if(!(t.startTime<=e))break;I(x),t.sortIndex=t.expirationTime,E(T,t)}t=k(x)}}function L(e){if(P=!1,D(e),!O)if(null!==k(T))O=!0,n(M);else{var t=k(x);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),R=!0;var s=A;try{for(D(n),C=k(T);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"==typeof o){C.callback=null,A=C.priorityLevel;var a=o(C.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?C.callback=a:C===k(T)&&I(T),D(n)}else I(T);C=k(T)}if(null!==C)var l=!0;else{var u=k(x);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{C=null,A=s,R=!1}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return k(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,s,o){var a=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:N++,callback:s,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,E(x,e),null===k(T)&&e===k(x)&&(P?i():P=!0,r(L,o-a))):(e.sortIndex=l,E(T,e),O||R||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},3451:function(e,t,n){var r;!function(i,s){"use strict";var o="function",a="undefined",l="object",u="string",c="model",h="name",d="type",f="vendor",p="version",m="architecture",g="console",v="mobile",y="tablet",w="smarttv",b="wearable",_="embedded",E={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===u&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===u?e.replace(/[^\d\.]/g,"").split(".")[0]:s},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===a?e:e.substring(0,255)}},k={rgx:function(e,t){for(var n,r,i,a,u,c,h=0;h<t.length&&!u;){var d=t[h],f=t[h+1];for(n=r=0;n<d.length&&!u;)if(u=d[n++].exec(e))for(i=0;i<f.length;i++)c=u[++r],typeof(a=f[i])===l&&a.length>0?2==a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3==a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):s:this[a[0]]=c?a[1].call(this,c,a[2]):s:4==a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):s):this[a]=c||s;h+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(E.has(t[n][r],e))return"?"===n?s:n}else if(E.has(t[n],e))return"?"===n?s:n;return e}},I={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},S={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[h,"Chrome"]],[/(?:edge|edgios|edga|edg)\/([\w\.]+)/i],[p,[h,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[h,p],[/opios[\/\s]+([\w\.]+)/i],[p,[h,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[p,[h,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[h,p],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[p,[h,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[p,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[h,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[p,[h,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure Browser"],p],[/focus\/([\w\.]+)/i],[p,[h,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[p,[h,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[p,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[h,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[h,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[p,[h,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[h,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],p],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[h,p],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[h],[/;fbav\/([\w\.]+);/i],[p,[h,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[h,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[h,p],[/\bgsa\/([\w\.]+)\s.*safari\//i],[p,[h,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[h,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[h,"Chrome WebView"],p],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[p,[h,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[h,p],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[h,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,h],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[h,[p,k.str,I.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[h,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[h,"Netscape"],p],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[p,[h,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[h,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,E.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",E.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,E.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[c,[f,"Samsung"],[d,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[c,[f,"Samsung"],[d,v]],[/\((ip(?:hone|od)[\s\w]*);/i],[c,[f,"Apple"],[d,v]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[f,"Apple"],[d,y]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[c,[f,"Huawei"],[d,y]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[c,[f,"Huawei"],[d,v]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[c,/_/g," "],[f,"Xiaomi"],[d,v]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[c,/_/g," "],[f,"Xiaomi"],[d,y]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[c,[f,"OPPO"],[d,v]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[c,[f,"Vivo"],[d,v]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[c,[f,"Realme"],[d,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[c,[f,"Motorola"],[d,v]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[f,"Motorola"],[d,y]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[c,[f,"LG"],[d,y]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[c,[f,"LG"],[d,v]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[c,[f,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[c,/_/g," "],[f,"Nokia"],[d,v]],[/droid.+;\s(pixel\sc)[\s)]/i],[c,[f,"Google"],[d,y]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[c,[f,"Google"],[d,v]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[f,"Sony"],[d,v]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[c,"Xperia Tablet"],[f,"Sony"],[d,y]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[c,[f,"OnePlus"],[d,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[c,[f,"Amazon"],[d,y]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[c,"Fire Phone"],[f,"Amazon"],[d,v]],[/\((playbook);[\w\s\),;-]+(rim)/i],[c,f,[d,y]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[c,[f,"BlackBerry"],[d,v]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[c,[f,"ASUS"],[d,y]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[c,[f,"ASUS"],[d,v]],[/(nexus\s9)/i],[c,[f,"HTC"],[d,y]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[f,[c,/_/g," "],[d,v]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[c,[f,"Acer"],[d,y]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[c,[f,"Meizu"],[d,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[f,c,[d,v]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[f,c,[d,y]],[/\s(surface\sduo)\s/i],[c,[f,"Microsoft"],[d,y]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[c,[f,"Fairphone"],[d,v]],[/\s(u304aa)\sbuild/i],[c,[f,"AT&T"],[d,v]],[/sie-(\w*)/i],[c,[f,"Siemens"],[d,v]],[/[;\/]\s?(rct\w+)\sbuild/i],[c,[f,"RCA"],[d,y]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[c,[f,"Dell"],[d,y]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[c,[f,"Verizon"],[d,y]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[c,[f,"Barnes & Noble"],[d,y]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[c,[f,"NuVision"],[d,y]],[/;\s(k88)\sbuild/i],[c,[f,"ZTE"],[d,y]],[/;\s(nx\d{3}j)\sbuild/i],[c,[f,"ZTE"],[d,v]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[c,[f,"Swiss"],[d,v]],[/[;\/]\s?(zur\d{3})\sbuild/i],[c,[f,"Swiss"],[d,y]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[c,[f,"Zeki"],[d,y]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[f,"Dragon Touch"],c,[d,y]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[c,[f,"Insignia"],[d,y]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[c,[f,"NextBook"],[d,y]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[f,"Voice"],c,[d,v]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[f,"LvTel"],c,[d,v]],[/;\s(ph-1)\s/i],[c,[f,"Essential"],[d,v]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[c,[f,"Envizen"],[d,y]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[c,[f,"MachSpeed"],[d,y]],[/[;\/]\s?tu_(1491)\sbuild/i],[c,[f,"Rotor"],[d,y]],[/(shield[\w\s]+)\sbuild/i],[c,[f,"Nvidia"],[d,y]],[/(sprint)\s(\w+)/i],[f,c,[d,v]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[f,"Microsoft"],[d,v]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[f,"Zebra"],[d,y]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[f,"Zebra"],[d,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[f,c,[d,g]],[/droid.+;\s(shield)\sbuild/i],[c,[f,"Nvidia"],[d,g]],[/(playstation\s[345portablevi]+)/i],[c,[f,"Sony"],[d,g]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[c,[f,"Microsoft"],[d,g]],[/smart-tv.+(samsung)/i],[f,[d,w]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[f,"Samsung"],[d,w]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[f,"LG"],[d,w]],[/(apple)\s?tv/i],[f,[c,"Apple TV"],[d,w]],[/crkey/i],[[c,"Chromecast"],[f,"Google"],[d,w]],[/droid.+aft([\w])(\sbuild\/|\))/i],[c,[f,"Amazon"],[d,w]],[/\(dtv[\);].+(aquos)/i],[c,[f,"Sharp"],[d,w]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[f,E.trim],[c,E.trim],[d,w]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[d,w]],[/((pebble))app\/[\d\.]+\s/i],[f,c,[d,b]],[/droid.+;\s(glass)\s\d/i],[c,[f,"Google"],[d,b]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[c,[f,"Zebra"],[d,b]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[f,[d,_]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[c,[d,v]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[c,[d,y]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[d,E.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[f,"Generic"]],[/(phone)/i],[[d,v]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[h,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,h]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[h,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[h,[p,k.str,I.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[h,"Windows"],[p,k.str,I.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[h,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[h,"Mac OS"],[p,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[h,p],[/\(bb(10);/i],[p,[h,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[p,[h,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[h,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[h,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[h,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[h,"Chromium OS"],p],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[h,p],[/(sunos)\s?([\w\.\d]*)/i],[[h,"Solaris"],p],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[h,p]]},T=function(e,t){if("object"==typeof e&&(t=e,e=s),!(this instanceof T))return new T(e,t).getResult();var n=e||(void 0!==i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?E.extend(S,t):S;return this.getBrowser=function(){var e={name:s,version:s};return k.rgx.call(e,n,r.browser),e.major=E.major(e.version),e},this.getCPU=function(){var e={architecture:s};return k.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:s,model:s,type:s};return k.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:s,version:s};return k.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:s,version:s};return k.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===u&&e.length>255?E.trim(e,255):e,this},this.setUA(n),this};T.VERSION="0.7.28",T.BROWSER={NAME:h,MAJOR:"major",VERSION:p},T.CPU={ARCHITECTURE:m},T.DEVICE={MODEL:c,VENDOR:f,TYPE:d,CONSOLE:g,MOBILE:v,SMARTTV:w,TABLET:y,WEARABLE:b,EMBEDDED:_},T.ENGINE={NAME:h,VERSION:p},T.OS={NAME:h,VERSION:p},typeof t!==a?(e.exports&&(t=e.exports=T),t.UAParser=T):(r=function(){return T}.call(t,n,t,e))===s||(e.exports=r);var x=void 0!==i&&(i.jQuery||i.Zepto);if(x&&!x.ua){var N=new T;x.ua=N.getResult(),x.ua.get=function(){return N.getUA()},x.ua.set=function(e){N.setUA(e);var t=N.getResult();for(var n in t)x.ua[n]=t[n]}}}("object"==typeof window?window:this)}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var s=r[e]={exports:{}};return n[e].call(s.exports,s,s.exports,i),s.exports}i.m=n,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"main.2fe1506be08220e44356.js",i.miniCssF=e=>"main.b2edd65fd0c16b82565c.css",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="prototype-parth-with-webpack:",i.l=(n,r,s,o)=>{if(e[n])e[n].push(r);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+s),a.src=n),e[n]=[r];var d=(t,r)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(r))),t)return t(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={179:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=s);var o=i.p+i.u(t),a=new Error;i.l(o,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,s,[o,a,l]=n,u=0;if(o.some((t=>0!==e[t]))){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(l)l(i)}for(t&&t(n);u<o.length;u++)s=o[u],i.o(e,s)&&e[s]&&e[s][0](),e[o[u]]=0},n=self.webpackChunkprototype_parth_with_webpack=self.webpackChunkprototype_parth_with_webpack||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};i.r(e),i.d(e,{FirebaseError:()=>x,SDK_VERSION:()=>me,_DEFAULT_ENTRY_NAME:()=>re,_addComponent:()=>ae,_addOrOverwriteComponent:()=>le,_apps:()=>se,_clearComponents:()=>de,_components:()=>oe,_getProvider:()=>ce,_registerComponent:()=>ue,_removeServiceInstance:()=>he,deleteApp:()=>we,getApp:()=>ve,getApps:()=>ye,initializeApp:()=>ge,onLog:()=>_e,registerVersion:()=>be,setLogLevel:()=>Ee});var t=i(7294),n=i(3935),r=(i(3948),function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)});var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}Object.create;function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function h(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var d=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,h=(3&s)<<4|a>>4,d=(15&a)<<2|u>>6,f=63&u;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(d(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{s=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==l)throw Error();var u=s<<2|o>>4;if(r.push(u),64!==a){var c=o<<4&240|a>>2;if(r.push(c),64!==l){var h=a<<6&192|l;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},p=function(e){return function(e){var t=d(e);return f.encodeByteArray(t,!0)}(e).replace(/\./g,"")},m=function(e){try{return f.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&v(n)&&(e[n]=g(e[n],t[n]));return e}function v(e){return"__proto__"!==e}var y=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function w(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=s({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(o)),""].join(".")}function b(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function E(){try{return"[object process]"===Object.prototype.toString.call(i.g.process)}catch(e){return!1}}function k(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function I(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function S(){var e=b();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T(){return"indexedDB"in self&&null!=indexedDB}var x=function(e){function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,N.prototype.create),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),N=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,s=this.errors[e],o=s?C(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",l=new x(i,a,r);return l},e}();function C(e,t){return e.replace(A,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var A=/\{\$([^}]+)}/g;function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,s=n;i<s.length;i++){var o=s[i];if(!r.includes(o))return!1;var a=e[o],l=t[o];if(P(a)&&P(l)){if(!O(a,l))return!1}else if(a!==l)return!1}for(var u=0,c=r;u<c.length;u++){o=c[u];if(!n.includes(o))return!1}return!0}function P(e){return null!==e&&"object"==typeof e}function D(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r];n(s[0],s[1])}return t.length?"&"+t.join("&"):""}function L(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function M(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var s,o,a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(s=c^l&(u^c),o=1518500249):(s=l^u^c,o=1859775393):r<60?(s=l&u|c&(l|u),o=2400959708):(s=l^u^c,o=3395469782);i=(a<<5|a>>>27)+s+h+o+n[r]&4294967295;h=c,c=u,u=4294967295&(l<<30|l>>>2),l=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function U(e,t){var n=new F(e,t);return n.subscribe.bind(n)}var F=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=j),void 0===r.error&&(r.error=j),void 0===r.complete&&(r.complete=j);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),s},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function j(){}function V(e){return e&&e._delegate?e._delegate:e}var q=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),z="[DEFAULT]",B=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new y;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:z})}catch(e){}try{for(var r=u(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var s=c(i.value,2),o=s[0],a=s[1],l=this.normalizeInstanceIdentifier(o);try{var h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=z),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return a(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(h(h([],c(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),c(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=z),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=z),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:s,options:i});try{for(var a=u(this.instancesDeferred.entries()),l=a.next();!l.done;l=a.next()){var h=c(l.value,2),d=h[0],f=h[1];s===this.normalizeInstanceIdentifier(d)&&f.resolve(o)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var s=u(i),o=s.next();!o.done;o=s.next()){var a=o.value;try{a(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===z?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(e){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=z),this.component?this.component.multipleInstances?e:z:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var $,W=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new B(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function H(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var K,G=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(K||(K={}));var Q={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},J=K.INFO,Y=(($={})[K.DEBUG]="log",$[K.VERBOSE]="log",$[K.INFO]="info",$[K.WARN]="warn",$[K.ERROR]="error",$),X=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),s=Y[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,H(["["+i+"]  "+e.name+":"],n))}},Z=function(){function e(e){this.name=e,this._logLevel=J,this._logHandler=X,this._userLogHandler=null,G.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in K))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?Q[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,H([this,K.DEBUG],e)),this._logHandler.apply(this,H([this,K.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,H([this,K.VERBOSE],e)),this._logHandler.apply(this,H([this,K.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,H([this,K.INFO],e)),this._logHandler.apply(this,H([this,K.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,H([this,K.WARN],e)),this._logHandler.apply(this,H([this,K.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,H([this,K.ERROR],e)),this._logHandler.apply(this,H([this,K.ERROR],e))},e}();class ee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const te="@firebase/app",ne=new Z("@firebase/app"),re="[DEFAULT]",ie={[te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},se=new Map,oe=new Map;function ae(e,t){try{e.container.addComponent(t)}catch(n){ne.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function le(e,t){e.container.addOrOverwriteComponent(t)}function ue(e){const t=e.name;if(oe.has(t))return ne.debug(`There were multiple attempts to register component ${t}.`),!1;oe.set(t,e);for(const t of se.values())ae(t,e);return!0}function ce(e,t){return e.container.getProvider(t)}function he(e,t,n=re){ce(e,t).clearInstance(n)}function de(){oe.clear()}const fe=new N("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class pe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new q("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fe.create("app-deleted",{appName:this._name})}}const me="9.0.0";function ge(e,t={}){if("object"!=typeof t){t={name:t}}const n=Object.assign({name:re,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw fe.create("bad-app-name",{appName:String(r)});const i=se.get(r);if(i){if(O(e,i.options)&&O(n,i.config))return i;throw fe.create("duplicate-app",{appName:r})}const s=new W(r);for(const e of oe.values())s.addComponent(e);const o=new pe(e,n,s);return se.set(r,o),o}function ve(e=re){const t=se.get(e);if(!t)throw fe.create("no-app",{appName:e});return t}function ye(){return Array.from(se.values())}async function we(e){const t=e.name;se.has(t)&&(se.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function be(e,t,n){var r;let i=null!==(r=ie[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ne.warn(e.join(" "))}ue(new q(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function _e(e,t){if(null!==e&&"function"!=typeof e)throw fe.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=Q[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var o=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:K[n].toLowerCase(),message:o,args:i,type:t.name})}},r=0,i=G;r<i.length;r++)n(i[r])}(e,t)}function Ee(e){var t;t=e,G.forEach((function(e){e.setLogLevel(t)}))}var ke;ue(new q("platform-logger",(e=>new ee(e)),"PRIVATE")),be(te,"0.7.0",ke),be("fire-js","");class Ie{constructor(e,t){this._delegate=e,this.firebase=t,ae(e,new q("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),we(this._delegate))))}_getService(e,t=re){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=re){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ae(this._delegate,e)}_addOrOverwriteComponent(e){le(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new N("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Te=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e,i={}){const s=ge(e,i);if(R(n,s.name))return n[s.name];const o=new t(s,r);return n[s.name]=o,o},app:i,registerVersion:be,setLogLevel:Ee,onLog:_e,apps:null,SDK_VERSION:me,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(ue(e)&&"PUBLIC"===e.type){const o=(e=i())=>{if("function"!=typeof e[s])throw Se.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&g(o,e.serviceProps),r[s]=o,t.prototype[s]=function(...t){return this._getService.bind(this,n).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!R(n,e=e||re))throw Se.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Ie);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){g(n,e)},createSubscribe:U,ErrorFactory:N,deepExtend:g}),n}(),xe=new Z("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){xe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&xe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=Te;!function(e){be("@firebase/app-compat","0.1.1",e)}();const Ce=Ne;Ce.registerVersion("firebase","9.0.2","app-compat");var Ae=function(e,t){return Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ae(e,t)};function Re(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Oe,Pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{},De=De||{},Le=Pe||self;function Me(){}function Ue(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Fe(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var je="closure_uid_"+(1e9*Math.random()>>>0),Ve=0;function qe(e,t,n){return e.call.apply(e.bind,arguments)}function ze(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Be(e,t,n){return(Be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qe:ze).apply(null,arguments)}function $e(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function We(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function He(){this.s=this.s,this.o=this.o}var Ke={};He.prototype.s=!1,He.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,je)&&e[je]||(e[je]=++Ve)}(this);delete Ke[e]}},He.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ge=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Qe=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Je(e){return Array.prototype.concat.apply([],arguments)}function Ye(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Xe(e){return/^[\s\xa0]*$/.test(e)}var Ze,et=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function tt(e,t){return-1!=e.indexOf(t)}function nt(e,t){return e<t?-1:e>t?1:0}e:{var rt=Le.navigator;if(rt){var it=rt.userAgent;if(it){Ze=it;break e}}Ze=""}function st(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ot(e){var t={};for(var n in e)t[n]=e[n];return t}var at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<at.length;s++)n=at[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ut(e){return ut[" "](e),e}ut[" "]=Me;var ct,ht,dt=tt(Ze,"Opera"),ft=tt(Ze,"Trident")||tt(Ze,"MSIE"),pt=tt(Ze,"Edge"),mt=pt||ft,gt=tt(Ze,"Gecko")&&!(tt(Ze.toLowerCase(),"webkit")&&!tt(Ze,"Edge"))&&!(tt(Ze,"Trident")||tt(Ze,"MSIE"))&&!tt(Ze,"Edge"),vt=tt(Ze.toLowerCase(),"webkit")&&!tt(Ze,"Edge");function yt(){var e=Le.document;return e?e.documentMode:void 0}e:{var wt="",bt=(ht=Ze,gt?/rv:([^\);]+)(\)|;)/.exec(ht):pt?/Edge\/([\d\.]+)/.exec(ht):ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ht):vt?/WebKit\/(\S+)/.exec(ht):dt?/(?:Version)[ \/]?(\S+)/.exec(ht):void 0);if(bt&&(wt=bt?bt[1]:""),ft){var _t=yt();if(null!=_t&&_t>parseFloat(wt)){ct=String(_t);break e}}ct=wt}var Et,kt={};function It(){return function(e){var t=kt;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=et(String(ct)).split("."),n=et("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var s=t[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;e=nt(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||nt(0==s[2].length,0==o[2].length)||nt(s[2],o[2]),s=s[3],o=o[3]}while(0==e)}return 0<=e}))}if(Le.document&&ft){var St=yt();Et=St||(parseInt(ct,10)||void 0)}else Et=void 0;var Tt=Et,xt=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Le.addEventListener("test",Me,t),Le.removeEventListener("test",Me,t)}catch(e){}return e}();function Nt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ct(e,t){if(Nt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(gt){e:{try{ut(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:At[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ct.Z.h.call(this)}}Nt.prototype.h=function(){this.defaultPrevented=!0},We(Ct,Nt);var At={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Rt="closure_listenable_"+(1e6*Math.random()|0),Ot=0;function Pt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ot,this.ca=this.fa=!1}function Dt(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Lt(e){this.src=e,this.g={},this.h=0}function Mt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Ge(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Dt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ut(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Lt.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ut(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Pt(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Ft="closure_lm_"+(1e6*Math.random()|0),jt={};function Vt(e,t,n,r,i){if(r&&r.once)return zt(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Vt(e,t[s],n,r,i);return null}return n=Qt(n),e&&e[Rt]?e.N(t,n,Fe(r)?!!r.capture:!!r,i):qt(e,t,n,!1,r,i)}function qt(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Fe(i)?!!i.capture:!!i,a=Kt(e);if(a||(e[Ft]=a=new Lt(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ht;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)xt||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Wt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function zt(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)zt(e,t[s],n,r,i);return null}return n=Qt(n),e&&e[Rt]?e.O(t,n,Fe(r)?!!r.capture:!!r,i):qt(e,t,n,!0,r,i)}function Bt(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Bt(e,t[s],n,r,i);else r=Fe(r)?!!r.capture:!!r,n=Qt(n),e&&e[Rt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ut(s=e.g[t],n,r,i))&&(Dt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Kt(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ut(t,n,r,i)),(n=-1<e?t[e]:null)&&$t(n))}function $t(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Rt])Mt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Kt(t))?(Mt(n,e),0==n.h&&(n.src=null,t[Ft]=null)):Dt(e)}}}function Wt(e){return e in jt?jt[e]:jt[e]="on"+e}function Ht(e,t){if(e.ca)e=!0;else{t=new Ct(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&$t(e),e=n.call(r,t)}return e}function Kt(e){return(e=e[Ft])instanceof Lt?e:null}var Gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qt(e){return"function"==typeof e?e:(e[Gt]||(e[Gt]=function(t){return e.handleEvent(t)}),e[Gt])}function Jt(){He.call(this),this.i=new Lt(this),this.P=this,this.I=null}function Yt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Nt(t,e);else if(t instanceof Nt)t.target=t.target||e;else{var i=t;lt(t=new Nt(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Xt(o,r,!0,t)&&i}if(i=Xt(o=t.g=e,r,!0,t)&&i,i=Xt(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Xt(o=t.g=n[s],r,!1,t)&&i}function Xt(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Mt(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}We(Jt,He),Jt.prototype[Rt]=!0,Jt.prototype.removeEventListener=function(e,t,n,r){Bt(this,e,t,n,r)},Jt.prototype.M=function(){if(Jt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Dt(n[r]);delete t.g[e],t.h--}}this.I=null},Jt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Jt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Zt=Le.JSON.stringify;function en(){var e=un,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var tn,nn=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=rn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),rn=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new sn}),(function(e){return e.reset()})),sn=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function on(e){Le.setTimeout((function(){throw e}),0)}function an(e,t){tn||function(){var e=Le.Promise.resolve(void 0);tn=function(){e.then(cn)}}(),ln||(tn(),ln=!0),un.add(e,t)}var ln=!1,un=new nn;function cn(){for(var e;e=en();){try{e.h.call(e.g)}catch(e){on(e)}var t=rn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ln=!1}function hn(e,t){Jt.call(this),this.h=e||1,this.g=t||Le,this.j=Be(this.kb,this),this.l=Date.now()}function dn(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function fn(e,t,n){if("function"==typeof e)n&&(e=Be(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Be(e.handleEvent,e)}return 2147483647<Number(t)?-1:Le.setTimeout(e,t||0)}function pn(e){e.g=fn((function(){e.g=null,e.i&&(e.i=!1,pn(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}We(hn,Jt),(Oe=hn.prototype).da=!1,Oe.S=null,Oe.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yt(this,"tick"),this.da&&(dn(this),this.start()))}},Oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Oe.M=function(){hn.Z.M.call(this),dn(this),delete this.g};var mn=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ae(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:pn(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(He);function gn(e){He.call(this),this.h=e,this.g={}}We(gn,He);var vn=[];function yn(e,t,n,r){Array.isArray(n)||(n&&(vn[0]=n.toString()),n=vn);for(var i=0;i<n.length;i++){var s=Vt(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function wn(e){st(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$t(e)}),e),e.g={}}function bn(){this.g=!0}function _n(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Zt(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}gn.prototype.M=function(){gn.Z.M.call(this),wn(this)},gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bn.prototype.Aa=function(){this.g=!1},bn.prototype.info=function(){};var En={},kn=null;function In(){return kn=kn||new Jt}function Sn(e){Nt.call(this,En.Ma,e)}function Tn(e){var t=In();Yt(t,new Sn(t,e))}function xn(e,t){Nt.call(this,En.STAT_EVENT,e),this.stat=t}function Nn(e){var t=In();Yt(t,new xn(t,e))}function Cn(e,t){Nt.call(this,En.Na,e),this.size=t}function An(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Le.setTimeout((function(){e()}),t)}En.Ma="serverreachability",We(Sn,Nt),En.STAT_EVENT="statevent",We(xn,Nt),En.Na="timingevent",We(Cn,Nt);var Rn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},On={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Pn(){}function Dn(e){return e.h||(e.h=e.i())}function Ln(){}Pn.prototype.h=null;var Mn,Un={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Fn(){Nt.call(this,"d")}function jn(){Nt.call(this,"c")}function Vn(){}function qn(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new gn(this),this.P=Bn,e=mt?125:void 0,this.W=new hn(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}We(Fn,Nt),We(jn,Nt),We(Vn,Pn),Vn.prototype.g=function(){return new XMLHttpRequest},Vn.prototype.i=function(){return{}},Mn=new Vn;var Bn=45e3,$n={},Wn={};function Hn(e,t,n){e.K=1,e.v=mr(ur(t)),e.s=n,e.U=!0,Kn(e,null)}function Kn(e,t){e.F=Date.now(),Yn(e),e.A=ur(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Nr(n.h,"t",r),e.C=0,n=e.l.H,e.h=new zn,e.g=Ci(e.l,n?t:null,!e.s),0<e.O&&(e.L=new mn(Be(e.Ia,e,e.g),e.O)),yn(e.V,e.g,"readystatechange",e.gb),t=e.H?ot(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Tn(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Gn(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Qn(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Jn(e,n))==Wn){4==t&&(e.o=4,Nn(14),i=!1),_n(e.j,e.m,null,"[Incomplete Response]");break}if(r==$n){e.o=4,Nn(15),_n(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}_n(e.j,e.m,r,null),nr(e,r)}Gn(e)&&r!=Wn&&r!=$n&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Nn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),_i(t),t.L=!0,Nn(11))):(_n(e.j,e.m,n,"[Invalid Chunked Response]"),tr(e),er(e))}function Jn(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Wn:(n=Number(t.substring(n,r)),isNaN(n)?$n:(r+=1)+n>t.length?Wn:(t=t.substr(r,n),e.C=r+n,t))}function Yn(e){e.Y=Date.now()+e.P,Xn(e,e.P)}function Xn(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=An(Be(e.eb,e),t)}function Zn(e){e.B&&(Le.clearTimeout(e.B),e.B=null)}function er(e){0==e.l.G||e.I||Ii(e.l,e)}function tr(e){Zn(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,dn(e.W),wn(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function nr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Lr(n.i,e)))if(n.I=e.N,!e.J&&Lr(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ki(n),di(n)}bi(n),Nn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=An(Be(n.ab,n),6e3));if(1>=Dr(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else Ti(n,11)}else if((e.J||n.g==e)&&ki(n),!Xe(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var l=s[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=e.g;if(u){var c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(tt(c,"spdy")||tt(c,"quic")||tt(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Mr(h,h.h),h.h=null))}if(r.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,pr(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=Ni(r,r.H?r.la:null,r.W),f.J){Ur(r.i,f);var p=f,m=r.K;m&&p.setTimeout(m),p.B&&(Zn(p),Yn(p)),r.g=f}else wi(r);0<n.l.length&&mi(n)}else"stop"!=s[0]&&"close"!=s[0]||Ti(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?Ti(n,7):hi(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}Tn(4)}catch(s){}}function rr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ue(e)||"string"==typeof e)Qe(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ue(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Ue(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function ir(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ir)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function sr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];or(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)or(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function or(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Oe=qn.prototype).setTimeout=function(e){this.P=e},Oe.gb=function(e){e=e.target;var t=this.L;t&&3==oi(e)?t.l():this.Ia(e)},Oe.Ia=function(e){try{if(e==this.g)e:{var t=oi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||mt||this.g&&(this.h.h||this.g.ga()||ai(this.g)))){this.I||4!=t||7==n||Tn(8==n||0>=r?3:2),Zn(this);var i=this.g.ba();this.N=i;t:if(Gn(this)){var s=ai(this.g);e="";var o=s.length,a=4==oi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){tr(this),er(this);var l="";break t}this.h.i=new Le.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xe(u)){var h=u;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Nn(12),tr(this),er(this);break e}_n(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nr(this,i)}this.U?(Qn(this,t,l),mt&&this.i&&3==t&&(yn(this.V,this.W,"tick",this.fb),this.W.start())):(_n(this.j,this.m,l,null),nr(this,l)),4==t&&tr(this),this.i&&!this.I&&(4==t?Ii(this.l,this):(this.i=!1,Yn(this)))}else 400==i&&0<l.indexOf("Unknown SID")?(this.o=3,Nn(12)):(this.o=0,Nn(13)),tr(this),er(this)}}}catch(t){}},Oe.fb=function(){if(this.g){var e=oi(this.g),t=this.g.ga();this.C<t.length&&(Zn(this),Qn(this,e,t),this.i&&4!=e&&Yn(this))}},Oe.cancel=function(){this.I=!0,tr(this)},Oe.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Tn(3),Nn(17)),tr(this),this.o=2,er(this)):Xn(this,this.Y-e)},(Oe=ir.prototype).R=function(){sr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Oe.T=function(){return sr(this),this.g.concat()},Oe.get=function(e,t){return or(this.h,e)?this.h[e]:t},Oe.set=function(e,t){or(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Oe.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var ar=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function lr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof lr){this.g=void 0!==t?t:e.g,cr(this,e.j),this.s=e.s,hr(this,e.i),dr(this,e.m),this.l=e.l,t=e.h;var n=new Ir;n.i=t.i,t.g&&(n.g=new ir(t.g),n.h=t.h),fr(this,n),this.o=e.o}else e&&(n=String(e).match(ar))?(this.g=!!t,cr(this,n[1]||"",!0),this.s=gr(n[2]||""),hr(this,n[3]||"",!0),dr(this,n[4]),this.l=gr(n[5]||"",!0),fr(this,n[6]||"",!0),this.o=gr(n[7]||"")):(this.g=!!t,this.h=new Ir(null,this.g))}function ur(e){return new lr(e)}function cr(e,t,n){e.j=n?gr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function hr(e,t,n){e.i=n?gr(t,!0):t}function dr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function fr(e,t,n){t instanceof Ir?(e.h=t,function(e,t){t&&!e.j&&(Sr(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Tr(this,t),Nr(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=vr(t,Er)),e.h=new Ir(t,e.g))}function pr(e,t,n){e.h.set(t,n)}function mr(e){return pr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function gr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function vr(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,yr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}lr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(vr(t,wr,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(vr(t,wr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(vr(n,"/"==n.charAt(0)?_r:br,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",vr(n,kr)),e.join("")};var wr=/[#\/\?@]/g,br=/[#\?:]/g,_r=/[#\?]/g,Er=/[#\?@]/g,kr=/#/g;function Ir(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sr(e){e.g||(e.g=new ir,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Tr(e,t){Sr(e),t=Cr(e,t),or(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,or((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&sr(e)))}function xr(e,t){return Sr(e),t=Cr(e,t),or(e.g.h,t)}function Nr(e,t,n){Tr(e,t),0<n.length&&(e.i=null,e.g.set(Cr(e,t),Ye(n)),e.h+=n.length)}function Cr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Oe=Ir.prototype).add=function(e,t){Sr(this),this.i=null,e=Cr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Oe.forEach=function(e,t){Sr(this),this.g.forEach((function(n,r){Qe(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Oe.T=function(){Sr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Oe.R=function(e){Sr(this);var t=[];if("string"==typeof e)xr(this,e)&&(t=Je(t,this.g.get(Cr(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Je(t,e[n])}return t},Oe.set=function(e,t){return Sr(this),this.i=null,xr(this,e=Cr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Oe.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var Ar=function(e,t){this.h=e,this.g=t};function Rr(e){this.l=e||Or,Le.PerformanceNavigationTiming?e=0<(e=Le.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Le.g&&Le.g.Ea&&Le.g.Ea()&&Le.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Or=10;function Pr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Dr(e){return e.h?1:e.g?e.g.size:0}function Lr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Mr(e,t){e.g?e.g.add(t):e.h=t}function Ur(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Fr(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Re(e.g.values()),s=i.next();!s.done;s=i.next()){var o=s.value;r=r.concat(o.D)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ye(e.i)}function jr(){}function Vr(){this.g=new jr}function qr(e,t,n){var r=n||"";try{rr(e,(function(e,n){var i=e;Fe(e)&&(i=Zt(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function zr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Br(e){this.l=e.$b||null,this.j=e.ib||!1}function $r(e,t){Jt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Wr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rr.prototype.cancel=function(){var e,t;if(this.i=Fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Re(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},jr.prototype.stringify=function(e){return Le.JSON.stringify(e,void 0)},jr.prototype.parse=function(e){return Le.JSON.parse(e,void 0)},We(Br,Pn),Br.prototype.g=function(){return new $r(this.l,this.j)},Br.prototype.i=function(e){return function(){return e}}({}),We($r,Jt);var Wr=0;function Hr(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Kr(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Gr(e)}function Gr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Oe=$r.prototype).open=function(e,t){if(this.readyState!=Wr)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Gr(this)},Oe.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Le).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kr(this)),this.readyState=Wr},Oe.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Le.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hr(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Oe.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Kr(this):Gr(this),3==this.readyState&&Hr(this)}},Oe.Ua=function(e){this.g&&(this.response=this.responseText=e,Kr(this))},Oe.Ta=function(e){this.g&&(this.response=e,Kr(this))},Oe.ha=function(){this.g&&Kr(this)},Oe.setRequestHeader=function(e,t){this.v.append(e,t)},Oe.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Oe.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty($r.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Qr=Le.JSON.parse;function Jr(e){Jt.call(this),this.headers=new ir,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Yr,this.K=this.L=!1}We(Jr,Jt);var Yr="",Xr=/^https?$/i,Zr=["POST","PUT"];function ei(e){return"content-type"==e.toLowerCase()}function ti(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ni(e),ii(e)}function ni(e){e.D||(e.D=!0,Yt(e,"complete"),Yt(e,"error"))}function ri(e){if(e.h&&void 0!==De&&(!e.C[1]||4!=oi(e)||2!=e.ba()))if(e.v&&4==oi(e))fn(e.Fa,0,e);else if(Yt(e,"readystatechange"),4==oi(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.H).match(ar)[1]||null;if(!s&&Le.self&&Le.self.location){var o=Le.self.location.protocol;s=o.substr(0,o.length-1)}i=!Xr.test(s?s.toLowerCase():"")}t=i}if(t)Yt(e,"complete"),Yt(e,"success");else{e.m=6;try{var a=2<oi(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.ba()+"]",ni(e)}}finally{ii(e)}}}function ii(e,t){if(e.g){si(e);var n=e.g,r=e.C[0]?Me:null;e.g=null,e.C=null,t||Yt(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function si(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Le.clearTimeout(e.A),e.A=null)}function oi(e){return e.g?e.g.readyState:0}function ai(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Yr:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function li(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return st(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):pr(e,t,n))}function ui(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ci(e){this.za=0,this.l=[],this.h=new bn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ui("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ui("baseRetryDelayMs",5e3,e),this.$a=ui("retryDelaySeedMs",1e4,e),this.Ya=ui("forwardChannelMaxRetries",2,e),this.ra=ui("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Rr(e&&e.concurrentRequestLimit),this.Ca=new Vr,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function hi(e){if(fi(e),3==e.G){var t=e.V++,n=ur(e.F);pr(n,"SID",e.J),pr(n,"RID",t),pr(n,"TYPE","terminate"),vi(e,n),(t=new qn(e,e.h,t,void 0)).K=2,t.v=mr(ur(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon&&(n=Le.navigator.sendBeacon(t.v.toString(),"")),!n&&Le.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ci(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Yn(t)}xi(e)}function di(e){e.g&&(_i(e),e.g.cancel(),e.g=null)}function fi(e){di(e),e.u&&(Le.clearTimeout(e.u),e.u=null),ki(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Le.clearTimeout(e.m),e.m=null)}function pi(e,t){e.l.push(new Ar(e.Za++,t)),3==e.G&&mi(e)}function mi(e){Pr(e.i)||e.m||(e.m=!0,an(e.Ha,e),e.C=0)}function gi(e,t){var n;n=t?t.m:e.V++;var r=ur(e.F);pr(r,"SID",e.J),pr(r,"RID",n),pr(r,"AID",e.U),vi(e,r),e.o&&e.s&&li(r,e.o,e.s),n=new qn(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=yi(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Mr(e.i,n),Hn(n,r,t)}function vi(e,t){e.j&&rr({},(function(e,n){pr(t,n,e)}))}function yi(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Be(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var u=i[l].h,c=i[l].g;if(0>(u-=s))s=Math.max(0,i[l].h-100),a=!1;else try{qr(c,o,"req"+u+"_")}catch(e){r&&r(c)}}if(a){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function wi(e){e.g||e.u||(e.Y=1,an(e.Ga,e),e.A=0)}function bi(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=An(Be(e.Ga,e),Si(e,e.A)),e.A++,!0)}function _i(e){null!=e.B&&(Le.clearTimeout(e.B),e.B=null)}function Ei(e){e.g=new qn(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ur(e.oa);pr(t,"RID","rpc"),pr(t,"SID",e.J),pr(t,"CI",e.N?"0":"1"),pr(t,"AID",e.U),vi(e,t),pr(t,"TYPE","xmlhttp"),e.o&&e.s&&li(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=mr(ur(t)),n.s=null,n.U=!0,Kn(n,e)}function ki(e){null!=e.v&&(Le.clearTimeout(e.v),e.v=null)}function Ii(e,t){var n=null;if(e.g==t){ki(e),_i(e),e.g=null;var r=2}else{if(!Lr(e.i,t))return;n=t.D,Ur(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Yt(r=In(),new Cn(r,n,t,i)),mi(e)}else wi(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Dr(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=An(Be(e.Ha,e,t),Si(e,e.C)),e.C++,0)))}(e,t)||2==r&&bi(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ti(e,5);break;case 4:Ti(e,10);break;case 3:Ti(e,6);break;default:Ti(e,2)}}function Si(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ti(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Be(e.jb,e);n||(n=new lr("//www.google.com/images/cleardot.gif"),Le.location&&"http"==Le.location.protocol||cr(n,"https"),mr(n)),function(e,t){var n=new bn;if(Le.Image){var r=new Image;r.onload=$e(zr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=$e(zr,n,r,"TestLoadImage: error",!1,t),r.onabort=$e(zr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=$e(zr,n,r,"TestLoadImage: timeout",!1,t),Le.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Nn(2);e.G=0,e.j&&e.j.va(t),xi(e),fi(e)}function xi(e){e.G=0,e.I=-1,e.j&&(0==Fr(e.i).length&&0==e.l.length||(e.i.i.length=0,Ye(e.l),e.l.length=0),e.j.ua())}function Ni(e,t,n){var r=function(e){return e instanceof lr?ur(e):new lr(e,void 0)}(n);if(""!=r.i)t&&hr(r,t+"."+r.i),dr(r,r.m);else{var i=Le.location;r=function(e,t,n,r){var i=new lr(null,void 0);return e&&cr(i,e),t&&hr(i,t),n&&dr(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&st(e.aa,(function(e,t){pr(r,t,e)})),t=e.D,n=e.sa,t&&n&&pr(r,t,n),pr(r,"VER",e.ma),vi(e,r),r}function Ci(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Jr(new Br({ib:!0})):new Jr(e.qa)).L=e.H,t}function Ai(){}function Ri(){if(ft&&!(10<=Number(Tt)))throw Error("Environmental error: no available transport.")}function Oi(e,t){Jt.call(this),this.g=new ci(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Xe(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xe(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Li(this)}function Pi(e){Fn.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Di(){jn.call(this),this.status=1}function Li(e){this.g=e}(Oe=Jr.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mn.g(),this.C=this.u?Dn(this.u):Dn(Mn),this.g.onreadystatechange=Be(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void ti(this,e)}e=n||"";var i=new ir(this.headers);r&&rr(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ei,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Le.FormData&&e instanceof Le.FormData,!(0<=Ge(Zr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{si(this),0<this.B&&((this.K=function(e){return ft&&It()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.pa,this)):this.A=fn(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){ti(this,e)}},Oe.pa=function(){void 0!==De&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))},Oe.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Yt(this,"complete"),Yt(this,"abort"),ii(this))},Oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ii(this,!0)),Jr.Z.M.call(this)},Oe.Fa=function(){this.s||(this.F||this.v||this.l?ri(this):this.cb())},Oe.cb=function(){ri(this)},Oe.ba=function(){try{return 2<oi(this)?this.g.status:-1}catch(e){return-1}},Oe.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Oe.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Qr(t)}},Oe.Da=function(){return this.m},Oe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Oe=ci.prototype).ma=8,Oe.G=1,Oe.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},Oe.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new qn(this,this.h,e,void 0),n=this.s;if(this.P&&(n?lt(n=ot(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=yi(this,t,r),pr(i=ur(this.F),"RID",e),pr(i,"CVER",22),this.D&&pr(i,"X-HTTP-Session-Id",this.D),vi(this,i),this.o&&n&&li(i,this.o,n),Mr(this.i,t),this.Ra&&pr(i,"TYPE","init"),this.ja?(pr(i,"$req",r),pr(i,"SID","null"),t.$=!0,Hn(t,i,null)):Hn(t,i,r),this.G=2}}else 3==this.G&&(e?gi(this,e):0==this.l.length||Pr(this.i)||gi(this))},Oe.Ga=function(){if(this.u=null,Ei(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=An(Be(this.bb,this),e)}},Oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nn(10),di(this),Ei(this))},Oe.ab=function(){null!=this.v&&(this.v=null,di(this),bi(this),Nn(19))},Oe.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Nn(2)):(this.h.info("Failed to ping google.com"),Nn(1))},(Oe=Ai.prototype).xa=function(){},Oe.wa=function(){},Oe.va=function(){},Oe.ua=function(){},Oe.Oa=function(){},Ri.prototype.g=function(e,t){return new Oi(e,t)},We(Oi,Jt),Oi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),an(Be(e.hb,e,t))),Nn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ni(e,null,e.W),mi(e)},Oi.prototype.close=function(){hi(this.g)},Oi.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,pi(this.g,t)}else this.v?((t={}).__data__=Zt(e),pi(this.g,t)):pi(this.g,e)},Oi.prototype.M=function(){this.g.j=null,delete this.j,hi(this.g),delete this.g,Oi.Z.M.call(this)},We(Pi,Fn),We(Di,jn),We(Li,Ai),Li.prototype.xa=function(){Yt(this.g,"a")},Li.prototype.wa=function(e){Yt(this.g,new Pi(e))},Li.prototype.va=function(e){Yt(this.g,new Di(e))},Li.prototype.ua=function(){Yt(this.g,"b")},Ri.prototype.createWebChannel=Ri.prototype.g,Oi.prototype.send=Oi.prototype.u,Oi.prototype.open=Oi.prototype.m,Oi.prototype.close=Oi.prototype.close,Rn.NO_ERROR=0,Rn.TIMEOUT=8,Rn.HTTP_ERROR=6,On.COMPLETE="complete",Ln.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",Jt.prototype.listen=Jt.prototype.N,Jr.prototype.listenOnce=Jr.prototype.O,Jr.prototype.getLastError=Jr.prototype.La,Jr.prototype.getLastErrorCode=Jr.prototype.Da,Jr.prototype.getStatus=Jr.prototype.ba,Jr.prototype.getResponseJson=Jr.prototype.Qa,Jr.prototype.getResponseText=Jr.prototype.ga,Jr.prototype.send=Jr.prototype.ea;var Mi=function(){return new Ri},Ui=function(){return In()},Fi=Rn,ji=On,Vi=En,qi={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},zi=Br,Bi=Ln,$i=Jr;class Wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");let Hi="9.0.2";const Ki=new Z("@firebase/firestore");function Gi(){return Ki.logLevel}function Qi(e,...t){if(Ki.logLevel<=K.DEBUG){const n=t.map(Xi);Ki.debug(`Firestore (${Hi}): ${e}`,...n)}}function Ji(e,...t){if(Ki.logLevel<=K.ERROR){const n=t.map(Xi);Ki.error(`Firestore (${Hi}): ${e}`,...n)}}function Yi(e,...t){if(Ki.logLevel<=K.WARN){const n=t.map(Xi);Ki.warn(`Firestore (${Hi}): ${e}`,...n)}}function Xi(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Zi(e="Unexpected state"){const t=`FIRESTORE (${Hi}) INTERNAL ASSERTION FAILED: `+e;throw Ji(t),new Error(t)}function es(e,t){e||Zi()}function ts(e,t){return e}const ns={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rs extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class is{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ss{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class os{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Wi.UNAUTHENTICATED)))}shutdown(){}}class as{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ls{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new is;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new is,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Qi("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Qi("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new is)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Qi("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(es("string"==typeof t.accessToken),new ss(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return es(null===e||"string"==typeof e),new Wi(e)}}class us{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Wi.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class cs{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new us(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Wi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function ds(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}hs.T=-1;class fs{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=ds(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function ps(e,t){return e<t?-1:e>t?1:0}function ms(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function gs(e){return e+"\0"}class vs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rs(ns.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rs(ns.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rs(ns.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rs(ns.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vs.fromMillis(Date.now())}static fromDate(e){return vs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new vs(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ps(this.nanoseconds,e.nanoseconds):ps(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ys{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ys(e)}static min(){return new ys(new vs(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ws(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _s(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Es{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zi(),void 0===n?n=e.length-t:n>e.length-t&&Zi(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Es.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ks extends Es{construct(e,t,n){return new ks(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new rs(ns.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new ks(t)}static emptyPath(){return new ks([])}}const Is=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ss extends Es{construct(e,t,n){return new Ss(e,t,n)}static isValidIdentifier(e){return Is.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ss.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ss(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new rs(ns.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new rs(ns.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new rs(ns.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new rs(ns.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ss(t)}static emptyPath(){return new Ss([])}}class Ts{constructor(e){this.fields=e,e.sort(Ss.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ms(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class xs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xs(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new xs(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ps(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xs.EMPTY_BYTE_STRING=new xs("");const Ns=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(e){if(es(!!e),"string"==typeof e){let t=0;const n=Ns.exec(e);if(es(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:As(e.seconds),nanos:As(e.nanos)}}function As(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rs(e){return"string"==typeof e?xs.fromBase64String(e):xs.fromUint8Array(e)}function Os(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ps(e){const t=e.mapValue.fields.__previous_value__;return Os(t)?Ps(t):t}function Ds(e){const t=Cs(e.mapValue.fields.__local_write_time__.timestampValue);return new vs(t.seconds,t.nanos)}function Ls(e){return null==e}function Ms(e){return 0===e&&1/e==-1/0}function Us(e){return"number"==typeof e&&Number.isInteger(e)&&!Ms(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Fs{constructor(e){this.path=e}static fromPath(e){return new Fs(ks.fromString(e))}static fromName(e){return new Fs(ks.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===ks.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ks.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fs(new ks(e.slice()))}}function js(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Os(e)?4:10:Zi()}function Vs(e,t){const n=js(e);if(n!==js(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ds(e).isEqual(Ds(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Cs(e.timestampValue),r=Cs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rs(e.bytesValue).isEqual(Rs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return As(e.geoPointValue.latitude)===As(t.geoPointValue.latitude)&&As(e.geoPointValue.longitude)===As(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return As(e.integerValue)===As(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=As(e.doubleValue),r=As(t.doubleValue);return n===r?Ms(n)===Ms(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ms(e.arrayValue.values||[],t.arrayValue.values||[],Vs);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ws(n)!==ws(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Vs(n[e],r[e])))return!1;return!0}(e,t);default:return Zi()}}function qs(e,t){return void 0!==(e.values||[]).find((e=>Vs(e,t)))}function zs(e,t){const n=js(e),r=js(t);if(n!==r)return ps(n,r);switch(n){case 0:return 0;case 1:return ps(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=As(e.integerValue||e.doubleValue),r=As(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bs(e.timestampValue,t.timestampValue);case 4:return Bs(Ds(e),Ds(t));case 5:return ps(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Rs(e),r=Rs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=ps(n[e],r[e]);if(0!==t)return t}return ps(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ps(As(e.latitude),As(t.latitude));return 0!==n?n:ps(As(e.longitude),As(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=zs(n[e],r[e]);if(t)return t}return ps(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=ps(r[e],s[e]);if(0!==t)return t;const o=zs(n[r[e]],i[s[e]]);if(0!==o)return o}return ps(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Zi()}}function Bs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ps(e,t);const n=Cs(e),r=Cs(t),i=ps(n.seconds,r.seconds);return 0!==i?i:ps(n.nanos,r.nanos)}function $s(e){return Ws(e)}function Ws(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Cs(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Fs.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ws(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ws(e.fields[i])}`;return n+"}"}(e.mapValue):Zi();var t,n}function Hs(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ks(e){return!!e&&"integerValue"in e}function Gs(e){return!!e&&"arrayValue"in e}function Qs(e){return!!e&&"nullValue"in e}function Js(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ys(e){return!!e&&"mapValue"in e}function Xs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return bs(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Xs(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xs(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Zs{constructor(e){this.value=e}static empty(){return new Zs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ys(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xs(t)}setAll(e){let t=Ss.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Xs(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ys(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ys(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){bs(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Zs(Xs(this.value))}}function eo(e){const t=[];return bs(e.fields,((e,n)=>{const r=new Ss([e]);if(Ys(n)){const e=eo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ts(t)}class to{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new to(e,0,ys.min(),Zs.empty(),0)}static newFoundDocument(e,t,n){return new to(e,1,t,n,0)}static newNoDocument(e,t){return new to(e,2,t,Zs.empty(),0)}static newUnknownDocument(e,t){return new to(e,3,t,Zs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof to&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new to(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class no{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function ro(e,t=null,n=[],r=[],i=null,s=null,o=null){return new no(e,t,n,r,i,s,o)}function io(e){const t=ts(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+$s(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ls(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=yo(t.startAt)),t.endAt&&(e+="|ub:",e+=yo(t.endAt)),t.A=e}return t.A}function so(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Vs(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Eo(e.startAt,t.startAt)&&Eo(e.endAt,t.endAt)}function oo(e){return Fs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ao extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new lo(e,t,n):"array-contains"===t?new fo(e,n):"in"===t?new po(e,n):"not-in"===t?new mo(e,n):"array-contains-any"===t?new go(e,n):new ao(e,t,n)}static R(e,t,n){return"in"===t?new uo(e,n):new co(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(zs(t,this.value)):null!==t&&js(this.value)===js(t)&&this.P(zs(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zi()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class lo extends ao{constructor(e,t,n){super(e,t,n),this.key=Fs.fromName(n.referenceValue)}matches(e){const t=Fs.comparator(e.key,this.key);return this.P(t)}}class uo extends ao{constructor(e,t){super(e,"in",t),this.keys=ho("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class co extends ao{constructor(e,t){super(e,"not-in",t),this.keys=ho("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ho(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Fs.fromName(e.referenceValue)))}class fo extends ao{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gs(t)&&qs(t.arrayValue,this.value)}}class po extends ao{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qs(this.value.arrayValue,t)}}class mo extends ao{constructor(e,t){super(e,"not-in",t)}matches(e){if(qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qs(this.value.arrayValue,t)}}class go extends ao{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gs(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>qs(this.value.arrayValue,e)))}}class vo{constructor(e,t){this.position=e,this.before=t}}function yo(e){return`${e.before?"b":"a"}:${e.position.map((e=>$s(e))).join(",")}`}class wo{constructor(e,t="asc"){this.field=e,this.dir=t}}function bo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function _o(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Fs.comparator(Fs.fromName(o.referenceValue),n.key):zs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Eo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vs(e.position[n],t.position[n]))return!1;return!0}class ko{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null,this.startAt,this.endAt}}function Io(e,t,n,r,i,s,o,a){return new ko(e,t,n,r,i,s,o,a)}function So(e){return new ko(e)}function To(e){return!Ls(e.limit)&&"F"===e.limitType}function xo(e){return!Ls(e.limit)&&"L"===e.limitType}function No(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Co(e){for(const t of e.filters)if(t.v())return t.field;return null}function Ao(e){return null!==e.collectionGroup}function Ro(e){const t=ts(e);if(null===t.V){t.V=[];const e=Co(t),n=No(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new wo(e)),t.V.push(new wo(Ss.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new wo(Ss.keyField(),e))}}}return t.V}function Oo(e){const t=ts(e);if(!t.S)if("F"===t.limitType)t.S=ro(t.path,t.collectionGroup,Ro(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Ro(t)){const t="desc"===n.dir?"asc":"desc";e.push(new wo(n.field,t))}const n=t.endAt?new vo(t.endAt.position,!t.endAt.before):null,r=t.startAt?new vo(t.startAt.position,!t.startAt.before):null;t.S=ro(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function Po(e,t,n){return new ko(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Do(e,t){return so(Oo(e),Oo(t))&&e.limitType===t.limitType}function Lo(e){return`${io(Oo(e))}|lt:${e.limitType}`}function Mo(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${$s(t.value)}`;var t})).join(", ")}]`),Ls(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+yo(e.startAt)),e.endAt&&(t+=", endAt: "+yo(e.endAt)),`Target(${t})`}(Oo(e))}; limitType=${e.limitType})`}function Uo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!_o(e.startAt,Ro(e),t))&&(!e.endAt||!_o(e.endAt,Ro(e),t))}(e,t)}function Fo(e){return(t,n)=>{let r=!1;for(const i of Ro(e)){const e=jo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function jo(e,t,n){const r=e.field.isKeyField()?Fs.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?zs(r,i):Zi()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zi()}}function Vo(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ms(t)?"-0":t}}function qo(e){return{integerValue:""+e}}function zo(e,t){return Us(t)?qo(t):Vo(e,t)}class Bo{constructor(){this._=void 0}}function $o(e,t,n){return e instanceof Ko?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Go?Qo(e,t):e instanceof Jo?Yo(e,t):function(e,t){const n=Ho(e,t),r=Zo(n)+Zo(e.C);return Ks(n)&&Ks(e.C)?qo(r):Vo(e.N,r)}(e,t)}function Wo(e,t,n){return e instanceof Go?Qo(e,t):e instanceof Jo?Yo(e,t):n}function Ho(e,t){return e instanceof Xo?Ks(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Ko extends Bo{}class Go extends Bo{constructor(e){super(),this.elements=e}}function Qo(e,t){const n=ea(t);for(const t of e.elements)n.some((e=>Vs(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Jo extends Bo{constructor(e){super(),this.elements=e}}function Yo(e,t){let n=ea(t);for(const t of e.elements)n=n.filter((e=>!Vs(e,t)));return{arrayValue:{values:n}}}class Xo extends Bo{constructor(e,t){super(),this.N=e,this.C=t}}function Zo(e){return As(e.integerValue||e.doubleValue)}function ea(e){return Gs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ta{constructor(e,t){this.field=e,this.transform=t}}class na{constructor(e,t){this.version=e,this.transformResults=t}}class ra{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ra}static exists(e){return new ra(void 0,e)}static updateTime(e){return new ra(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ia(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class sa{}function oa(e,t,n){e instanceof ha?function(e,t,n){const r=e.value.clone(),i=pa(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof da?function(e,t,n){if(!ia(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=pa(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fa(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function aa(e,t,n){e instanceof ha?function(e,t,n){if(!ia(e.precondition,t))return;const r=e.value.clone(),i=ma(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ca(t),r).setHasLocalMutations()}(e,t,n):e instanceof da?function(e,t,n){if(!ia(e.precondition,t))return;const r=ma(e.fieldTransforms,n,t),i=t.data;i.setAll(fa(e)),i.setAll(r),t.convertToFoundDocument(ca(t),i).setHasLocalMutations()}(e,t,n):function(e,t){ia(e.precondition,t)&&t.convertToNoDocument(ys.min())}(e,t)}function la(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ho(r.transform,e||null);null!=i&&(null==n&&(n=Zs.empty()),n.set(r.field,i))}return n||null}function ua(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ms(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Go&&t instanceof Go||e instanceof Jo&&t instanceof Jo?ms(e.elements,t.elements,Vs):e instanceof Xo&&t instanceof Xo?Vs(e.C,t.C):e instanceof Ko&&t instanceof Ko}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ca(e){return e.isFoundDocument()?e.version:ys.min()}class ha extends sa{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class da extends sa{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function fa(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function pa(e,t,n){const r=new Map;es(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Wo(o,a,n[i]))}return r}function ma(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,$o(e,s,t))}return r}class ga extends sa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class va extends sa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ya{constructor(e){this.count=e}}var wa,ba;function _a(e){switch(e){case ns.OK:return Zi();case ns.CANCELLED:case ns.UNKNOWN:case ns.DEADLINE_EXCEEDED:case ns.RESOURCE_EXHAUSTED:case ns.INTERNAL:case ns.UNAVAILABLE:case ns.UNAUTHENTICATED:return!1;case ns.INVALID_ARGUMENT:case ns.NOT_FOUND:case ns.ALREADY_EXISTS:case ns.PERMISSION_DENIED:case ns.FAILED_PRECONDITION:case ns.ABORTED:case ns.OUT_OF_RANGE:case ns.UNIMPLEMENTED:case ns.DATA_LOSS:return!0;default:return Zi()}}function Ea(e){if(void 0===e)return Ji("GRPC error has no .code"),ns.UNKNOWN;switch(e){case wa.OK:return ns.OK;case wa.CANCELLED:return ns.CANCELLED;case wa.UNKNOWN:return ns.UNKNOWN;case wa.DEADLINE_EXCEEDED:return ns.DEADLINE_EXCEEDED;case wa.RESOURCE_EXHAUSTED:return ns.RESOURCE_EXHAUSTED;case wa.INTERNAL:return ns.INTERNAL;case wa.UNAVAILABLE:return ns.UNAVAILABLE;case wa.UNAUTHENTICATED:return ns.UNAUTHENTICATED;case wa.INVALID_ARGUMENT:return ns.INVALID_ARGUMENT;case wa.NOT_FOUND:return ns.NOT_FOUND;case wa.ALREADY_EXISTS:return ns.ALREADY_EXISTS;case wa.PERMISSION_DENIED:return ns.PERMISSION_DENIED;case wa.FAILED_PRECONDITION:return ns.FAILED_PRECONDITION;case wa.ABORTED:return ns.ABORTED;case wa.OUT_OF_RANGE:return ns.OUT_OF_RANGE;case wa.UNIMPLEMENTED:return ns.UNIMPLEMENTED;case wa.DATA_LOSS:return ns.DATA_LOSS;default:return Zi()}}(ba=wa||(wa={}))[ba.OK=0]="OK",ba[ba.CANCELLED=1]="CANCELLED",ba[ba.UNKNOWN=2]="UNKNOWN",ba[ba.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ba[ba.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ba[ba.NOT_FOUND=5]="NOT_FOUND",ba[ba.ALREADY_EXISTS=6]="ALREADY_EXISTS",ba[ba.PERMISSION_DENIED=7]="PERMISSION_DENIED",ba[ba.UNAUTHENTICATED=16]="UNAUTHENTICATED",ba[ba.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ba[ba.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ba[ba.ABORTED=10]="ABORTED",ba[ba.OUT_OF_RANGE=11]="OUT_OF_RANGE",ba[ba.UNIMPLEMENTED=12]="UNIMPLEMENTED",ba[ba.INTERNAL=13]="INTERNAL",ba[ba.UNAVAILABLE=14]="UNAVAILABLE",ba[ba.DATA_LOSS=15]="DATA_LOSS";class ka{constructor(e,t){this.comparator=e,this.root=t||Sa.EMPTY}insert(e,t){return new ka(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sa.BLACK,null,null))}remove(e){return new ka(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ia(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ia(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ia(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ia(this.root,e,this.comparator,!0)}}class Ia{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sa{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Sa.RED,this.left=null!=r?r:Sa.EMPTY,this.right=null!=i?i:Sa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Sa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Sa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zi();if(this.right.isRed())throw Zi();const e=this.left.check();if(e!==this.right.check())throw Zi();return e+(this.isRed()?0:1)}}Sa.EMPTY=null,Sa.RED=!0,Sa.BLACK=!1,Sa.EMPTY=new class{constructor(){this.size=0}get key(){throw Zi()}get value(){throw Zi()}get color(){throw Zi()}get left(){throw Zi()}get right(){throw Zi()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Sa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ta{constructor(e){this.comparator=e,this.data=new ka(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xa(this.data.getIterator())}getIteratorFrom(e){return new xa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ta))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ta(this.comparator);return t.data=e,t}}class xa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Na=new ka(Fs.comparator);function Ca(){return Na}const Aa=new ka(Fs.comparator);function Ra(){return Aa}const Oa=new ka(Fs.comparator);function Pa(){return Oa}const Da=new Ta(Fs.comparator);function La(...e){let t=Da;for(const n of e)t=t.add(n);return t}const Ma=new Ta(ps);function Ua(){return Ma}class Fa{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,ja.createSynthesizedTargetChangeForCurrentChange(e,t)),new Fa(ys.min(),n,Ua(),Ca(),La())}}class ja{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ja(xs.EMPTY_BYTE_STRING,t,La(),La(),La())}}class Va{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class qa{constructor(e,t){this.targetId=e,this.O=t}}class za{constructor(e,t,n=xs.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ba{constructor(){this.F=0,this.M=Ha(),this.L=xs.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=La(),t=La(),n=La();return this.M.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zi()}})),new ja(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Ha()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class $a{constructor(e){this.tt=e,this.et=new Map,this.nt=Ca(),this.st=Wa(),this.it=new Ta(ps)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,(t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:Zi()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach(((e,n)=>{this.ht(n)&&t(n)}))}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(oo(e))if(0===n){const n=new Fs(e.path);this.at(t,n,to.newNoDocument(n,ys.min()))}else es(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach(((n,r)=>{const i=this.dt(r);if(i){if(n.current&&oo(i.target)){const t=new Fs(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,to.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}}));let n=La();this.st.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new Fa(e,t,this.it,this.nt,n);return this.nt=Ca(),this.st=Wa(),this.it=new Ta(ps),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Ba,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Ta(ps),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Qi("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new Ba),this.tt.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Wa(){return new ka(Fs.comparator)}function Ha(){return new ka(Fs.comparator)}const Ka={asc:"ASCENDING",desc:"DESCENDING"},Ga={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Qa{constructor(e,t){this.databaseId=e,this.D=t}}function Ja(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ya(e,t){return e.D?t.toBase64():t.toUint8Array()}function Xa(e,t){return Ja(e,t.toTimestamp())}function Za(e){return es(!!e),ys.fromTimestamp(function(e){const t=Cs(e);return new vs(t.seconds,t.nanos)}(e))}function el(e,t){return function(e){return new ks(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function tl(e){const t=ks.fromString(e);return es(Sl(t)),t}function nl(e,t){return el(e.databaseId,t.path)}function rl(e,t){const n=tl(t);if(n.get(1)!==e.databaseId.projectId)throw new rs(ns.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rs(ns.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fs(al(n))}function il(e,t){return el(e.databaseId,t)}function sl(e){const t=tl(e);return 4===t.length?ks.emptyPath():al(t)}function ol(e){return new ks(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function al(e){return es(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ll(e,t,n){return{name:nl(e,t),fields:n.value.mapValue.fields}}function ul(e,t,n){const r=rl(e,t.name),i=Za(t.updateTime),s=new Zs({mapValue:{fields:t.fields}}),o=to.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function cl(e,t){let n;if(t instanceof ha)n={update:ll(e,t.key,t.value)};else if(t instanceof ga)n={delete:nl(e,t.key)};else if(t instanceof da)n={update:ll(e,t.key,t.data),updateMask:Il(t.fieldMask)};else{if(!(t instanceof va))return Zi();n={verify:nl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ko)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Go)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Jo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xo)return{fieldPath:t.field.canonicalString(),increment:n.C};throw Zi()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xa(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zi()}(e,t.precondition)),n}function hl(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?ra.updateTime(Za(e.updateTime)):void 0!==e.exists?ra.exists(e.exists):ra.none()}(t.currentDocument):ra.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)es("REQUEST_TIME"===t.setToServerValue),n=new Ko;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Go(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Jo(e)}else"increment"in t?n=new Xo(e,t.increment):Zi();const r=Ss.fromServerFormat(t.fieldPath);return new ta(r,n)}(e,t))):[];if(t.update){t.update.name;const i=rl(e,t.update.name),s=new Zs({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ts(t.map((e=>Ss.fromServerFormat(e))))}(t.updateMask);return new da(i,s,e,n,r)}return new ha(i,s,n,r)}if(t.delete){const r=rl(e,t.delete);return new ga(r,n)}if(t.verify){const r=rl(e,t.verify);return new va(r,n)}return Zi()}function dl(e,t){return{documents:[il(e,t.path)]}}function fl(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=il(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=il(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Js(e.value))return{unaryFilter:{field:bl(e.field),op:"IS_NAN"}};if(Qs(e.value))return{unaryFilter:{field:bl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Js(e.value))return{unaryFilter:{field:bl(e.field),op:"IS_NOT_NAN"}};if(Qs(e.value))return{unaryFilter:{field:bl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bl(e.field),op:wl(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:bl(e.field),direction:yl(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||Ls(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=gl(t.startAt)),t.endAt&&(n.structuredQuery.endAt=gl(t.endAt)),n}function pl(e){let t=sl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){es(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=ml(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new wo(_l(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ls(t)?null:t}(n.limit));let l=null;n.startAt&&(l=vl(n.startAt));let u=null;return n.endAt&&(u=vl(n.endAt)),Io(t,i,o,s,a,"F",l,u)}function ml(e){return e?void 0!==e.unaryFilter?[kl(e)]:void 0!==e.fieldFilter?[El(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>ml(e))).reduce(((e,t)=>e.concat(t))):Zi():[]}function gl(e){return{before:e.before,values:e.position}}function vl(e){const t=!!e.before,n=e.values||[];return new vo(n,t)}function yl(e){return Ka[e]}function wl(e){return Ga[e]}function bl(e){return{fieldPath:e.canonicalString()}}function _l(e){return Ss.fromServerFormat(e.fieldPath)}function El(e){return ao.create(_l(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zi()}}(e.fieldFilter.op),e.fieldFilter.value)}function kl(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_l(e.unaryFilter.field);return ao.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=_l(e.unaryFilter.field);return ao.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_l(e.unaryFilter.field);return ao.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_l(e.unaryFilter.field);return ao.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zi()}}function Il(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Sl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Tl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Nl(t)),t=xl(e.get(n),t);return Nl(t)}function xl(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Nl(e){return e+""}function Cl(e){const t=e.length;if(es(t>=2),2===t)return es(""===e.charAt(0)&&""===e.charAt(1)),ks.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&Zi(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:Zi()}s=t+2}return new ks(r)}class Al{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Rl{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}Rl.store="owner",Rl.key="owner";class Ol{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Ol.store="mutationQueues",Ol.keyPath="userId";class Pl{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Pl.store="mutations",Pl.keyPath="batchId",Pl.userMutationsIndex="userMutationsIndex",Pl.userMutationsKeyPath=["userId","batchId"];class Dl{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Tl(t)]}static key(e,t,n){return[e,Tl(t),n]}}Dl.store="documentMutations",Dl.PLACEHOLDER=new Dl;class Ll{constructor(e,t){this.path=e,this.readTime=t}}class Ml{constructor(e,t){this.path=e,this.version=t}}class Ul{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Ul.store="remoteDocuments",Ul.readTimeIndex="readTimeIndex",Ul.readTimeIndexPath="readTime",Ul.collectionReadTimeIndex="collectionReadTimeIndex",Ul.collectionReadTimeIndexPath=["parentPath","readTime"];class Fl{constructor(e){this.byteSize=e}}Fl.store="remoteDocumentGlobal",Fl.key="remoteDocumentGlobalKey";class jl{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}jl.store="targets",jl.keyPath="targetId",jl.queryTargetsIndexName="queryTargetsIndex",jl.queryTargetsKeyPath=["canonicalId","targetId"];class Vl{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Vl.store="targetDocuments",Vl.keyPath=["targetId","path"],Vl.documentTargetsIndex="documentTargetsIndex",Vl.documentTargetsKeyPath=["path","targetId"];class ql{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}ql.key="targetGlobalKey",ql.store="targetGlobal";class zl{constructor(e,t){this.collectionId=e,this.parent=t}}zl.store="collectionParents",zl.keyPath=["collectionId","parent"];class Bl{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Bl.store="clientMetadata",Bl.keyPath="clientId";class $l{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}$l.store="bundles",$l.keyPath="bundleId";class Wl{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Wl.store="namedQueries",Wl.keyPath="name";const Hl=[Ol.store,Pl.store,Dl.store,Ul.store,jl.store,Rl.store,ql.store,Vl.store,Bl.store,Fl.store,zl.store,$l.store,Wl.store],Kl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class Ql{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ql(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ql?t:Ql.resolve(t)}catch(e){return Ql.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ql.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ql.reject(t)}static resolve(e){return new Ql(((t,n)=>{t(e)}))}static reject(e){return new Ql(((t,n)=>{n(e)}))}static waitFor(e){return new Ql(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Ql.resolve(!1);for(const n of e)t=t.next((e=>e?Ql.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class Jl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Tt=new is,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{t.error?this.Tt.reject(new Zl(e,t.error)):this.Tt.resolve()},this.transaction.onerror=t=>{const n=iu(t.target.error);this.Tt.reject(new Zl(e,n))}}static open(e,t,n,r){try{return new Jl(t,e.transaction(r,n))}catch(e){throw new Zl(t,e)}}get It(){return this.Tt.promise}abort(e){e&&this.Tt.reject(e),this.aborted||(Qi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new tu(t)}}class Yl{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===Yl.Rt(b())&&Ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qi("SimpleDb","Removing database:",e),nu(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(Yl.Pt())return!0;const e=b(),t=Yl.Rt(e),n=0<t&&t<10,r=Yl.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Dt(e){return this.db||(Qi("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Zl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new rs(ns.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new rs(ns.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Zl(e,r))},r.onupgradeneeded=e=>{Qi("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.At.Ct(t,r.transaction,e.oldVersion,this.version).next((()=>{Qi("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.Nt&&(this.db.onversionchange=e=>this.Nt(e)),this.db}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Dt(e);const t=Jl.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch((e=>(t.abort(e),Ql.reject(e)))).toPromise();return s.catch((()=>{})),await t.It,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(Qi("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Xl{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return nu(this.kt.delete())}}class Zl extends rs{constructor(e,t){super(ns.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function eu(e){return"IndexedDbTransactionError"===e.name}class tu{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Qi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Qi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),nu(n)}add(e){return Qi("SimpleDb","ADD",this.store.name,e,e),nu(this.store.add(e))}get(e){return nu(this.store.get(e)).next((t=>(void 0===t&&(t=null),Qi("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Qi("SimpleDb","DELETE",this.store.name,e),nu(this.store.delete(e))}count(){return Qi("SimpleDb","COUNT",this.store.name),nu(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,((e,t)=>{r.push(t)})).next((()=>r))}Ut(e,t){Qi("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,((e,t,n)=>n.delete()))}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new Ql(((n,r)=>{t.onerror=e=>{const t=iu(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Bt(e,t){const n=[];return new Ql(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Xl(i),o=t(i.primaryKey,i.value,s);if(o instanceof Ql){const e=o.catch((e=>(s.done(),Ql.reject(e))));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}})).next((()=>Ql.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nu(e){return new Ql(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=iu(e.target.error);n(t)}}))}let ru=!1;function iu(e){const t=Yl.Rt(b());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new rs("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ru||(ru=!0,setTimeout((()=>{throw e}),0)),e}}return e}class su extends Gl{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function ou(e,t){const n=ts(e);return Yl.St(n.Qt,t)}class au{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&oa(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&aa(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&aa(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(ys.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),La())}isEqual(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,((e,t)=>ua(e,t)))&&ms(this.baseMutations,e.baseMutations,((e,t)=>ua(e,t)))}}class lu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){es(e.mutations.length===n.length);let r=Pa();const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new lu(e,t,n,r)}}class uu{constructor(e,t,n,r,i=ys.min(),s=ys.min(),o=xs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new uu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cu{constructor(e){this.Wt=e}}function hu(e,t){if(t.document)return ul(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Fs.fromSegments(t.noDocument.path),n=gu(t.noDocument.readTime),r=to.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Fs.fromSegments(t.unknownDocument.path),n=gu(t.unknownDocument.version);return to.newUnknownDocument(e,n)}return Zi()}function du(e,t,n){const r=fu(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:nl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ja(e,t.version.toTimestamp())}}(e.Wt,t),s=t.hasCommittedMutations;return new Ul(null,null,n,s,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=mu(t.version),s=t.hasCommittedMutations;return new Ul(null,new Ll(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=mu(t.version);return new Ul(new Ml(e,n),null,null,!0,r,i)}return Zi()}function fu(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function pu(e){const t=new vs(e[0],e[1]);return ys.fromTimestamp(t)}function mu(e){const t=e.toTimestamp();return new Al(t.seconds,t.nanoseconds)}function gu(e){const t=new vs(e.seconds,e.nanoseconds);return ys.fromTimestamp(t)}function vu(e,t){const n=(t.baseMutations||[]).map((t=>hl(e.Wt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>hl(e.Wt,t))),i=vs.fromMillis(t.localWriteTimeMs);return new au(t.batchId,i,n,r)}function yu(e){const t=gu(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?gu(e.lastLimboFreeSnapshotVersion):ys.min();let r;var i;return void 0!==e.query.documents?(es(1===(i=e.query).documents.length),r=Oo(So(sl(i.documents[0])))):r=function(e){return Oo(pl(e))}(e.query),new uu(r,e.targetId,0,e.lastListenSequenceNumber,t,n,xs.fromBase64String(e.resumeToken))}function wu(e,t){const n=mu(t.snapshotVersion),r=mu(t.lastLimboFreeSnapshotVersion);let i;i=oo(t.target)?dl(e.Wt,t.target):fl(e.Wt,t.target);const s=t.resumeToken.toBase64();return new jl(t.targetId,io(t.target),n,s,t.sequenceNumber,r,i)}function bu(e){const t=pl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Po(t,t.limit,"L"):t}class _u{getBundleMetadata(e,t){return Eu(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:gu(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return Eu(e).put({bundleId:(n=t).id,createTime:mu(Za(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return ku(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:bu(t.bundledQuery),readTime:gu(t.readTime)};var t}))}saveNamedQuery(e,t){return ku(e).put(function(e){return{name:e.name,readTime:mu(Za(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Eu(e){return ou(e,$l.store)}function ku(e){return ou(e,Wl.store)}class Iu{constructor(){this.Gt=new Su}addToCollectionParentIndex(e,t){return this.Gt.add(t),Ql.resolve()}getCollectionParents(e,t){return Ql.resolve(this.Gt.getEntries(t))}}class Su{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ta(ks.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ta(ks.comparator)).toArray()}}class Tu{constructor(){this.zt=new Su}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.zt.add(t)}));const i={collectionId:n,parent:Tl(r)};return xu(e).put(i)}return Ql.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[gs(t),""],!1,!0);return xu(e).Lt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Cl(r.parent))}return n}))}}function xu(e){return ou(e,zl.store)}const Nu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cu{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Cu(e,Cu.DEFAULT_COLLECTION_PERCENTILE,Cu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Au(e,t,n){const r=e.store(Pl.store),i=e.store(Dl.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Kt({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{es(1===a)})));const u=[];for(const e of n.mutations){const r=Dl.key(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return Ql.waitFor(s).next((()=>u))}function Ru(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Zi();t=e.noDocument}return JSON.stringify(t).length}Cu.DEFAULT_COLLECTION_PERCENTILE=10,Cu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cu.DEFAULT=new Cu(41943040,Cu.DEFAULT_COLLECTION_PERCENTILE,Cu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cu.DISABLED=new Cu(-1,0,0);class Ou{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){es(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Ou(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Du(e).Kt({index:Pl.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Lu(e),s=Du(e);return s.add({}).next((o=>{es("number"==typeof o);const a=new au(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>cl(e.Wt,t))),i=n.mutations.map((t=>cl(e.Wt,t)));return new Pl(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),u=[];let c=new Ta(((e,t)=>ps(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Dl.key(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,Dl.PLACEHOLDER))}return c.forEach((t=>{u.push(this.Ht.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Jt[o]=a.keys()})),Ql.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return Du(e).get(t).next((e=>e?(es(e.userId===this.userId),vu(this.N,e)):null))}Xt(e,t){return this.Jt[t]?Ql.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Du(e).Kt({index:Pl.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(es(t.batchId>=n),i=vu(this.N,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Du(e).Kt({index:Pl.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Du(e).Lt(Pl.userMutationsIndex,t).next((e=>e.map((e=>vu(this.N,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Dl.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Lu(e).Kt({range:r},((n,r,s)=>{const[o,a,l]=n,u=Cl(a);if(o===this.userId&&t.path.isEqual(u))return Du(e).get(l).next((e=>{if(!e)throw Zi();es(e.userId===this.userId),i.push(vu(this.N,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ta(ps);const r=[];return t.forEach((t=>{const i=Dl.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Lu(e).Kt({range:s},((e,r,i)=>{const[s,o,a]=e,l=Cl(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),Ql.waitFor(r).next((()=>this.Zt(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Dl.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Ta(ps);return Lu(e).Kt({range:s},((e,t,i)=>{const[s,a,l]=e,u=Cl(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Zt(e,o)))}Zt(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Du(e).get(t).next((e=>{if(null===e)throw Zi();es(e.userId===this.userId),n.push(vu(this.N,e))})))})),Ql.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Au(e.Qt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.te(t.batchId)})),Ql.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ql.resolve();const n=IDBKeyRange.lowerBound(Dl.prefixForUser(this.userId)),r=[];return Lu(e).Kt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Cl(e[1]);r.push(t)}else n.done()})).next((()=>{es(0===r.length)}))}))}containsKey(e,t){return Pu(e,this.userId,t)}ee(e){return Mu(e).get(this.userId).next((e=>e||new Ol(this.userId,-1,"")))}}function Pu(e,t,n){const r=Dl.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Lu(e).Kt({range:s,qt:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Du(e){return ou(e,Pl.store)}function Lu(e){return ou(e,Dl.store)}function Mu(e){return ou(e,Ol.store)}class Uu{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Uu(0)}static ie(){return new Uu(-1)}}class Fu{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next((t=>{const n=new Uu(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.re(e).next((e=>ys.fromTimestamp(new vs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.re(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.re(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r))))}addTargetData(e,t){return this.ae(e,t).next((()=>this.re(e).next((n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>ju(e).delete(t.targetId))).next((()=>this.re(e))).next((t=>(es(t.targetCount>0),t.targetCount-=1,this.oe(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return ju(e).Kt(((s,o)=>{const a=yu(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Ql.waitFor(i))).next((()=>r))}forEachTarget(e,t){return ju(e).Kt(((e,n)=>{const r=yu(n);t(r)}))}re(e){return Vu(e).get(ql.key).next((e=>(es(null!==e),e)))}oe(e,t){return Vu(e).put(ql.key,t)}ae(e,t){return ju(e).put(wu(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next((e=>e.targetCount))}getTargetData(e,t){const n=io(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return ju(e).Kt({range:r,index:jl.queryTargetsIndexName},((e,n,r)=>{const s=yu(n);so(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=qu(e);return t.forEach((t=>{const s=Tl(t.path);r.push(i.put(new Vl(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))})),Ql.waitFor(r)}removeMatchingKeys(e,t,n){const r=qu(e);return Ql.forEach(t,(t=>{const i=Tl(t.path);return Ql.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=qu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=qu(e);let i=La();return r.Kt({range:n,qt:!0},((e,t,n)=>{const r=Cl(e[1]),s=new Fs(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Tl(t.path),r=IDBKeyRange.bound([n],[gs(n)],!1,!0);let i=0;return qu(e).Kt({index:Vl.documentTargetsIndex,qt:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}Et(e,t){return ju(e).get(t).next((e=>e?yu(e):null))}}function ju(e){return ou(e,jl.store)}function Vu(e){return ou(e,ql.store)}function qu(e){return ou(e,Vl.store)}async function zu(e){if(e.code!==ns.FAILED_PRECONDITION||e.message!==Kl)throw e;Qi("LocalStore","Unexpectedly lost primary lease")}function Bu([e,t],[n,r]){const i=ps(e,n);return 0===i?ps(t,r):i}class $u{constructor(e){this.ue=e,this.buffer=new Ta(Bu),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Bu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wu{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){const t=this.de?3e5:6e4;Qi("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.we=null,this.de=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){eu(e)?Qi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await zu(e)}await this._e(e)}))}}class Hu{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ql.resolve(hs.T);const n=new $u(t);return this.me.forEachTarget(e,(e=>n.fe(e.sequenceNumber))).next((()=>this.me.ye(e,(e=>n.fe(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qi("LruGarbageCollector","Garbage collection skipped; disabled"),Ql.resolve(Nu)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Qi("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nu):this.pe(e,t)))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Qi("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Gi()<=K.DEBUG&&Qi("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),Ql.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class Ku{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Hu(e,t)}(this,t)}ge(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Ee(e){let t=0;return this.ye(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Te(e,((e,n)=>t(n)))}addReference(e,t,n){return Gu(e,n)}removeReference(e,t,n){return Gu(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Gu(e,t)}Ie(e,t){return function(e,t){let n=!1;return Mu(e).jt((r=>Pu(e,r,t).next((e=>(e&&(n=!0),Ql.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Te(e,((s,o)=>{if(o<=t){const t=this.Ie(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s),qu(e).delete([0,Tl(s.path)]))))}));r.push(t)}})).next((()=>Ql.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Gu(e,t)}Te(e,t){const n=qu(e);let r,i=hs.T;return n.Kt({index:Vl.documentTargetsIndex},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==hs.T&&t(new Fs(Cl(r)),i),i=o,r=s):i=hs.T})).next((()=>{i!==hs.T&&t(new Fs(Cl(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gu(e,t){return qu(e).put(function(e,t){return new Vl(0,Tl(e.path),t)}(t,e.currentSequenceNumber))}class Qu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){bs(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return _s(this.inner)}}class Ju{constructor(){this.changes=new Qu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:ys.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:to.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ql.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yu{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return ec(e).put(tc(t),n)}removeEntry(e,t){const n=ec(e),r=tc(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Ae(e,n))))}getEntry(e,t){return ec(e).get(tc(t)).next((e=>this.Re(t,e)))}be(e,t){return ec(e).get(tc(t)).next((e=>({document:this.Re(t,e),size:Ru(e)})))}getEntries(e,t){let n=Ca();return this.Pe(e,t,((e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)})).next((()=>n))}ve(e,t){let n=Ca(),r=new ka(Fs.comparator);return this.Pe(e,t,((e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,Ru(t))})).next((()=>({documents:n,Ve:r})))}Pe(e,t,n){if(t.isEmpty())return Ql.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return ec(e).Kt({range:r},((e,t,r)=>{const o=Fs.fromSegments(e);for(;s&&Fs.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()})).next((()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let r=Ca();const i=t.path.length+1,s={};if(n.isEqual(ys.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=fu(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Ul.collectionReadTimeIndex}return ec(e).Kt(s,((e,n,s)=>{if(e.length!==i)return;const o=hu(this.N,n);t.path.isPrefixOf(o.key.path)?Uo(t,o)&&(r=r.insert(o.key,o)):s.done()})).next((()=>r))}newChangeBuffer(e){return new Xu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Zu(e).get(Fl.key).next((e=>(es(!!e),e)))}Ae(e,t){return Zu(e).put(Fl.key,t)}Re(e,t){if(t){const e=hu(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(ys.min()))return e}return to.newInvalidDocument(e)}}class Xu extends Ju{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Qu((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Ta(((e,t)=>ps(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=du(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=Ru(a);n+=l-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=du(this.Se.N,to.newNoDocument(i,ys.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))})),r.forEach((n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))})),t.push(this.Se.updateMetadata(e,n)),Ql.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next((e=>(this.De.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.Se.ve(e,t).next((({documents:e,Ve:t})=>(t.forEach(((e,t)=>{this.De.set(e,t)})),e)))}}function Zu(e){return ou(e,Fl.store)}function ec(e){return ou(e,Ul.store)}function tc(e){return e.path.toArray()}class nc{constructor(e){this.N=e}Ct(e,t,n,r){es(n<r&&n>=0&&r<=11);const i=new Jl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Rl.store)}(e),function(e){e.createObjectStore(Ol.store,{keyPath:Ol.keyPath}),e.createObjectStore(Pl.store,{keyPath:Pl.keyPath,autoIncrement:!0}).createIndex(Pl.userMutationsIndex,Pl.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Dl.store)}(e),rc(e),function(e){e.createObjectStore(Ul.store)}(e));let s=Ql.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Vl.store),e.deleteObjectStore(jl.store),e.deleteObjectStore(ql.store)}(e),rc(e)),s=s.next((()=>function(e){const t=e.store(ql.store),n=new ql(0,0,ys.min().toTimestamp(),0);return t.put(ql.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(Pl.store).Lt().next((n=>{e.deleteObjectStore(Pl.store),e.createObjectStore(Pl.store,{keyPath:Pl.keyPath,autoIncrement:!0}).createIndex(Pl.userMutationsIndex,Pl.userMutationsKeyPath,{unique:!0});const r=t.store(Pl.store),i=n.map((e=>r.put(e)));return Ql.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(Bl.store,{keyPath:Bl.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Ce(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(Fl.store)}(e),this.Ne(i))))),n<7&&r>=7&&(s=s.next((()=>this.xe(i)))),n<8&&r>=8&&(s=s.next((()=>this.ke(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Ul.store);t.createIndex(Ul.readTimeIndex,Ul.readTimeIndexPath,{unique:!1}),t.createIndex(Ul.collectionReadTimeIndex,Ul.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((()=>this.$e(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore($l.store,{keyPath:$l.keyPath})}(e),function(e){e.createObjectStore(Wl.store,{keyPath:Wl.keyPath})}(e)}))),s}Ne(e){let t=0;return e.store(Ul.store).Kt(((e,n)=>{t+=Ru(n)})).next((()=>{const n=new Fl(t);return e.store(Fl.store).put(Fl.key,n)}))}Ce(e){const t=e.store(Ol.store),n=e.store(Pl.store);return t.Lt().next((t=>Ql.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(Pl.userMutationsIndex,r).next((n=>Ql.forEach(n,(n=>{es(n.userId===t.userId);const r=vu(this.N,n);return Au(e,t.userId,r).next((()=>{}))}))))}))))}xe(e){const t=e.store(Vl.store),n=e.store(Ul.store);return e.store(ql.store).get(ql.key).next((e=>{const r=[];return n.Kt(((n,i)=>{const s=new ks(n),o=function(e){return[0,Tl(e)]}(s);r.push(t.get(o).next((n=>n?Ql.resolve():(n=>t.put(new Vl(0,Tl(n),e.highestListenSequenceNumber)))(s))))})).next((()=>Ql.waitFor(r)))}))}ke(e,t){e.createObjectStore(zl.store,{keyPath:zl.keyPath});const n=t.store(zl.store),r=new Su,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Tl(r)})}};return t.store(Ul.store).Kt({qt:!0},((e,t)=>{const n=new ks(e);return i(n.popLast())})).next((()=>t.store(Dl.store).Kt({qt:!0},(([e,t,n],r)=>{const s=Cl(t);return i(s.popLast())}))))}$e(e){const t=e.store(jl.store);return t.Kt(((e,n)=>{const r=yu(n),i=wu(this.N,r);return t.put(i)}))}}function rc(e){e.createObjectStore(Vl.store,{keyPath:Vl.keyPath}).createIndex(Vl.documentTargetsIndex,Vl.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(jl.store,{keyPath:jl.keyPath}).createIndex(jl.queryTargetsIndexName,jl.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ql.store)}const ic="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sc{constructor(e,t,n,r,i,s,o,a,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=l,this.Me=u,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!sc.bt())throw new rs(ns.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ku(this,r),this.We=t+"main",this.N=new cu(a),this.Ge=new Yl(this.We,11,new nc(this.N)),this.ze=new Fu(this.referenceDelegate,this.N),this.Ht=new Tu,this.He=function(e,t){return new Yu(e,t)}(this.N,this.Ht),this.Je=new _u,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===u&&Ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rs(ns.FAILED_PRECONDITION,ic);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.ze.getHighestSequenceNumber(e)))})).then((e=>{this.Le=new hs(e,this.Fe)})).then((()=>{this.Be=!0})).catch((e=>(this.Ge&&this.Ge.close(),Promise.reject(e))))}nn(e){return this.Qe=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((async()=>{this.started&&await this.Xe()})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>ac(e).put(new Bl(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.sn(e).next((e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.Qe(!1))))}))})).next((()=>this.rn(e))).next((t=>this.isPrimary&&!t?this.on(e).next((()=>!1)):!!t&&this.an(e).next((()=>!0)))))).catch((e=>{if(eu(e))return Qi("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable((()=>this.Qe(e))),this.isPrimary=e}))}sn(e){return oc(e).get(Rl.key).next((e=>Ql.resolve(this.cn(e))))}un(e){return ac(e).delete(this.clientId)}async hn(){if(this.isPrimary&&!this.ln(this.je,18e5)){this.je=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ou(e,Bl.store);return t.Lt().next((e=>{const n=this.fn(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Ql.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ye)for(const t of e)this.Ye.removeItem(this.dn(t.clientId))}}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Xe().then((()=>this.hn())).then((()=>this.en()))))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Ql.resolve(!0):oc(e).get(Rl.key).next((t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new rs(ns.FAILED_PRECONDITION,ic);return!1}}return!(!this.networkEnabled||!this.inForeground)||ac(e).Lt().next((e=>void 0===this.fn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Qi("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),await this.Ge.runTransaction("shutdown","readwrite",[Rl.store,Bl.store],(e=>{const t=new su(e,hs.T);return this.on(t).next((()=>this.un(t)))})),this.Ge.close(),this.yn()}fn(e,t){return e.filter((e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId)))}pn(){return this.runTransaction("getActiveClients","readonly",(e=>ac(e).Lt().next((e=>this.fn(e,18e5).map((e=>e.clientId))))))}get started(){return this.Be}getMutationQueue(e){return Ou.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){Qi("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.Ge.runTransaction(e,r,Hl,(r=>(i=new su(r,this.Le?this.Le.next():hs.T),"readwrite-primary"===t?this.sn(i).next((e=>!!e||this.rn(i))).next((t=>{if(!t)throw Ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.Qe(!1))),new rs(ns.FAILED_PRECONDITION,Kl);return n(i)})).next((e=>this.an(i).next((()=>e)))):this.En(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}En(e){return oc(e).get(Rl.key).next((e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new rs(ns.FAILED_PRECONDITION,ic)}))}an(e){const t=new Rl(this.clientId,this.allowTabSynchronization,Date.now());return oc(e).put(Rl.key,t)}static bt(){return Yl.bt()}on(e){const t=oc(e);return t.get(Rl.key).next((e=>this.cn(e)?(Qi("IndexedDbPersistence","Releasing primary lease."),t.delete(Rl.key)):Ql.resolve()))}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(Ji(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe())))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),!E()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Qi("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Ji("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Ji("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function oc(e){return ou(e,Rl.store)}function ac(e){return ou(e,Bl.store)}function lc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class uc{constructor(e,t){this.progress=e,this.Tn=t}}class cc{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Rn(e,t,n)))}Rn(e,t,n){return this.He.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}bn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}Pn(e,t){return this.He.getEntries(e,t).next((t=>this.vn(e,t).next((()=>t))))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.bn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Fs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):Ao(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new Fs(t)).next((e=>{let t=Ra();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Sn(e,t,n){const r=t.collectionGroup;let i=Ra();return this.Ht.getCollectionParents(e,r).next((s=>Ql.forEach(s,(s=>{const o=function(e,t){return new ko(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Cn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=to.newInvalidDocument(n),r=r.insert(n,i)),aa(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{Uo(t,n)||(r=r.remove(e))})),r)))}Cn(e,t,n){let r=La();for(const e of t)for(const t of e.mutations)t instanceof da&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class hc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=La(),r=La();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new hc(e,t.fromCache,n,r)}}class dc{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ys.min())?this.Fn(e,t):this.On.Pn(e,r).next((i=>{const s=this.Mn(t,i);return(To(t)||xo(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(Gi()<=K.DEBUG&&Qi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Mo(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Mn(e,t){let n=new Ta(Fo(e));return t.forEach(((t,r)=>{Uo(e,r)&&(n=n.add(r))})),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return Gi()<=K.DEBUG&&Qi("QueryEngine","Using full collection scan to execute query:",Mo(t)),this.On.getDocumentsMatchingQuery(e,t,ys.min())}}class fc{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new ka(ps),this.qn=new Qu((e=>io(e)),so),this.Kn=ys.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new cc(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Un)))}}function pc(e,t,n,r){return new fc(e,t,n,r)}async function mc(e,t){const n=ts(e);let r=n.In,i=n.Qn;const s=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.In.getAllMutationBatches(e).next((o=>(s=o,r=n.persistence.getMutationQueue(t),i=new cc(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let o=La();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.Pn(e,o).next((e=>({Wn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}function gc(e){const t=ts(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ze.getLastRemoteSnapshotVersion(e)))}function vc(e,t,n,r,i){let s=La();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=Ca();return n.forEach(((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(ys.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):Qi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function yc(e,t){const n=ts(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t))))}function wc(e,t){const n=ts(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ze.getTargetData(e,t).next((i=>i?(r=i,Ql.resolve(r)):n.ze.allocateTargetId(e).next((i=>(r=new uu(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}async function bc(e,t,n){const r=ts(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!eu(e))throw e;Qi("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function _c(e,t,n){const r=ts(e);let i=ys.min(),s=La();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=ts(e),i=r.qn.get(n);return void 0!==i?Ql.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,Oo(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:ys.min(),n?s:La()))).next((e=>({documents:e,Gn:s})))))}function Ec(e,t){const n=ts(e),r=ts(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Et(e,t).next((e=>e?e.target:null))))}function kc(e){const t=ts(e);return t.persistence.runTransaction("Get new document changes","readonly",(e=>function(e,t,n){const r=ts(e);let i=Ca(),s=fu(n);const o=ec(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:Ul.readTimeIndex,range:a},((e,t)=>{const n=hu(r.N,t);i=i.insert(n.key,n),s=t.readTime})).next((()=>({Tn:i,readTime:pu(s)})))}(t.jn,e,t.Kn))).then((({Tn:e,readTime:n})=>(t.Kn=n,e)))}async function Ic(e,t,n=La()){const r=await wc(e,Oo(bu(t.bundledQuery))),i=ts(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Za(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(xs.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next((()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.ze.addMatchingKeys(e,n,r.targetId))).next((()=>i.Je.saveNamedQuery(e,t)))}))}class Sc{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Ql.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Za(n.createTime)}),Ql.resolve()}getNamedQuery(e,t){return Ql.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:bu(e.bundledQuery),readTime:Za(e.readTime)}}(t)),Ql.resolve()}}class Tc{constructor(){this.Zn=new Ta(xc.ts),this.es=new Ta(xc.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new xc(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.rs(new xc(e,t))}os(e,t){e.forEach((e=>this.removeReference(e,t)))}cs(e){const t=new Fs(new ks([])),n=new xc(t,e),r=new xc(t,e+1),i=[];return this.es.forEachInRange([n,r],(e=>{this.rs(e),i.push(e.key)})),i}us(){this.Zn.forEach((e=>this.rs(e)))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Fs(new ks([])),n=new xc(t,e),r=new xc(t,e+1);let i=La();return this.es.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new xc(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class xc{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Fs.comparator(e.key,t.key)||ps(e.ls,t.ls)}static ns(e,t){return ps(e.ls,t.ls)||Fs.comparator(e.key,t.key)}}class Nc{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Ta(xc.ts)}checkEmpty(e){return Ql.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const s=new au(i,t,n,r);this.In.push(s);for(const t of r)this.ds=this.ds.add(new xc(t.key,i)),this.Ht.addToCollectionParentIndex(e,t.key.path.popLast());return Ql.resolve(s)}lookupMutationBatch(e,t){return Ql.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this._s(n),i=r<0?0:r;return Ql.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return Ql.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Ql.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new xc(t,0),r=new xc(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(e=>{const t=this.ws(e.ls);i.push(t)})),Ql.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ta(ps);return t.forEach((e=>{const t=new xc(e,0),r=new xc(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],(e=>{n=n.add(e.ls)}))})),Ql.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Fs.isDocumentKey(i)||(i=i.child(""));const s=new xc(new Fs(i),0);let o=new Ta(ps);return this.ds.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),s),Ql.resolve(this.gs(o))}gs(e){const t=[];return e.forEach((e=>{const n=this.ws(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){es(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return Ql.forEach(t.mutations,(r=>{const i=new xc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ds=n}))}te(e){}containsKey(e,t){const n=new xc(t,0),r=this.ds.firstAfterOrEqual(n);return Ql.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.In.length,Ql.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Cc{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new ka(Fs.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ql.resolve(n?n.document.clone():to.newInvalidDocument(t))}getEntries(e,t){let n=Ca();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():to.newInvalidDocument(e))})),Ql.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Ca();const i=new Fs(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||Uo(t,i)&&(r=r.insert(i.key,i.clone()))}return Ql.resolve(r)}Es(e,t){return Ql.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ac(this)}getSize(e){return Ql.resolve(this.size)}}class Ac extends Ju{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)})),Ql.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class Rc{constructor(e){this.persistence=e,this.Ts=new Qu((e=>io(e)),so),this.lastRemoteSnapshotVersion=ys.min(),this.highestTargetId=0,this.Is=0,this.As=new Tc,this.targetCount=0,this.Rs=Uu.se()}forEachTarget(e,t){return this.Ts.forEach(((e,n)=>t(n))),Ql.resolve()}getLastRemoteSnapshotVersion(e){return Ql.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ql.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ql.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Ql.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Uu(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Ql.resolve()}updateTargetData(e,t){return this.ae(t),Ql.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Ql.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Ts.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Ql.waitFor(i).next((()=>r))}getTargetCount(e){return Ql.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return Ql.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Ql.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ql.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Ql.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Ql.resolve(n)}containsKey(e,t){return Ql.resolve(this.As.containsKey(t))}}class Oc{constructor(e,t){this.bs={},this.Le=new hs(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Rc(this),this.Ht=new Iu,this.He=function(e,t){return new Cc(e,t)}(this.Ht,(e=>this.referenceDelegate.Ps(e))),this.N=new cu(t),this.Je=new Sc(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Nc(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){Qi("MemoryPersistence","Starting transaction:",e);const r=new Pc(this.Le.next());return this.referenceDelegate.vs(),n(r).next((e=>this.referenceDelegate.Vs(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ss(e,t){return Ql.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class Pc extends Gl{constructor(e){super(),this.currentSequenceNumber=e}}class Dc{constructor(e){this.persistence=e,this.Ds=new Tc,this.Cs=null}static Ns(e){return new Dc(e)}get xs(){if(this.Cs)return this.Cs;throw Zi()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Ql.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Ql.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ql.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ql.forEach(this.xs,(n=>{const r=Fs.fromPath(n);return this.ks(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Cs=null,t.apply(e))))}updateLimboDocument(e,t){return this.ks(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}Ps(e){return 0}ks(e,t){return Ql.or([()=>Ql.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Lc(e,t){return`firestore_clients_${e}_${t}`}function Mc(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Uc(e,t){return`firestore_targets_${e}_${t}`}class Fc{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new rs(r.error.code,r.error.message))),s?new Fc(e,t,r.state,i):(Ji("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jc{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new rs(n.error.code,n.error.message))),i?new jc(e,n.state,r):(Ji("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Ua();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=Us(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new Vc(e,i):(Ji("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class qc{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new qc(t.clientId,t.onlineState):(Ji("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zc{constructor(){this.activeTargetIds=Ua()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bc{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new ka(ps),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=Lc(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new zc),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.pn();for(const t of e){if(t===this.Ls)continue;const e=this.getItem(Lc(this.persistenceKey,t));if(e){const n=Vc.$s(t,e);n&&(this.qs=this.qs.insert(n.clientId,n))}}this.Ys();const t=this.storage.getItem(this.Hs);if(t){const e=this.Xs(t);e&&this.Zs(e)}for(const e of this.Ks)this.Us(e);this.Ks=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Uc(this.persistenceKey,e));if(n){const r=jc.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Uc(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.ni(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qi("SharedClientState","READ",e,t),t}setItem(e,t){Qi("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qi("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){const t=e;if(t.storageArea===this.storage){if(Qi("SharedClientState","EVENT",t.key,t.newValue),t.key===this.js)return void Ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ws.test(t.key)){if(null==t.newValue){const e=this.ai(t.key);return this.ci(e,null)}{const e=this.ui(t.key,t.newValue);if(e)return this.ci(e.clientId,e)}}else if(this.Gs.test(t.key)){if(null!==t.newValue){const e=this.hi(t.key,t.newValue);if(e)return this.li(e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.fi(t.key,t.newValue);if(e)return this.di(e)}}else if(t.key===this.Hs){if(null!==t.newValue){const e=this.Xs(t.newValue);if(e)return this.Zs(e)}}else if(t.key===this.Qs){const e=function(e){let t=hs.T;if(null!=e)try{const n=JSON.parse(e);es("number"==typeof n),t=n}catch(e){Ji("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==hs.T&&this.sequenceNumberHandler(e)}else if(t.key===this.Js)return this.syncEngine.wi()}else this.Ks.push(t)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new Fc(this.currentUser,e,t,n),i=Mc(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=Mc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){const t={clientId:this.Ls,onlineState:e};this.storage.setItem(this.Hs,JSON.stringify(t))}ii(e,t,n){const r=Uc(this.persistenceKey,e),i=new jc(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return Vc.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Fc.$s(new Wi(i),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return jc.$s(r,t)}Xs(e){return qc.$s(e)}async li(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine._i(e.batchId,e.state,e.error);Qi("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.gi(s,o).then((()=>{this.qs=n}))}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Ua();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class $c{constructor(){this.yi=new zc,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new zc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Wc{Ei(e){}shutdown(){}}class Hc{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Qi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Qi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Kc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Gc{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Qc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);Qi("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then((e=>(Qi("RestConnection","Received: ",e),e)),(t=>{throw Yi("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t}))}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Hi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){const n=Kc[e];return`${this.Fi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise(((i,s)=>{const o=new $i;o.listenOnce(ji.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Fi.NO_ERROR:const t=o.getResponseJson();Qi("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Fi.TIMEOUT:Qi("Connection",'RPC "'+e+'" timed out'),s(new rs(ns.DEADLINE_EXCEEDED,"Request time out"));break;case Fi.HTTP_ERROR:const n=o.getStatus();if(Qi("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ns).indexOf(t)>=0?t:ns.UNKNOWN}(e.status);s(new rs(t,e.message))}else s(new rs(ns.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new rs(ns.UNAVAILABLE,"Connection failed."));break;default:Zi()}}finally{Qi("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);o.send(t,"POST",a,n,15)}))}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Mi(),i=Ui(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new zi({})),this.Ui(s.initMessageHeaders,t),_()||I()||b().indexOf("Electron/")>=0||S()||b().indexOf("MSAppHost/")>=0||k()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Qi("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let l=!1,u=!1;const c=new Gc({vi:e=>{u?Qi("Connection","Not sending because WebChannel is closed:",e):(l||(Qi("Connection","Opening WebChannel transport."),a.open(),l=!0),Qi("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return h(a,Bi.EventType.OPEN,(()=>{u||Qi("Connection","WebChannel transport opened.")})),h(a,Bi.EventType.CLOSE,(()=>{u||(u=!0,Qi("Connection","WebChannel transport closed"),c.$i())})),h(a,Bi.EventType.ERROR,(e=>{u||(u=!0,Yi("Connection","WebChannel transport errored:",e),c.$i(new rs(ns.UNAVAILABLE,"The operation could not be completed")))})),h(a,Bi.EventType.MESSAGE,(e=>{var t;if(!u){const n=e.data[0];es(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Qi("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=wa[e];if(void 0!==t)return Ea(t)}(e),n=i.message;void 0===t&&(t=ns.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,c.$i(new rs(t,n)),a.close()}else Qi("Connection","WebChannel received:",n),c.Oi(n)}})),h(i,Vi.STAT_EVENT,(e=>{e.stat===qi.PROXY?Qi("Connection","Detected buffering proxy"):e.stat===qi.NOPROXY&&Qi("Connection","Detected no buffering proxy")})),setTimeout((()=>{c.ki()}),0),c}}function Jc(){return"undefined"!=typeof window?window:null}function Yc(){return"undefined"!=typeof document?document:null}function Xc(e){return new Qa(e,!0)}class Zc{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&Qi("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Ji=Date.now(),e()))),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class eh{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Zc(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(()=>this.dr())))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,t){this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===ns.RESOURCE_EXHAUSTED?(Ji(t.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):t&&t.code===ns.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then((e=>{this.sr===t&&this.yr(e)}),(t=>{e((()=>{const e=new rs(ns.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)}))}))}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si((()=>{t((()=>(this.state=2,this.listener.Si())))})),this.stream.Ci((e=>{t((()=>this.pr(e)))})),this.stream.onMessage((e=>{t((()=>this.onMessage(e)))}))}ur(){this.state=4,this.rr.Xi((async()=>{this.state=0,this.start()}))}pr(e){return Qi("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget((()=>this.sr===e?t():(Qi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class th extends eh{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zi()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(es(void 0===t||"string"==typeof t),xs.fromBase64String(t||"")):(es(void 0===t||t instanceof Uint8Array),xs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?ns.UNKNOWN:Ea(e.code);return new rs(t,e.message||"")}(o);n=new za(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=rl(e,r.document.name),s=Za(r.document.updateTime),o=new Zs({mapValue:{fields:r.document.fields}}),a=to.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Va(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=rl(e,r.document),s=r.readTime?Za(r.readTime):ys.min(),o=to.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Va([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=rl(e,r.document),s=r.removedTargetIds||[];n=new Va([],s,i,null)}else{if(!("filter"in t))return Zi();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new ya(r),s=e.targetId;n=new qa(s,i)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return ys.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ys.min():t.readTime?Za(t.readTime):ys.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=ol(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=oo(r)?{documents:dl(e,r)}:{query:fl(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ya(e,t.resumeToken):t.snapshotVersion.compareTo(ys.min())>0&&(n.readTime=Ja(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zi()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=ol(this.N),t.removeTarget=e,this.wr(t)}}class nh extends eh{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(es(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(es(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Za(e.updateTime):Za(t);return n.isEqual(ys.min())&&(n=Za(t)),new na(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Za(e.commitTime);return this.listener.vr(n,t)}return es(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=ol(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>cl(this.N,e)))};this.wr(t)}}class rh extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new rs(ns.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Li(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ns.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new rs(ns.UNKNOWN,e.toString())}))}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Ki(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ns.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new rs(ns.UNKNOWN,e.toString())}))}terminate(){this.Dr=!0}}class ih{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve()))))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Ji(t),this.$r=!1):Qi("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class sh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ei((e=>{n.enqueueAndForget((async()=>{ph(this)&&(Qi("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ts(e);t.Kr.add(4),await ah(t),t.Wr.set("Unknown"),t.Kr.delete(4),await oh(t)}(this))}))})),this.Wr=new ih(n,r)}}async function oh(e){if(ph(e))for(const t of e.jr)await t(!0)}async function ah(e){for(const t of e.jr)await t(!1)}function lh(e,t){const n=ts(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),fh(n)?dh(n):Rh(n).cr()&&ch(n,t))}function uh(e,t){const n=ts(e),r=Rh(n);n.qr.delete(t),r.cr()&&hh(n,t),0===n.qr.size&&(r.cr()?r.lr():ph(n)&&n.Wr.set("Unknown"))}function ch(e,t){e.Gr.Y(t.targetId),Rh(e).Ir(t)}function hh(e,t){e.Gr.Y(t),Rh(e).Ar(t)}function dh(e){e.Gr=new $a({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),Rh(e).start(),e.Wr.Or()}function fh(e){return ph(e)&&!Rh(e).ar()&&e.qr.size>0}function ph(e){return 0===ts(e).Kr.size}function mh(e){e.Gr=void 0}async function gh(e){e.qr.forEach(((t,n)=>{ch(e,t)}))}async function vh(e,t){mh(e),fh(e)?(e.Wr.Lr(t),dh(e)):e.Wr.set("Unknown")}async function yh(e,t,n){if(e.Wr.set("Online"),t instanceof za&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}(e,t)}catch(n){Qi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await wh(e,n)}else if(t instanceof Va?e.Gr.rt(t):t instanceof qa?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(ys.min()))try{const t=await gc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(xs.EMPTY_BYTE_STRING,n.snapshotVersion)),hh(e,t);const r=new uu(n.target,t,1,n.sequenceNumber);ch(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Qi("RemoteStore","Failed to raise snapshot:",t),await wh(e,t)}}async function wh(e,t,n){if(!eu(t))throw t;e.Kr.add(1),await ah(e),e.Wr.set("Offline"),n||(n=()=>gc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Qi("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await oh(e)}))}function bh(e,t){return t().catch((n=>wh(e,n,t)))}async function _h(e){const t=ts(e),n=Oh(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;Eh(t);)try{const e=await yc(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,kh(t,e)}catch(e){await wh(t,e)}Ih(t)&&Sh(t)}function Eh(e){return ph(e)&&e.Ur.length<10}function kh(e,t){e.Ur.push(t);const n=Oh(e);n.cr()&&n.br&&n.Pr(t.mutations)}function Ih(e){return ph(e)&&!Oh(e).ar()&&e.Ur.length>0}function Sh(e){Oh(e).start()}async function Th(e){Oh(e).Sr()}async function xh(e){const t=Oh(e);for(const n of e.Ur)t.Pr(n.mutations)}async function Nh(e,t,n){const r=e.Ur.shift(),i=lu.from(r,t,n);await bh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await _h(e)}async function Ch(e,t){t&&Oh(e).br&&await async function(e,t){if(_a(n=t.code)&&n!==ns.ABORTED){const n=e.Ur.shift();Oh(e).hr(),await bh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await _h(e)}var n}(e,t),Ih(e)&&Sh(e)}async function Ah(e,t){const n=ts(e);t?(n.Kr.delete(2),await oh(n)):t||(n.Kr.add(2),await ah(n),n.Wr.set("Unknown"))}function Rh(e){return e.zr||(e.zr=function(e,t,n){const r=ts(e);return r.Cr(),new th(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:gh.bind(null,e),Ci:vh.bind(null,e),Tr:yh.bind(null,e)}),e.jr.push((async t=>{t?(e.zr.hr(),fh(e)?dh(e):e.Wr.set("Unknown")):(await e.zr.stop(),mh(e))}))),e.zr}function Oh(e){return e.Hr||(e.Hr=function(e,t,n){const r=ts(e);return r.Cr(),new nh(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Th.bind(null,e),Ci:Ch.bind(null,e),Vr:xh.bind(null,e),vr:Nh.bind(null,e)}),e.jr.push((async t=>{t?(e.Hr.hr(),await _h(e)):(await e.Hr.stop(),e.Ur.length>0&&(Qi("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))}))),e.Hr}class Ph{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Ph(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rs(ns.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dh(e,t){if(Ji("AsyncQueue",`${t}: ${e}`),eu(e))return new rs(ns.UNAVAILABLE,`${t}: ${e}`);throw e}class Lh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Fs.comparator(t.key,n.key):(e,t)=>Fs.comparator(e.key,t.key),this.keyedMap=Ra(),this.sortedSet=new ka(this.comparator)}static emptySet(e){return new Lh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Lh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Mh{constructor(){this.Jr=new ka(Fs.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):Zi():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Uh{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Uh(e,t,Lh.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Do(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Fh{constructor(){this.Xr=void 0,this.listeners=[]}}class jh{constructor(){this.queries=new Qu((e=>Lo(e)),Do),this.onlineState="Unknown",this.Zr=new Set}}async function Vh(e,t){const n=ts(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Fh),i)try{s.Xr=await n.onListen(r)}catch(e){const n=Dh(e,`Initialization of query '${Mo(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&$h(n)}async function qh(e,t){const n=ts(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function zh(e,t){const n=ts(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.no(e)&&(r=!0);i.Xr=e}}r&&$h(n)}function Bh(e,t,n){const r=ts(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function $h(e){e.Zr.forEach((e=>{e.next()}))}class Wh{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Uh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)}oo(e){if(e.docChanges.length>0)return!0;const t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}co(e){e=Uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Hh{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class Kh{constructor(e){this.N=e}zn(e){return rl(this.N,e)}Hn(e){return e.metadata.exists?ul(this.N,e.document,!1):to.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Za(e)}}class Gh{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=Qh(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new Kh(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||La()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=ts(e);let s=La(),o=Ca(),a=Pa();for(const e of n){const n=t.zn(e.metadata.name);e.document&&(s=s.add(n)),o=o.insert(n,t.Hn(e)),a=a.insert(n,t.Jn(e.metadata.readTime))}const l=i.jn.newChangeBuffer({trackRemovals:!0}),u=await wc(i,function(e){return Oo(So(ks.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>vc(e,l,o,ys.min(),a).next((t=>(l.apply(e),t))).next((t=>i.ze.removeMatchingKeysForTargetId(e,u.targetId).next((()=>i.ze.addMatchingKeys(e,s,u.targetId))).next((()=>i.Qn.vn(e,t))).next((()=>t))))))}(this.localStore,new Kh(this.N),this.documents,this.lo.id),t=this.wo(this.documents);for(const e of this.queries)await Ic(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",new uc(Object.assign({},this.progress),e)}}function Qh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Jh{constructor(e){this.key=e}}class Yh{constructor(e){this.key=e}}class Xh{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=La(),this.mutatedKeys=La(),this.po=Fo(e),this.Eo=new Lh(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new Mh,r=t?t.Eo:this.Eo;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=To(this.query)&&r.size===this.query.limit?r.last():null,l=xo(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Uo(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Ro(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.po(c,a)>0||l&&this.po(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),To(this.query)||xo(this.query))for(;s.size>this.query.limit;){const e=To(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Eo:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zi()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc))),this.bo(n);const s=t?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new Uh(this.query,e.Eo,r,i,e.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Mh,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach((e=>this._o=this._o.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this._o=this._o.delete(e))),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=La(),this.Eo.forEach((e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))}));const t=[];return e.forEach((e=>{this.yo.has(e)||t.push(new Yh(e))})),this.yo.forEach((n=>{e.has(n)||t.push(new Jh(n))})),t}So(e){this._o=e.Gn,this.yo=La();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Uh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Zh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ed{constructor(e){this.key=e,this.Co=!1}}class td{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new Qu((e=>Lo(e)),Do),this.ko=new Map,this.$o=new Set,this.Oo=new ka(Fs.comparator),this.Fo=new Map,this.Mo=new Tc,this.Lo={},this.Bo=new Map,this.Uo=Uu.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function nd(e,t){const n=Nd(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=await wc(n.localStore,Oo(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await rd(n,t,r,"current"===s),n.isPrimaryClient&&lh(n.remoteStore,e)}return i}async function rd(e,t,n,r){e.Ko=(t,n,r)=>async function(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=await _c(e.localStore,t.query,!1).then((({documents:e})=>t.view.Io(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return pd(e,t.targetId,o.vo),o.snapshot}(e,t,n,r);const i=await _c(e.localStore,t,!0),s=new Xh(t,i.Gn),o=s.Io(i.documents),a=ja.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);pd(e,n,l.vo);const u=new Zh(t,n,s);return e.xo.set(t,u),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),l.snapshot}async function id(e,t){const n=ts(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter((e=>!Do(e,t)))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await bc(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),uh(n.remoteStore,r.targetId),dd(n,r.targetId)})).catch(zu)):(dd(n,r.targetId),await bc(n.localStore,r.targetId,!0))}async function sd(e,t){const n=ts(e);try{const e=await function(e,t){const n=ts(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach(((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next((()=>n.ze.addMatchingKeys(e,t.addedDocuments,s))));const l=t.resumeToken;if(l.approximateByteSize()>0){const u=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,u),function(e,t,n){return es(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,t)&&o.push(n.ze.updateTargetData(e,u))}}));let a=Ca();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(vc(e,s,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(ys.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next((t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Ql.waitFor(o).next((()=>s.apply(e))).next((()=>n.Qn.vn(e,a))).next((()=>a))})).then((e=>(n.Un=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fo.get(t);r&&(es(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?es(r.Co):e.removedDocuments.size>0&&(es(r.Co),r.Co=!1))})),await vd(n,e,t)}catch(e){await zu(e)}}function od(e,t,n){const r=ts(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach(((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=ts(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.eo(t)&&(r=!0)})),r&&$h(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ad(e,t,n){const r=ts(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new ka(Fs.comparator);e=e.insert(s,to.newNoDocument(s,ys.min()));const n=La().add(s),i=new Fa(ys.min(),new Map,new Ta(ps),e,n);await sd(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),gd(r)}else await bc(r.localStore,t,!1).then((()=>dd(r,t,n))).catch(zu)}async function ld(e,t){const n=ts(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ts(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Ql.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);es(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((()=>e.In.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.Pn(e,r)))}))}(n.localStore,t);hd(n,r,null),cd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vd(n,e)}catch(e){await zu(e)}}async function ud(e,t,n){const r=ts(e);try{const e=await function(e,t){const n=ts(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.In.lookupMutationBatch(e,t).next((t=>(es(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.Pn(e,r)))}))}(r.localStore,t);hd(r,t,n),cd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await vd(r,e)}catch(n){await zu(n)}}function cd(e,t){(e.Bo.get(t)||[]).forEach((e=>{e.resolve()})),e.Bo.delete(t)}function hd(e,t,n){const r=ts(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function dd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach((t=>{e.Mo.containsKey(t)||fd(e,t)}))}function fd(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(uh(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),gd(e))}function pd(e,t,n){for(const r of n)r instanceof Jh?(e.Mo.addReference(r.key,t),md(e,r)):r instanceof Yh?(Qi("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||fd(e,r.key)):Zi()}function md(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(Qi("SyncEngine","New document in limbo: "+n),e.$o.add(r),gd(e))}function gd(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new Fs(ks.fromString(t)),r=e.Uo.next();e.Fo.set(r,new ed(n)),e.Oo=e.Oo.insert(n,r),lh(e.remoteStore,new uu(Oo(So(n.path)),r,2,hs.T))}}async function vd(e,t,n){const r=ts(e),i=[],s=[],o=[];r.xo.isEmpty()||(r.xo.forEach(((e,a)=>{o.push(r.Ko(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=hc.kn(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.No.Tr(i),await async function(e,t){const n=ts(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ql.forEach(t,(t=>Ql.forEach(t.Nn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ql.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!eu(e))throw e;Qi("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Un.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Un=n.Un.insert(t,i)}}}(r.localStore,s))}async function yd(e,t){const n=ts(e);if(!n.currentUser.isEqual(t)){Qi("SyncEngine","User change. New user:",t.toKey());const e=await mc(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach((e=>{e.forEach((e=>{e.reject(new rs(ns.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await vd(n,e.Wn)}}function wd(e,t){const n=ts(e),r=n.Fo.get(t);if(r&&r.Co)return La().add(r.key);{let e=La();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}async function bd(e,t){const n=ts(e),r=await _c(n.localStore,t.query,!0),i=t.view.So(r);return n.isPrimaryClient&&pd(n,t.targetId,i.vo),i}async function _d(e){const t=ts(e);return kc(t.localStore).then((e=>vd(t,e)))}async function Ed(e,t,n,r){const i=ts(e),s=await function(e,t){const n=ts(e),r=ts(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Xt(e,t).next((t=>t?n.Qn.Pn(e,t):Ql.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await _h(i.remoteStore):"acknowledged"===n||"rejected"===n?(hd(i,t,r||null),cd(i,t),function(e,t){ts(ts(e).In).te(t)}(i.localStore,t)):Zi(),await vd(i,s)):Qi("SyncEngine","Cannot apply mutation batch with id: "+t)}async function kd(e,t,n){const r=ts(e),i=[],s=[];for(const e of t){let t;const n=r.ko.get(e);if(n&&0!==n.length){t=await wc(r.localStore,Oo(n[0]));for(const e of n){const t=r.xo.get(e),n=await bd(r,t);n.snapshot&&s.push(n.snapshot)}}else{const n=await Ec(r.localStore,e);t=await wc(r.localStore,n),await rd(r,Id(n),e,!1)}i.push(t)}return r.No.Tr(s),i}function Id(e){return Io(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Sd(e){const t=ts(e);return ts(ts(t.localStore).persistence).pn()}async function Td(e,t,n,r){const i=ts(e);if(i.qo)Qi("SyncEngine","Ignoring unexpected query state notification.");else if(i.ko.has(t))switch(n){case"current":case"not-current":{const e=await kc(i.localStore),r=Fa.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await vd(i,e,r);break}case"rejected":await bc(i.localStore,t,!0),dd(i,t,r);break;default:Zi()}}async function xd(e,t,n){const r=Nd(e);if(r.qo){for(const e of t){if(r.ko.has(e)){Qi("SyncEngine","Adding an already active target "+e);continue}const t=await Ec(r.localStore,e),n=await wc(r.localStore,t);await rd(r,Id(t),n.targetId,!1),lh(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&await bc(r.localStore,e,!1).then((()=>{uh(r.remoteStore,e),dd(r,e)})).catch(zu)}}function Nd(e){const t=ts(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ad.bind(null,t),t.No.Tr=zh.bind(null,t.eventManager),t.No.jo=Bh.bind(null,t.eventManager),t}function Cd(e){const t=ts(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ld.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ud.bind(null,t),t}class Ad{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=Xc(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return pc(this.persistence,new dc,e.initialUser,this.N)}Go(e){return new Oc(Dc.Ns,this.N)}Wo(e){return new $c}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Rd extends Ad{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=ts(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=ec(e);let n=ys.min();return t.Kt({index:Ul.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=pu(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.Kn=e}))}(this.localStore),await this.Jo.initialize(this,e),await Cd(this.Jo.syncEngine),await _h(this.Jo.remoteStore),await this.persistence.nn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Ho(e){return pc(this.persistence,new dc,e.initialUser,this.N)}zo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new Wu(t,e.asyncQueue)}Go(e){const t=lc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Cu.withCacheSize(this.cacheSizeBytes):Cu.DEFAULT;return new sc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Jc(),Yc(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new $c}}class Od extends Rd{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Jo.syncEngine;this.sharedClientState instanceof Bc&&(this.sharedClientState.syncEngine={_i:Ed.bind(null,t),mi:Td.bind(null,t),gi:xd.bind(null,t),pn:Sd.bind(null,t),wi:_d.bind(null,t)},await this.sharedClientState.start()),await this.persistence.nn((async e=>{await async function(e,t){const n=ts(e);if(Nd(n),Cd(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await kd(n,e.toArray());n.qo=!0,await Ah(n.remoteStore,!0);for(const e of t)lh(n.remoteStore,e)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(dd(n,i),bc(n.localStore,i,!0)))),uh(n.remoteStore,i)})),await t,await kd(n,e),function(e){const t=ts(e);t.Fo.forEach(((e,n)=>{uh(t.remoteStore,n)})),t.Mo.us(),t.Fo=new Map,t.Oo=new ka(Fs.comparator)}(n),n.qo=!1,await Ah(n.remoteStore,!1)}}(this.Jo.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}Wo(e){const t=Jc();if(!Bc.bt(t))throw new rs(ns.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=lc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bc(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Pd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>od(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=yd.bind(null,this.syncEngine),await Ah(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new jh}createDatastore(e){const t=Xc(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Qc(r));var r;return function(e,t,n){return new rh(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>od(this.syncEngine,e,0),s=Hc.bt()?new Hc:new Wc,new sh(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new td(e,t,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=ts(e);Qi("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),await ah(t),t.Qr.shutdown(),t.Wr.set("Unknown")}(this.remoteStore)}}function Dd(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class Ld{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Md{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new is,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then((e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Zo.cancel()}async getMetadata(){return this.metadata.promise}async Qo(){return await this.getMetadata(),this.ea()}async ea(){const e=await this.na();if(null===e)return null;const t=this.ta.decode(e),n=Number(t);isNaN(n)&&this.sa(`length string (${t}) is not valid number`);const r=await this.ia(n);return new Hh(JSON.parse(r),e.length+n)}ra(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async na(){for(;this.ra()<0&&!await this.oa(););if(0===this.buffer.length)return null;const e=this.ra();e<0&&this.sa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ia(e){for(;this.buffer.length<e;)await this.oa()&&this.sa("Reached the end of bundle when more is expected.");const t=this.ta.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}async oa(){const e=await this.Zo.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Ud{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new rs(ns.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=ts(e),r=ol(n.N)+"/documents",i={documents:t.map((e=>nl(n.N,e)))},s=await n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){es(!!t.found),t.found.name,t.found.updateTime;const n=rl(e,t.found.name),r=Za(t.found.updateTime),i=new Zs({mapValue:{fields:t.found.fields}});return to.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){es(!!t.missing),es(!!t.readTime);const n=rl(e,t.missing),r=Za(t.readTime);return to.newNoDocument(n,r)}(e,t):Zi()}(n.N,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());es(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ga(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Fs.fromPath(t);this.mutations.push(new va(n,this.precondition(n)))})),await async function(e,t){const n=ts(e),r=ol(n.N)+"/documents",i={writes:t.map((e=>cl(n.N,e)))};await n.Li("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zi();t=ys.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new rs(ns.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ra.updateTime(t):ra.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ys.min()))throw new rs(ns.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ra.updateTime(t)}return ra.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Fd{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new Zc(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){this.rr.Xi((async()=>{const e=new Ud(this.datastore),t=this.ua(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ha(e)}))))})).catch((e=>{this.ha(e)}))}))}ua(e){try{const t=this.updateFunction(e);return!Ls(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget((()=>(this.ca(),Promise.resolve())))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!_a(t)}return!1}}class jd{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Wi.UNAUTHENTICATED,this.clientId=fs.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,(async e=>{Qi("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rs(ns.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=Dh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Vd(e,t){e.asyncQueue.verifyOperationInProgress(),Qi("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await mc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function qd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zd(e);Qi("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=ts(e);n.asyncQueue.verifyOperationInProgress(),Qi("RemoteStore","RemoteStore received new credentials");const r=ph(n);n.Kr.add(3),await ah(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),await oh(n)}(t.remoteStore,e))),e.onlineComponents=t}async function zd(e){return e.offlineComponents||(Qi("FirestoreClient","Using default OfflineComponentProvider"),await Vd(e,new Ad)),e.offlineComponents}async function Bd(e){return e.onlineComponents||(Qi("FirestoreClient","Using default OnlineComponentProvider"),await qd(e,new Pd)),e.onlineComponents}function $d(e){return zd(e).then((e=>e.persistence))}function Wd(e){return zd(e).then((e=>e.localStore))}function Hd(e){return Bd(e).then((e=>e.remoteStore))}function Kd(e){return Bd(e).then((e=>e.syncEngine))}async function Gd(e){const t=await Bd(e),n=t.eventManager;return n.onListen=nd.bind(null,t.syncEngine),n.onUnlisten=id.bind(null,t.syncEngine),n}function Qd(e,t,n={}){const r=new is;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Ld({next:s=>{t.enqueueAndForget((()=>qh(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new rs(ns.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new rs(ns.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Wh(So(n.path),s,{includeMetadataChanges:!0,uo:!0});return Vh(e,o)}(await Gd(e),e.asyncQueue,t,n,r))),r.promise}function Jd(e,t,n={}){const r=new is;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Ld({next:n=>{t.enqueueAndForget((()=>qh(e,o))),n.fromCache&&"server"===r.source?i.reject(new rs(ns.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Wh(n,s,{includeMetadataChanges:!0,uo:!0});return Vh(e,o)}(await Gd(e),e.asyncQueue,t,n,r))),r.promise}function Yd(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Md(e,t)}(function(e,t){if(e instanceof Uint8Array)return Dd(e,t);if(e instanceof ArrayBuffer)return Dd(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Xc(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=ts(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=ts(e),r=Za(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Je.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Qh(r));const i=new Gh(r,e.localStore,t.N);let s=await t.Qo();for(;s;){const e=await i.fo(s);e&&n._updateProgress(e),s=await t.Qo()}const o=await i.complete();await vd(e,o.Tn,void 0),await function(e,t){const n=ts(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Je.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress)}catch(e){Yi("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then((()=>{r.sharedClientState.notifyBundleLoaded()}))}(await Kd(e),i,r)}))}class Xd{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Zd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zd&&e.projectId===this.projectId&&e.database===this.database}}const ef=new Map;function tf(e,t,n){if(!n)throw new rs(ns.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function nf(e,t,n,r){if(!0===t&&!0===r)throw new rs(ns.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function rf(e){if(!Fs.isDocumentKey(e))throw new rs(ns.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function sf(e){if(Fs.isDocumentKey(e))throw new rs(ns.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function of(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){if(e.constructor){const t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Zi()}function af(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rs(ns.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=of(e);throw new rs(ns.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function lf(e,t){if(t<=0)throw new rs(ns.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class uf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new rs(ns.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rs(ns.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,nf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uf({}),this._settingsFrozen=!1,e instanceof Zd?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rs(ns.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(e.options.projectId)}(e))}get app(){if(!this._app)throw new rs(ns.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rs(ns.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uf(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new os;switch(e.type){case"gapi":const t=e.client;return es(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new cs(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new rs(ns.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ef.get(e);t&&(Qi("ComponentProvider","Removing Datastore"),ef.delete(e),t.terminate())}(this),Promise.resolve()}}class hf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ff(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hf(this.firestore,e,this._key)}}class df{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new df(this.firestore,e,this._query)}}class ff extends df{constructor(e,t,n){super(e,t,So(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hf(this.firestore,null,new Fs(e))}withConverter(e){return new ff(this.firestore,e,this._path)}}function pf(e,t,...n){if(e=V(e),tf("collection","path",t),e instanceof cf){const r=ks.fromString(t,...n);return sf(r),new ff(e,null,r)}{if(!(e instanceof hf||e instanceof ff))throw new rs(ns.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ks.fromString(t,...n));return sf(r),new ff(e.firestore,null,r)}}function mf(e,t,...n){if(e=V(e),1===arguments.length&&(t=fs.I()),tf("doc","path",t),e instanceof cf){const r=ks.fromString(t,...n);return rf(r),new hf(e,null,new Fs(r))}{if(!(e instanceof hf||e instanceof ff))throw new rs(ns.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ks.fromString(t,...n));return rf(r),new hf(e.firestore,e instanceof ff?e.converter:null,new Fs(r))}}function gf(e,t){return e=V(e),t=V(t),(e instanceof hf||e instanceof ff)&&(t instanceof hf||t instanceof ff)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function vf(e,t){return e=V(e),t=V(t),e instanceof df&&t instanceof df&&e.firestore===t.firestore&&Do(e._query,t._query)&&e.converter===t.converter}class yf{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Zc(this,"async_queue_retry"),this.Ea=()=>{const e=Yc();e&&Qi("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=Yc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=Yc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise((()=>{}));const t=new is;return this.Ia((()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.da.push(e),this.Aa())))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!eu(e))throw e;Qi("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi((()=>this.Aa()))}}Ia(e){const t=this.fa.then((()=>(this.ga=!0,e().catch((e=>{throw this.ma=e,this.ga=!1,Ji("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.ga=!1,e))))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=Ph.createAndSchedule(this,e,t,n,(e=>this.Ra(e)));return this._a.push(r),r}Ta(){this.ma&&Zi()}verifyOperationInProgress(){}async ba(){let e;do{e=this.fa,await e}while(e!==this.fa)}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then((()=>{this._a.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()}))}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function wf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class bf{constructor(){this._progressObserver={},this._taskCompletionResolver=new is,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _f extends cf{constructor(e,t){super(e,t),this.type="firestore",this._queue=new yf,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||kf(this),this._firestoreClient.terminate()}}function Ef(e){return e._firestoreClient||kf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function kf(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Xd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new jd(e._credentials,e._queue,r)}function If(e,t,n){const r=new is;return e.asyncQueue.enqueue((async()=>{try{await Vd(e,n),await qd(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===ns.FAILED_PRECONDITION||e.code===ns.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))}function Sf(e){return function(e){const t=new is;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=ts(e);ph(n.remoteStore)||Qi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=ts(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.In.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(e){const n=Dh(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Kd(e),t))),t.promise}(Ef(e=af(e,_f)))}function Tf(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await $d(e),n=await Hd(e);return t.setNetworkEnabled(!0),function(e){const t=ts(e);return t.Kr.delete(0),oh(t)}(n)}))}(Ef(e=af(e,_f)))}function xf(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await $d(e),n=await Hd(e);return t.setNetworkEnabled(!1),async function(e){const t=ts(e);t.Kr.add(0),await ah(t),t.Wr.set("Offline")}(n)}))}(Ef(e=af(e,_f)))}function Nf(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=ts(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Je.getNamedQuery(e,t)))}(await Wd(e),t)))}(Ef(e=af(e,_f)),t).then((t=>t?new df(e,null,t.query):null))}function Cf(e){if(e._initialized||e._terminated)throw new rs(ns.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Af{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new rs(ns.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ss(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rf(xs.fromBase64String(e))}catch(e){throw new rs(ns.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Rf(xs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Of{constructor(e){this._methodName=e}}class Pf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rs(ns.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rs(ns.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ps(this._lat,e._lat)||ps(this._long,e._long)}}const Df=/^__.*__$/;class Lf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new da(e,this.data,this.fieldMask,t,this.fieldTransforms):new ha(e,this.data,t,this.fieldTransforms)}}class Mf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new da(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Uf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zi()}}class Ff{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new Ff(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return ip(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Uf(this.Da)&&Df.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class jf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||Xc(e)}Ba(e,t,n,r=!1){return new Ff({Da:e,methodName:t,La:n,path:Ss.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Vf(e){const t=e._freezeSettings(),n=Xc(e._databaseId);return new jf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qf(e,t,n,r,i,s={}){const o=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);ep("Data must be an object, but it was:",o,r);const a=Xf(r,o);let l,u;if(s.merge)l=new Ts(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=tp(t,r,n);if(!o.contains(i))throw new rs(ns.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);sp(e,i)||e.push(i)}l=new Ts(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new Lf(new Zs(a),l,u)}class zf extends Of{_toFieldTransform(e){if(2!==e.Da)throw 1===e.Da?e.Fa(`${this._methodName}() can only appear at the top level of your update data`):e.Fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}function Bf(e,t,n){return new Ff({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class $f extends Of{_toFieldTransform(e){return new ta(e.path,new Ko)}isEqual(e){return e instanceof $f}}class Wf extends Of{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Bf(this,e,!0),n=this.Ua.map((e=>Yf(e,t))),r=new Go(n);return new ta(e.path,r)}isEqual(e){return this===e}}class Hf extends Of{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Bf(this,e,!0),n=this.Ua.map((e=>Yf(e,t))),r=new Jo(n);return new ta(e.path,r)}isEqual(e){return this===e}}class Kf extends Of{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Xo(e.N,zo(e.N,this.qa));return new ta(e.path,t)}isEqual(e){return this===e}}function Gf(e,t,n,r){const i=e.Ba(1,t,n);ep("Data must be an object, but it was:",i,r);const s=[],o=Zs.empty();bs(r,((e,r)=>{const a=rp(t,e,n);r=V(r);const l=i.$a(a);if(r instanceof zf)s.push(a);else{const e=Yf(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Ts(s);return new Mf(o,a,i.fieldTransforms)}function Qf(e,t,n,r,i,s){const o=e.Ba(1,t,n),a=[tp(t,r,n)],l=[i];if(s.length%2!=0)throw new rs(ns.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(tp(t,s[e])),l.push(s[e+1]);const u=[],c=Zs.empty();for(let e=a.length-1;e>=0;--e)if(!sp(u,a[e])){const t=a[e];let n=l[e];n=V(n);const r=o.$a(t);if(n instanceof zf)u.push(t);else{const e=Yf(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new Ts(u);return new Mf(c,h,o.fieldTransforms)}function Jf(e,t,n,r=!1){return Yf(n,e.Ba(r?4:3,t))}function Yf(e,t){if(Zf(e=V(e)))return ep("Unsupported field value:",t,e),Xf(e,t);if(e instanceof Of)return function(e,t){if(!Uf(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Yf(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=V(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zo(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=vs.fromDate(e);return{timestampValue:Ja(t.N,n)}}if(e instanceof vs){const n=new vs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ja(t.N,n)}}if(e instanceof Pf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Rf)return{bytesValue:Ya(t.N,e._byteString)};if(e instanceof hf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:el(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${of(e)}`)}(e,t)}function Xf(e,t){const n={};return _s(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bs(e,((e,r)=>{const i=Yf(r,t.Na(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Zf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof vs||e instanceof Pf||e instanceof Rf||e instanceof hf||e instanceof Of)}function ep(e,t,n){if(!Zf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=of(n);throw"an object"===r?t.Fa(e+" a custom object"):t.Fa(e+" "+r)}}function tp(e,t,n){if((t=V(t))instanceof Af)return t._internalPath;if("string"==typeof t)return rp(e,t);throw ip("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const np=new RegExp("[~\\*/\\[\\]]");function rp(e,t,n){if(t.search(np)>=0)throw ip(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Af(...t.split("."))._internalPath}catch(r){throw ip(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ip(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new rs(ns.INVALID_ARGUMENT,a+e+l)}function sp(e,t){return e.some((e=>e.isEqual(t)))}class op{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new hf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ap(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ap extends op{data(){return super.data()}}function lp(e,t){return"string"==typeof t?rp(e,t):t instanceof Af?t._internalPath:t._delegate._internalPath}class up{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cp extends op{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(lp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class hp extends cp{data(e={}){return super.data(e)}}class dp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new up(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new hp(this._firestore,this._userDataWriter,n.key,n,new up(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new rs(ns.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new hp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new up(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new hp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new up(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:fp(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zi()}}function pp(e,t){return e instanceof cp&&t instanceof cp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof dp&&t instanceof dp&&e._firestore===t._firestore&&vf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function mp(e){if(xo(e)&&0===e.explicitOrderBy.length)throw new rs(ns.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gp{}function vp(e,...t){for(const n of t)e=n._apply(e);return e}class yp extends gp{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=Vf(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new rs(ns.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){Sp(o,s);const t=[];for(const n of o)t.push(Ip(r,e,n));a={arrayValue:{values:t}}}else a=Ip(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Sp(o,s),a=Jf(n,"where",o,"in"===s||"not-in"===s);const l=ao.create(i,s,a);return function(e,t){if(t.v()){const n=Co(e);if(null!==n&&!n.isEqual(t.field))throw new rs(ns.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=No(e);null!==r&&Tp(e,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new rs(ns.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rs(ns.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new df(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new ko(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class wp extends gp{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new rs(ns.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new rs(ns.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new wo(t,n);return function(e,t){if(null===No(e)){const n=Co(e);null!==n&&Tp(e,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new df(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ko(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class bp extends gp{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new df(e.firestore,e.converter,Po(e._query,this.Ga,this.za))}}class _p extends gp{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=kp(e,this.type,this.Ha,this.Ja);return new df(e.firestore,e.converter,function(e,t){return new ko(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Ep extends gp{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=kp(e,this.type,this.Ha,this.Ja);return new df(e.firestore,e.converter,function(e,t){return new ko(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function kp(e,t,n,r){if(n[0]=V(n[0]),n[0]instanceof op)return function(e,t,n,r,i){if(!r)throw new rs(ns.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of Ro(e))if(n.field.isKeyField())s.push(Hs(t,r.key));else{const e=r.data.field(n.field);if(Os(e))throw new rs(ns.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new rs(ns.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new vo(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Vf(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new rs(ns.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<i.length;s++){const l=i[s];if(o[s].field.isKeyField()){if("string"!=typeof l)throw new rs(ns.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof l}`);if(!Ao(e)&&-1!==l.indexOf("/"))throw new rs(ns.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${l}' contains a slash.`);const n=e.path.child(ks.fromString(l));if(!Fs.isDocumentKey(n))throw new rs(ns.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Fs(n);a.push(Hs(t,i))}else{const e=Jf(n,r,l);a.push(e)}}return new vo(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Ip(e,t,n){if("string"==typeof(n=V(n))){if(""===n)throw new rs(ns.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ao(t)&&-1!==n.indexOf("/"))throw new rs(ns.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ks.fromString(n));if(!Fs.isDocumentKey(r))throw new rs(ns.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hs(e,new Fs(r))}if(n instanceof hf)return Hs(e,n._key);throw new rs(ns.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(n)}.`)}function Sp(e,t){if(!Array.isArray(e)||0===e.length)throw new rs(ns.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new rs(ns.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Tp(e,t,n){if(!n.isEqual(t))throw new rs(ns.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class xp{convertValue(e,t="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return As(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zi()}}convertObject(e,t){const n={};return bs(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Pf(As(e.latitude),As(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ps(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ds(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new vs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ks.fromString(e);es(Sl(n));const r=new Zd(n.get(1),n.get(3)),i=new Fs(n.popFirst(5));return r.isEqual(t)||Ji(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Np(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Cp extends xp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hf(this.firestore,null,t)}}class Ap{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vf(e)}set(e,t,n){this._verifyNotCommitted();const r=Rp(e,this._firestore),i=Np(r.converter,t,n),s=qf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,ra.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=Rp(e,this._firestore);let s;return s="string"==typeof(t=V(t))||t instanceof Af?Qf(this._dataReader,"WriteBatch.update",i._key,t,n,r):Gf(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,ra.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rp(e,this._firestore);return this._mutations=this._mutations.concat(new ga(t._key,ra.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rs(ns.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rp(e,t){if((e=V(e)).firestore!==t)throw new rs(ns.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Op extends xp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hf(this.firestore,null,t)}}function Pp(e){e=af(e,hf);const t=af(e.firestore,_f),n=Ef(t),r=new Op(t);return function(e,t){const n=new is;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=ts(e);return n.persistence.runTransaction("read document","readonly",(e=>n.Qn.An(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new rs(ns.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Dh(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Wd(e),t,n))),n.promise}(n,e._key).then((n=>new cp(t,r,e._key,n,new up(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Dp(e){e=af(e,df);const t=af(e.firestore,_f),n=Ef(t),r=new Op(t);return function(e,t){const n=new is;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await _c(e,t,!0),i=new Xh(t,r.Gn),s=i.Io(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Dh(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Wd(e),t,n))),n.promise}(n,e._query).then((n=>new dp(t,r,e,n)))}function Lp(e,t,n){e=af(e,hf);const r=af(e.firestore,_f),i=Np(e.converter,t,n);return jp(r,[qf(Vf(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ra.none())])}function Mp(e,t,n,...r){e=af(e,hf);const i=af(e.firestore,_f),s=Vf(i);let o;return o="string"==typeof(t=V(t))||t instanceof Af?Qf(s,"updateDoc",e._key,t,n,r):Gf(s,"updateDoc",e._key,t),jp(i,[o.toMutation(e._key,ra.exists(!0))])}function Up(e,...t){var n,r,i;e=V(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||wf(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(wf(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof hf)u=af(e.firestore,_f),c=So(e._key.path),l={next:n=>{t[o]&&t[o](Vp(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=af(e,df);u=af(n.firestore,_f),c=n._query;const r=new Op(u);l={next:e=>{t[o]&&t[o](new dp(u,r,n,e))},error:t[o+1],complete:t[o+2]},mp(e._query)}return function(e,t,n,r){const i=new Ld(r),s=new Wh(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Vh(await Gd(e),s))),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((async()=>qh(await Gd(e),s)))}}(Ef(u),c,a,l)}function Fp(e,t){return function(e,t){const n=new Ld(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){ts(e).Zr.add(t),t.next()}(await Gd(e),n))),()=>{n.Xo(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){ts(e).Zr.delete(t)}(await Gd(e),n)))}}(Ef(e=af(e,_f)),wf(t)?t:{next:t})}function jp(e,t){return function(e,t){const n=new is;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Cd(e);try{const e=await function(e,t){const n=ts(e),r=vs.now(),i=t.reduce(((e,t)=>e.add(t.key)),La());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Qn.Pn(e,i).next((i=>{s=i;const o=[];for(const e of t){const t=la(e,s.get(e.key));null!=t&&o.push(new da(e.key,t,eo(t.value.mapValue),ra.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new ka(ps)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),await vd(r,e.changes),await _h(r.remoteStore)}catch(e){const t=Dh(e,"Failed to persist write");n.reject(t)}}(await Kd(e),t,n))),n.promise}(Ef(e),t)}function Vp(e,t,n){const r=n.docs.get(t._key),i=new Op(e);return new cp(e,i,t._key,r,new up(n.hasPendingWrites,n.fromCache),t.converter)}class qp extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vf(e)}get(e){const t=Rp(e,this._firestore),n=new Cp(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Zi();const r=e[0];if(r.isFoundDocument())return new op(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new op(this._firestore,n,t._key,null,t.converter);throw Zi()}))}set(e,t,n){const r=Rp(e,this._firestore),i=Np(r.converter,t,n),s=qf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=Rp(e,this._firestore);let s;return s="string"==typeof(t=V(t))||t instanceof Af?Qf(this._dataReader,"Transaction.update",i._key,t,n,r):Gf(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=Rp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Rp(e,this._firestore),n=new Op(this._firestore);return super.get(e).then((e=>new cp(this._firestore,n,t._key,e._document,new up(!1,!1),t.converter)))}}function zp(e,t){return function(e,t){const n=new is;return e.asyncQueue.enqueueAndForget((async()=>{const r=await function(e){return Bd(e).then((e=>e.datastore))}(e);new Fd(e.asyncQueue,r,t,n).run()})),n.promise}(Ef(e),(n=>t(new qp(e,n))))}!function(e){Hi=e}(me),ue(new q("firestore",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new _f(n,new ls(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r}),"PUBLIC")),be("@firebase/firestore","3.0.2",undefined);function Bp(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new rs("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function $p(){if("undefined"==typeof Uint8Array)throw new rs("unimplemented","Uint8Arrays are not available in this environment.")}function Wp(){if("undefined"==typeof atob)throw new rs("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Hp{constructor(e){this._delegate=e}static fromBase64String(e){return Wp(),new Hp(Rf.fromBase64String(e))}static fromUint8Array(e){return $p(),new Hp(Rf.fromUint8Array(e))}toBase64(){return Wp(),this._delegate.toBase64()}toUint8Array(){return $p(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Kp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(e,["next","error","complete"])}class Gp{enableIndexedDbPersistence(e,t){return function(e,t){Cf(e=af(e,_f));const n=Ef(e),r=e._freezeSettings(),i=new Pd;return If(n,i,new Rd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Cf(e=af(e,_f));const t=Ef(e),n=e._freezeSettings(),r=new Pd;return If(t,r,new Od(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new rs(ns.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new is;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Yl.bt())return Promise.resolve();const t=e+"main";await Yl.delete(t)}(lc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Qp{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Zd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Yi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=af(e,cf))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Yi("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Wi.MOCK_USER;else{t=w(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new rs(ns.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Wi(s)}e._credentials=new as(new ss(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return Tf(this._delegate)}disableNetwork(){return xf(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,nf("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Sf(this._delegate)}onSnapshotsInSync(e){return Fp(this._delegate,e)}get app(){if(!this._appCompat)throw new rs("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new um(this,pf(this._delegate,e))}catch(e){throw tm(e,"collection()","Firestore.collection()")}}doc(e){try{return new em(this,mf(this._delegate,e))}catch(e){throw tm(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new om(this,function(e,t){if(e=af(e,cf),tf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new rs(ns.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new df(e,null,function(e){return new ko(ks.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw tm(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return zp(this._delegate,(t=>e(new Yp(this,t))))}batch(){return Ef(this._delegate),new Xp(new Ap(this._delegate,(e=>jp(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Ef(e=af(e,_f)),r=new bf;return Yd(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return Nf(this._delegate,e).then((e=>e?new om(this,e):null))}}class Jp extends xp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hp(new Rf(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return em.forKey(t,this.firestore,null)}}class Yp{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Jp(e)}get(e){const t=cm(e);return this._delegate.get(t).then((e=>new im(this._firestore,new cp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=cm(e);return n?(Bp("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=cm(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=cm(e);return this._delegate.delete(t),this}}class Xp{constructor(e){this._delegate=e}set(e,t,n){const r=cm(e);return n?(Bp("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=cm(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=cm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Zp{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new hp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sm(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Zp.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Zp(e,new Jp(e),t),r.set(t,i)),i}}Zp.INSTANCES=new WeakMap;class em{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jp(e)}static forPath(e,t,n){if(e.length%2!=0)throw new rs("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new em(t,new hf(t._delegate,n,new Fs(e)))}static forKey(e,t,n){return new em(t,new hf(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new um(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new um(this.firestore,pf(this._delegate,e))}catch(e){throw tm(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=V(e))instanceof hf&&gf(this._delegate,e)}set(e,t){t=Bp("DocumentReference.set",t);try{return t?Lp(this._delegate,e,t):Lp(this._delegate,e)}catch(e){throw tm(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Mp(this._delegate,e):Mp(this._delegate,e,t,...n)}catch(e){throw tm(e,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return jp(af(e.firestore,_f),[new ga(e._key,ra.none())])}(this._delegate)}onSnapshot(...e){const t=nm(e),n=rm(e,(e=>new im(this.firestore,new cp(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Up(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?Pp(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=af(e,hf);const t=af(e.firestore,_f);return Qd(Ef(t),e._key,{source:"server"}).then((n=>Vp(t,e,n)))}(this._delegate):function(e){e=af(e,hf);const t=af(e.firestore,_f);return Qd(Ef(t),e._key).then((n=>Vp(t,e,n)))}(this._delegate),t.then((e=>new im(this.firestore,new cp(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new em(this.firestore,e?this._delegate.withConverter(Zp.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tm(e,t,n){return e.message=e.message.replace(t,n),e}function nm(e){for(const t of e)if("object"==typeof t&&!Kp(t))return t;return{}}function rm(e,t){var n,r;let i;return i=Kp(e[0])?e[0]:Kp(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class im{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new em(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return pp(this._delegate,e._delegate)}}class sm extends im{data(e){const t=this._delegate.data(e);return function(e,t){e||Zi()}(void 0!==t),t}}class om{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jp(e)}where(e,t,n){try{return new om(this.firestore,vp(this._delegate,function(e,t,n){const r=t,i=lp("where",e);return new yp(i,r,n)}(e,t,n)))}catch(e){throw tm(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new om(this.firestore,vp(this._delegate,function(e,t="asc"){const n=t,r=lp("orderBy",e);return new wp(r,n)}(e,t)))}catch(e){throw tm(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new om(this.firestore,vp(this._delegate,function(e){return lf("limit",e),new bp("limit",e,"F")}(e)))}catch(e){throw tm(e,"limit()","Query.limit()")}}limitToLast(e){try{return new om(this.firestore,vp(this._delegate,function(e){return lf("limitToLast",e),new bp("limitToLast",e,"L")}(e)))}catch(e){throw tm(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new om(this.firestore,vp(this._delegate,function(...e){return new _p("startAt",e,!0)}(...e)))}catch(e){throw tm(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new om(this.firestore,vp(this._delegate,function(...e){return new _p("startAfter",e,!1)}(...e)))}catch(e){throw tm(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new om(this.firestore,vp(this._delegate,function(...e){return new Ep("endBefore",e,!0)}(...e)))}catch(e){throw tm(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new om(this.firestore,vp(this._delegate,function(...e){return new Ep("endAt",e,!1)}(...e)))}catch(e){throw tm(e,"endAt()","Query.endAt()")}}isEqual(e){return vf(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?Dp(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=af(e,df);const t=af(e.firestore,_f),n=Ef(t),r=new Op(t);return Jd(n,e._query,{source:"server"}).then((n=>new dp(t,r,e,n)))}(this._delegate):function(e){e=af(e,df);const t=af(e.firestore,_f),n=Ef(t),r=new Op(t);return mp(e._query),Jd(n,e._query).then((n=>new dp(t,r,e,n)))}(this._delegate),t.then((e=>new lm(this.firestore,new dp(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=nm(e),n=rm(e,(e=>new lm(this.firestore,new dp(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Up(this._delegate,t,n)}withConverter(e){return new om(this.firestore,e?this._delegate.withConverter(Zp.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class am{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new om(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new sm(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new am(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new sm(this._firestore,n))}))}isEqual(e){return pp(this._delegate,e._delegate)}}class um extends om{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new em(this.firestore,e):null}doc(e){try{return new em(this.firestore,void 0===e?mf(this._delegate):mf(this._delegate,e))}catch(e){throw tm(e,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=af(e.firestore,_f),r=mf(e),i=Np(e.converter,t);return jp(n,[qf(Vf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ra.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new em(this.firestore,e)))}isEqual(e){return gf(this._delegate,e._delegate)}withConverter(e){return new um(this.firestore,e?this._delegate.withConverter(Zp.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function cm(e){return af(e,hf)}class hm{constructor(...e){this._delegate=new Af(...e)}static documentId(){return new hm(Ss.keyField().canonicalString())}isEqual(e){return(e=V(e))instanceof Af&&this._delegate._internalPath.isEqual(e._internalPath)}}class dm{constructor(e){this._delegate=e}static serverTimestamp(){const e=new $f("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new dm(e)}static delete(){const e=new zf("deleteField");return e._methodName="FieldValue.delete",new dm(e)}static arrayUnion(...e){const t=function(...e){return new Wf("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new dm(t)}static arrayRemove(...e){const t=function(...e){return new Hf("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new dm(t)}static increment(e){const t=function(e){return new Kf("increment",e)}(e);return t._methodName="FieldValue.increment",new dm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const fm={Firestore:Qp,GeoPoint:Pf,Timestamp:vs,Blob:Hp,Transaction:Yp,WriteBatch:Xp,DocumentReference:em,DocumentSnapshot:im,Query:om,QueryDocumentSnapshot:sm,QuerySnapshot:lm,CollectionReference:um,FieldPath:hm,FieldValue:dm,setLogLevel:function(e){!function(e){Ki.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var pm,mm;(function(e,t){e.INTERNAL.registerComponent(new q("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},fm)))})(pm=Ce,((e,t)=>new Qp(e,t,new Gp))),pm.registerVersion("@firebase/firestore-compat","0.1.2"),function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(mm||(mm={}));const gm="firebasestorage.googleapis.com";class vm extends x{constructor(e,t){super(ym(e),`Firebase Storage: ${t} (${ym(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vm.prototype)}_codeEquals(e){return ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function ym(e){return"storage/"+e}function wm(){return new vm("unknown","An unknown error occurred, please check the error payload for server response.")}function bm(){return new vm("canceled","User canceled the upload/download.")}function _m(){return new vm("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Em(e){return new vm("invalid-argument",e)}function km(){return new vm("app-deleted","The Firebase app was deleted.")}function Im(e){return new vm("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sm(e,t){return new vm("invalid-format","String does not match format '"+e+"': "+t)}function Tm(e){throw new vm("internal-error","Internal error: "+e)}class xm{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=mm.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=mm.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=mm.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Tm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponseText(){if(!this.sent_)throw Tm("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Nm{createConnection(){return new xm}}class Cm{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Cm.makeFromUrl(e,t)}catch(t){return new Cm(e,"")}if(""===n.path)return n;throw new vm("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===gm?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let t=0;t<a.length;t++){const r=a[t],i=r.regex.exec(e);if(i){const e=i[r.indices.bucket];let t=i[r.indices.path];t||(t=""),n=new Cm(e,t),r.postModify(n);break}}if(null==n)throw function(e){return new vm("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class Am{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Rm(e){return"string"==typeof e||e instanceof String}function Om(e){return Pm()&&e instanceof Blob}function Pm(){return"undefined"!=typeof Blob}function Dm(e,t,n,r){if(r<t)throw Em(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Em(`Invalid value for '${e}'. Expected ${n} or less.`)}function Lm(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Mm(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}class Um{constructor(e,t,n,r,i,s,o,a,l,u,c){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=l,this.pool_=c,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=this;function t(t,n){const r=e.resolve_,i=e.reject_,s=n.connection;if(n.wasSuccessCode)try{const t=e.callback_(s,s.getResponseText());!function(e){return void 0!==e}(t)?r():r(t)}catch(e){i(e)}else if(null!==s){const t=wm();t.serverResponse=s.getResponseText(),e.errorCallback_?i(e.errorCallback_(s,t)):i(t)}else if(n.canceled){i(e.appDelete_?km():bm())}else{i(new vm("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?t(0,new Fm(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=!1,o=0;function a(){return 2===o}let l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function c(t){i=setTimeout((()=>{i=null,e(h,a())}),t)}function h(e,...t){if(l)return;if(e)return void u.call(null,e,...t);if(a()||s)return void u.call(null,e,...t);let n;r<64&&(r*=2),1===o?(o=2,n=0):n=1e3*(r+Math.random()),c(n)}let d=!1;function f(e){d||(d=!0,l||(null!==i?(e||(o=2),clearTimeout(i),c(0)):e||(o=1)))}return c(0),setTimeout((()=>{s=!0,f(!0)}),n),f}((function(t,n){if(n)return void t(!1,new Fm(!1,null,!0));const r=e.pool_.createConnection();function i(t){const n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((()=>{null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;const n=r.getErrorCode()===mm.NO_ERROR,s=r.getStatus();if(!n||e.isRetryStatusCode_(s)){const e=r.getErrorCode()===mm.ABORT;return void t(!1,new Fm(!1,null,e))}const o=-1!==e.successCodes_.indexOf(s);t(!0,new Fm(o,r))}))}),t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class Fm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function jm(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Vm(...e){const t=jm();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(Pm())return new Blob(e);throw new vm("unsupported-environment","This browser doesn't seem to support creating Blobs")}const qm={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zm{constructor(e,t){this.data=e,this.contentType=t||null}}function Bm(e,t){switch(e){case qm.RAW:return new zm($m(t));case qm.BASE64:case qm.BASE64URL:return new zm(Wm(e,t));case qm.DATA_URL:return new zm(function(e){const t=new Hm(e);return t.base64?Wm(qm.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw Sm(qm.DATA_URL,"Malformed data URL.")}return $m(t)}(t.rest)}(t),new Hm(t).contentType)}throw wm()}function $m(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r)){if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Wm(e,t){switch(e){case qm.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Sm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case qm.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Sm(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(t)}catch(t){throw Sm(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class Hm{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Sm(qm.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class Km{constructor(e,t){let n=0,r="";Om(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Om(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Km(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Km(n,!0)}}static getBlob(...e){if(Pm()){const t=e.map((e=>e instanceof Km?e.data_:e));return new Km(Vm.apply(null,t))}{const t=e.map((e=>Rm(e)?Bm(qm.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Km(r,!0)}}uploadData(){return this.data_}}function Gm(e){let t;try{t=JSON.parse(e)}catch(e){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function Qm(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Jm(e,t){return t}class Ym{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Jm}}let Xm=null;function Zm(){if(Xm)return Xm;const e=[];e.push(new Ym("bucket")),e.push(new Ym("generation")),e.push(new Ym("metageneration")),e.push(new Ym("name","fullPath",!0));const t=new Ym("name");t.xform=function(e,t){return function(e){return!Rm(e)||e.length<2?e:Qm(e)}(t)},e.push(t);const n=new Ym("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ym("timeCreated")),e.push(new Ym("updated")),e.push(new Ym("md5Hash",null,!0)),e.push(new Ym("cacheControl",null,!0)),e.push(new Ym("contentDisposition",null,!0)),e.push(new Ym("contentEncoding",null,!0)),e.push(new Ym("contentLanguage",null,!0)),e.push(new Ym("contentType",null,!0)),e.push(new Ym("metadata","customMetadata",!0)),Xm=e,Xm}function eg(e,t,n){const r={type:"file"},i=n.length;for(let e=0;e<i;e++){const i=n[e];r[i.local]=i.xform(r,t[i.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Cm(n,r);return t._makeStorageReference(i)}})}(r,e),r}function tg(e,t,n){const r=Gm(t);if(null===r)return null;return eg(e,r,n)}function ng(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}function rg(e,t,n){const r=Gm(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const i of n.prefixes){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new Cm(t,n));r.prefixes.push(s)}if(n.items)for(const i of n.items){const n=e._makeStorageReference(new Cm(t,i.name));r.items.push(n)}return r}(e,t,r)}class ig{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function sg(e){if(!e)throw wm()}function og(e,t){return function(n,r){const i=tg(e,r,t);return sg(null!==i),i}}function ag(e,t){return function(n,r){const i=tg(e,r,t);return sg(null!==i),function(e,t,n,r){const i=Gm(t);if(null===i)return null;if(!Rm(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return Lm("/b/"+o(i)+"/o/"+o(s),n,r)+Mm({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function lg(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new vm("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new vm("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new vm("quota-exceeded","Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new vm("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function ug(e){const t=lg(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new vm("object-not-found","Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function cg(e,t,n){const r=Lm(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new ig(r,"GET",og(e,n),i);return s.errorHandler=ug(t),s}function hg(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=Lm(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new ig(o,"GET",function(e,t){return function(n,r){const i=rg(e,t,r);return sg(null!==i),i}}(e,t.bucket),a);return l.urlParams=s,l.errorHandler=lg(t),l}function dg(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function fg(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=dg(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ng(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+a+"--",h=Km.getBlob(u,r,c);if(null===h)throw _m();const d={name:l.fullPath},f=Lm(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new ig(f,"POST",og(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=lg(t),m}class pg{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function mg(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){sg(!1)}return sg(!!n&&-1!==(t||["active"]).indexOf(n)),n}const gg=262144;function vg(e,t,n,r,i,s,o,a){const l=new pg(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new vm("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,d=h+c,f={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},p=r.slice(h,d);if(null===p)throw _m();const m=t.maxUploadRetryTime,g=new ig(n,"POST",(function(e,n){const i=mg(e,["active","final"]),o=l.current+c,a=r.size();let u;return u="final"===i?og(t,s)(e,n):null,new pg(o,a,"final"===i,u)}),m);return g.headers=f,g.body=p.uploadData(),g.progressCallback=a||null,g.errorHandler=lg(e),g}const yg={STATE_CHANGED:"state_changed"},wg={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bg(e){switch(e){case"running":case"pausing":case"canceling":return wg.RUNNING;case"paused":return wg.PAUSED;case"success":return wg.SUCCESS;case"canceled":return wg.CANCELED;default:return wg.ERROR}}class _g{constructor(e,t,n){const r=function(e){return"function"==typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Eg(e){return(...t)=>{Promise.resolve().then((()=>e(...t)))}}class kg{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Zm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=dg(t,r,i),a={name:o.fullPath},l=Lm(s,e.host,e._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=ng(o,n),h=e.maxUploadRetryTime,d=new ig(l,"POST",(function(e){let t;mg(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){sg(!1)}return sg(Rm(t)),t}),h);return d.urlParams=a,d.headers=u,d.body=c,d.errorHandler=lg(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new ig(n,"POST",(function(e){const t=mg(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){sg(!1)}n||sg(!1);const i=Number(n);return sg(!isNaN(i)),new pg(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=lg(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,t,n);this._request=i,i.getPromise().then((e=>{e=e,this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=gg*this._chunkMultiplier,t=new pg(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=vg(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(e){return this._error=e,void this._transition("error")}const o=this._ref.storage._makeRequest(s,r,i);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){gg*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=cg(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=fg(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=bm(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=bg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new _g(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(bg(this._state)){case wg.SUCCESS:Eg(this._resolve.bind(null,this.snapshot))();break;case wg.CANCELED:case wg.ERROR:Eg(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(bg(this._state)){case wg.RUNNING:case wg.PAUSED:e.next&&Eg(e.next.bind(e,this.snapshot))();break;case wg.SUCCESS:e.complete&&Eg(e.complete.bind(e))();break;default:e.error&&Eg(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ig{constructor(e,t){this._service=e,this._location=t instanceof Cm?t:Cm.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ig(e,t)}get root(){const e=new Cm(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qm(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Cm(this._location.bucket,e);return new Ig(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Im(e)}}function Sg(e){const t={prefixes:[],items:[]};return Tg(e,t).then((()=>t))}async function Tg(e,t,n){const r={pageToken:n},i=await xg(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await Tg(e,t,i.nextPageToken)}async function xg(e,t){null!=t&&"number"==typeof t.maxResults&&Dm("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=hg(e.storage,e._location,"/",n.pageToken,n.maxResults);return(await e.storage.makeRequestWithTokens(r)).getPromise()}async function Ng(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=Lm(t.fullServerUrl(),e.host,e._protocol),s=ng(n,r),o=e.maxOperationRetryTime,a=new ig(i,"PATCH",og(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=ug(t),a}(e.storage,e._location,t,Zm());return(await e.storage.makeRequestWithTokens(n)).getPromise()}async function Cg(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Lm(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new ig(r,"GET",ag(e,n),i);return s.errorHandler=ug(t),s}(e.storage,e._location,Zm());return(await e.storage.makeRequestWithTokens(t)).getPromise().then((e=>{if(null===e)throw new vm("no-download-url","The given file does not have any download URLs.");return e}))}async function Ag(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Lm(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ig(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ug(t),i}(e.storage,e._location);return(await e.storage.makeRequestWithTokens(t)).getPromise()}function Rg(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Cm(e._location.bucket,n);return new Ig(e.storage,r)}function Og(e,t){if(e instanceof Lg){const n=e;if(null==n._bucket)throw new vm("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new Ig(n,n._bucket);return null!=t?Og(r,t):r}return void 0!==t?Rg(e,t):e}function Pg(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Lg)return new Ig(e,t);throw Em("To use ref(service, url), the first argument must be a Storage instance.")}return Og(e,t)}function Dg(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:Cm.makeFromBucketSpec(n,e)}class Lg{constructor(e,t,n,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=gm,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Cm.makeFromBucketSpec(i,this._host):Dg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Cm.makeFromBucketSpec(this._url,e):this._bucket=Dg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Dm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Dm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ig(this,e)}_makeRequest(e,t,n){if(this._deleted)return new Am(km());{const r=function(e,t,n,r,i,s){const o=Mm(e.urlParams),a=e.url+o,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new Um(a,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((()=>this._requests.delete(r)),(()=>this._requests.delete(r))),r}}async makeRequestWithTokens(e){const[t,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n)}}const Mg="storage";function Ug(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new kg(e,new Km(t),n)}(e=V(e),t,n)}function Fg(e){return async function(e){e._throwIfRoot("getMetadata");const t=cg(e.storage,e._location,Zm());return(await e.storage.makeRequestWithTokens(t)).getPromise()}(e=V(e))}function jg(e,t){return Pg(e=V(e),t)}function Vg(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:w(i,e.app.options.projectId))}(e,t,n,r)}function qg(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Lg(n,r,i,new Nm,t,me)}ue(new q(Mg,qg,"PUBLIC").setMultipleInstances(!0)),be("@firebase/storage","0.8.2");class zg{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Bg{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new zg(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new zg(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"==typeof t?e=>t(new zg(e,this,this._ref)):{next:t.next?e=>t.next(new zg(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class $g{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new Wg(e,this._service)))}get items(){return this._delegate.items.map((e=>new Wg(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Wg{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return Rg(e,t)}(this._delegate,e);return new Wg(t,this.storage)}get root(){return new Wg(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Wg(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Bg(Ug(this._delegate,e,t),this)}putString(e,t=qm.RAW,n){this._throwIfRoot("putString");const r=Bm(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Bg(new kg(this._delegate,new Km(r.data,!0),i),this)}listAll(){return function(e){return Sg(e=V(e))}(this._delegate).then((e=>new $g(e,this.storage)))}list(e){return function(e,t){return xg(e=V(e),t)}(this._delegate,e||void 0).then((e=>new $g(e,this.storage)))}getMetadata(){return Fg(this._delegate)}updateMetadata(e){return function(e,t){return Ng(e=V(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return Cg(e=V(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return Ag(e=V(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Im(e)}}class Hg{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Kg(e))throw Em("ref() expected a child path but got a URL, use refFromURL instead.");return new Wg(jg(this._delegate,e),this)}refFromURL(e){if(!Kg(e))throw Em("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Cm.makeFromUrl(e,this._delegate.host)}catch(e){throw Em("refFromUrl() expected a valid full URL but got an invalid one.")}return new Wg(jg(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){Vg(this._delegate,e,t,n)}}function Kg(e){return/^[A-Za-z]+:\/\//.test(e)}function Gg(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t});return new Hg(n,r)}!function(e){const t={TaskState:wg,TaskEvent:yg,StringFormat:qm,Storage:Hg,Reference:Wg};e.INTERNAL.registerComponent(new q("storage-compat",Gg,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.2")}(Ce);const Qg="facebook.com",Jg="github.com",Yg="google.com",Xg="password",Zg="twitter.com",ev="EMAIL_SIGNIN",tv="PASSWORD_RESET",nv="RECOVER_EMAIL",rv="REVERT_SECOND_FACTOR_ADDITION",iv="VERIFY_AND_CHANGE_EMAIL",sv="VERIFY_EMAIL";function ov(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const av=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lv=ov,uv=new N("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cv=new Z("@firebase/auth");function hv(e,...t){cv.logLevel<=K.ERROR&&cv.error(`Auth (${me}): ${e}`,...t)}function dv(e,...t){throw gv(e,...t)}function fv(e,...t){return gv(e,...t)}function pv(e,t,n){const r=Object.assign(Object.assign({},lv()),{[t]:n});return new N("auth","Firebase",r).create(t,{appName:e.name})}function mv(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&dv(e,"argument-error"),pv(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gv(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return uv.create(e,...t)}function vv(e,t,...n){if(!e)throw gv(t,...n)}function yv(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hv(t),new Error(t)}function wv(e,t){e||yv(t)}const bv=new Map;function _v(e){wv(e instanceof Function,"Expected a class definition");let t=bv.get(e);return t?(wv(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bv.set(e,t),t)}function Ev(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function kv(){return"http:"===Iv()||"https:"===Iv()}function Iv(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Sv{constructor(e,t){this.shortDelay=e,this.longDelay=t,wv(t>e,"Short delay should be less than long delay!"),this.isMobile=_()||I()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kv()||k()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Tv(e,t){wv(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class xv{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void yv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void yv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void yv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Cv=new Sv(3e4,6e4);function Av(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Rv(e,t,n,r,i={}){return Ov(e,i,(()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=D(Object.assign({key:e.config.apiKey},s)).slice(1),a=new(xv.headers());return a.set("Content-Type","application/json"),a.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&a.set("X-Firebase-Locale",e.languageCode),xv.fetch()(Dv(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Ov(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Nv),t);try{const t=new Lv(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Mv(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Mv(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Mv(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw pv(e,a,o);dv(e,a)}}catch(t){if(t instanceof x)throw t;dv(e,"network-request-failed")}}async function Pv(e,t,n,r,i={}){const s=await Rv(e,t,n,r,i);return"mfaPendingCredential"in s&&dv(e,"multi-factor-auth-required",{serverResponse:s}),s}function Dv(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Tv(e.config,i):`${e.config.apiScheme}://${i}`}class Lv{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(fv(this.auth,"timeout"))),Cv.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mv(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fv(e,t,r);return i.customData._tokenResponse=n,i}function Uv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Fv(e){return 1e3*Number(e)}function jv(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return hv("JWT malformed, contained fewer than 3 sections"),null;try{const e=m(n);return e?JSON.parse(e):(hv("Failed to decode base64 JWT payload"),null)}catch(e){return hv("Caught error parsing JWT payload as JSON",e),null}}async function Vv(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof x&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class qv{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class zv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uv(this.lastLoginAt),this.creationTime=Uv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bv(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Vv(e,async function(e,t){return Rv(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));vv(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=o(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const l=(u=e.providerData,c=a,[...u.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var u,c;const h=e.isAnonymous,d=!(e.email&&s.passwordHash||(null==l?void 0:l.length)),f=!!h&&d,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new zv(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(e,p)}class $v{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vv(e.idToken,"internal-error"),vv(void 0!==e.idToken,"internal-error"),vv(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=jv(e);return vv(t,"internal-error"),vv(void 0!==t.exp,"internal-error"),vv(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return vv(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ov(e,{},(()=>{const n=D({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Dv(e,r,"/v1/token",`key=${i}`);return xv.fetch()(s,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new $v;return n&&(vv("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(vv("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(vv("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $v,this.toJSON())}_performRefresh(){return yv("not implemented")}}function Wv(e,t){vv("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Hv{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new qv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.metadata=new zv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Vv(this,this.stsTokenManager.getToken(this.auth,e));return vv(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=V(e),r=await n.getIdToken(t),i=jv(r);vv(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Uv(Fv(i.auth_time)),issuedAtTime:Uv(Fv(i.iat)),expirationTime:Uv(Fv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=V(e);await Bv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(vv(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Hv(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){vv(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Bv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Vv(this,async function(e,t){return Rv(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;vv(y&&E,e,"internal-error");const k=$v.fromJSON(this.name,E);vv("string"==typeof y,e,"internal-error"),Wv(c,e.name),Wv(h,e.name),vv("boolean"==typeof w,e,"internal-error"),vv("boolean"==typeof b,e,"internal-error"),Wv(d,e.name),Wv(f,e.name),Wv(p,e.name),Wv(m,e.name),Wv(g,e.name),Wv(v,e.name);const I=new Hv({uid:y,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t,n=!1){const r=new $v;r.updateFromServerResponse(t);const i=new Hv({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Bv(i),i}}class Kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Kv.type="NONE";const Gv=Kv;function Qv(e,t,n){return`firebase:${e}:${t}:${n}`}class Jv{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Qv(this.userKey,r.apiKey,i),this.fullPersistenceKey=Qv("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hv._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Jv(_v(Gv),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||_v(Gv);const s=Qv(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(s);if(t){const r=Hv._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new Jv(i,e,n)):new Jv(i,e,n)}}function Yv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ty(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ry(t))return"Blackberry";if(iy(t))return"Webos";if(Zv(t))return"Safari";if((t.includes("chrome/")||ey(t))&&!t.includes("edge/"))return"Chrome";if(ny(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Xv(e=b()){return/firefox\//i.test(e)}function Zv(e=b()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ey(e=b()){return/crios\//i.test(e)}function ty(e=b()){return/iemobile/i.test(e)}function ny(e=b()){return/android/i.test(e)}function ry(e=b()){return/blackberry/i.test(e)}function iy(e=b()){return/webos/i.test(e)}function sy(e=b()){return/iphone|ipad|ipod/i.test(e)}function oy(e=b()){return sy(e)||ny(e)||iy(e)||ry(e)||/windows phone/i.test(e)||ty(e)}function ay(e,t=[]){let n;switch(e){case"Browser":n=Yv(b());break;case"Worker":n=`${Yv(b())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${me}/${r}`}class ly{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cy(this),this.idTokenSubscription=new cy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uv,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_v(t)),this._initializationPromise=this.queue((async()=>{var n;this._deleted||(this.persistenceManager=await Jv.create(this,e),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(t),this._deleted||(this._isInitialized=!0)))})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null==s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(vv(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bv(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?V(e):null;return t&&vv(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&vv(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(_v(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new N("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_v(e)||this._popupRedirectResolver;vv(t,this,"argument-error"),this.redirectPersistenceManager=await Jv.create(this,[_v(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return vv(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vv(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ay(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function uy(e){return V(e)}class cy{constructor(e){this.auth=e,this.observer=null,this.addObserver=U((e=>this.observer=e))}get next(){return vv(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hy(e,t,n){const r=uy(e);vv(r._canInitEmulator,r,"emulator-config-failed"),vv(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=dy(t),{host:o,port:a}=function(e){const t=dy(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:fy(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:fy(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),function(e){function t(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"==typeof window||"undefined"==typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(i)}function dy(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function fy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class py{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yv("not implemented")}_getIdTokenResponse(e){return yv("not implemented")}_linkToIdToken(e,t){return yv("not implemented")}_getReauthenticationResolver(e){return yv("not implemented")}}async function my(e,t){return Rv(e,"POST","/v1/accounts:resetPassword",Av(e,t))}async function gy(e,t){return Rv(e,"POST","/v1/accounts:update",t)}async function vy(e,t){return Rv(e,"POST","/v1/accounts:sendOobCode",Av(e,t))}class yy extends py{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new yy(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new yy(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return Pv(e,"POST","/v1/accounts:signInWithPassword",Av(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Pv(e,"POST","/v1/accounts:signInWithEmailLink",Av(e,t))}(e,{email:this._email,oobCode:this._password});default:dv(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return gy(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Pv(e,"POST","/v1/accounts:signInWithEmailLink",Av(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:dv(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wy(e,t){return Pv(e,"POST","/v1/accounts:signInWithIdp",Av(e,t))}class by extends py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new by(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dv("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new by(n,r);return Object.assign(s,i),s}_getIdTokenResponse(e){return wy(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,wy(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wy(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=D(t)}return e}}const _y={USER_NOT_FOUND:"user-not-found"};class Ey extends py{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ey({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ey({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Pv(e,"POST","/v1/accounts:signInWithPhoneNumber",Av(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Pv(e,"POST","/v1/accounts:signInWithPhoneNumber",Av(e,t));if(n.temporaryProof)throw Mv(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Pv(e,"POST","/v1/accounts:signInWithPhoneNumber",Av(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),_y)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ey({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ky{constructor(e){var t,n,r,i,s,o;const a=L(M(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);vv(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=L(M(e)).link,n=t?L(M(t)).deep_link_id:null,r=L(M(e)).deep_link_id;return(r?L(M(r)).link:null)||r||n||t||e}(e);try{return new ky(t)}catch(e){return null}}}class Iy{constructor(){this.providerId=Iy.PROVIDER_ID}static credential(e,t){return yy._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ky.parseLink(t);return vv(n,"argument-error"),yy._fromEmailAndCode(e,n.code,n.tenantId)}}Iy.PROVIDER_ID="password",Iy.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Iy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ty extends Sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class xy extends Ty{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return vv("providerId"in t&&"signInMethod"in t,"argument-error"),by._fromParams(t)}credential(e){return this._credential(e)}_credential(e){return vv(e.idToken||e.accessToken,"argument-error"),by._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return xy.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return xy.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new xy(o)._credential({idToken:t,accessToken:n,rawNonce:s,pendingToken:i})}catch(e){return null}}}class Ny extends Ty{constructor(){super("facebook.com")}static credential(e){return by._fromParams({providerId:Ny.PROVIDER_ID,signInMethod:Ny.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ny.credentialFromTaggedObject(e)}static credentialFromError(e){return Ny.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ny.credential(e.oauthAccessToken)}catch(e){return null}}}Ny.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ny.PROVIDER_ID="facebook.com";class Cy extends Ty{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return by._fromParams({providerId:Cy.PROVIDER_ID,signInMethod:Cy.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cy.credentialFromTaggedObject(e)}static credentialFromError(e){return Cy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Cy.credential(t,n)}catch(e){return null}}}Cy.GOOGLE_SIGN_IN_METHOD="google.com",Cy.PROVIDER_ID="google.com";class Ay extends Ty{constructor(){super("github.com")}static credential(e){return by._fromParams({providerId:Ay.PROVIDER_ID,signInMethod:Ay.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ay.credentialFromTaggedObject(e)}static credentialFromError(e){return Ay.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ay.credential(e.oauthAccessToken)}catch(e){return null}}}Ay.GITHUB_SIGN_IN_METHOD="github.com",Ay.PROVIDER_ID="github.com";class Ry extends py{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return wy(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,wy(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wy(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Ry(n,i):null}static _create(e,t){return new Ry(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Oy extends Ty{constructor(){super("twitter.com")}static credential(e,t){return by._fromParams({providerId:Oy.PROVIDER_ID,signInMethod:Oy.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Oy.credentialFromTaggedObject(e)}static credentialFromError(e){return Oy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Oy.credential(t,n)}catch(e){return null}}}async function Py(e,t){return Pv(e,"POST","/v1/accounts:signUp",Av(e,t))}Oy.TWITTER_SIGN_IN_METHOD="twitter.com",Oy.PROVIDER_ID="twitter.com";class Dy{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Hv._fromIdTokenResponse(e,n,r),s=Ly(n);return new Dy({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ly(n);return new Dy({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ly(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class My extends x{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,My.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new My(e,t,n,r)}}function Uy(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw My._fromErrorAndOperation(e,n,t,r);throw n}))}function Fy(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function jy(e,t){const n=V(e);await qy(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Rv(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Fy(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Vy(e,t,n=!1){const r=await Vv(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Dy._forOperation(e,"link",r)}async function qy(e,t,n){await Bv(t);const r=!1===e?"provider-already-linked":"no-such-provider";vv(Fy(t.providerData).has(n)===e,t.auth,r)}async function zy(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await Vv(e,Uy(r,i,t,e),n);vv(s.idToken,r,"internal-error");const o=jv(s.idToken);vv(o,r,"internal-error");const{sub:a}=o;return vv(e.uid===a,r,"user-mismatch"),Dy._forOperation(e,i,s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&dv(r,"user-mismatch"),e}}async function By(e,t,n=!1){const r="signIn",i=await Uy(e,r,t),s=await Dy._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function $y(e,t){return By(uy(e),t)}async function Wy(e,t){const n=V(e);return await qy(!1,n,t.providerId),Vy(n,t)}async function Hy(e,t){return zy(V(e),t)}async function Ky(e,t){const n=uy(e),r=await async function(e,t){return Pv(e,"POST","/v1/accounts:signInWithCustomToken",Av(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Dy._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Gy{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Qy._fromServerResponse(e,t):dv(e,"internal-error")}}class Qy extends Gy{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Qy(t)}}function Jy(e,t,n){var r;vv((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),vv(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(vv(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iosBundleId=n.iOS.bundleId),n.android&&(vv(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Yy(e,t,n){const r=V(e),i={requestType:"PASSWORD_RESET",email:t};n&&Jy(r,i,n),await async function(e,t){return vy(e,t)}(r,i)}async function Xy(e,t){await async function(e,t){return Rv(e,"POST","/v1/accounts:update",Av(e,t))}(V(e),{oobCode:t})}async function Zy(e,t){const n=V(e),r=await my(n,{oobCode:t}),i=r.requestType;switch(vv(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":vv(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":vv(r.mfaInfo,n,"internal-error");default:vv(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Gy._fromServerResponse(uy(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function ew(e,t,n){const r=V(e),i={requestType:"EMAIL_SIGNIN",email:t};vv(n.handleCodeInApp,r,"argument-error"),n&&Jy(r,i,n),await async function(e,t){return vy(e,t)}(r,i)}async function tw(e,t){const n={identifier:t,continueUri:kv()?Ev():"http://localhost"},{signinMethods:r}=await async function(e,t){return Rv(e,"POST","/v1/accounts:createAuthUri",Av(e,t))}(V(e),n);return r||[]}async function nw(e,t){const n=V(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Jy(n.auth,r,t);const{email:i}=await async function(e,t){return vy(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function rw(e,t,n){const r=V(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Jy(r.auth,i,n);const{email:s}=await async function(e,t){return vy(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function iw(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=V(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await Vv(r,async function(e,t){return Rv(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find((({providerId:e})=>"password"===e));o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}async function sw(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Vv(e,gy(r,i));await e._updateTokensIfNecessary(s,!0)}class ow{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class aw extends ow{constructor(e,t,n,r){super(e,t,n),this.username=r}}class lw extends ow{constructor(e,t){super(e,"facebook.com",t)}}class uw extends aw{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class cw extends ow{constructor(e,t){super(e,"google.com",t)}}class hw extends aw{constructor(e,t,n){super(e,"twitter.com",t,n)}}function dw(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=jv(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new ow(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new lw(s,i);case"github.com":return new uw(s,i);case"google.com":return new cw(s,i);case"twitter.com":return new hw(s,i,e.screenName||null);case"custom":case"anonymous":return new ow(s,null);default:return new ow(s,r,i)}}(n)}class fw{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new fw("enroll",e)}static _fromMfaPendingCredential(e){return new fw("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return fw._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return fw._fromIdtoken(e.multiFactorSession.idToken)}return null}}class pw{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=uy(e),r=(t.serverResponse.mfaInfo||[]).map((e=>Gy._fromServerResponse(n,e)));vv(t.serverResponse.mfaPendingCredential,n,"internal-error");const i=fw._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new pw(i,r,(async e=>{const r=await e._process(n,i);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const s=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await Dy._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return vv(t.user,n,"internal-error"),Dy._forOperation(t.user,t.operationType,s);default:dv(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class mw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Gy._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new mw(e)}async getSession(){return fw._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await Vv(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await Vv(this.user,function(e,t){return Rv(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:e.tenantId},t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==e.code)throw e}}}const gw=new WeakMap;const vw="__sak";class yw{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vw,"1"),this.storage.removeItem(vw),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}class ww extends yw{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=b();return Zv(e)||sy(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=oy(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);S()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ww.type="LOCAL";const bw=ww;class _w extends yw{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_w.type="SESSION";const Ew=_w;class kw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new kw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Iw(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}kw.receivers=[];class Sw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Iw("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Tw(){return window}function xw(){return void 0!==Tw().WorkerGlobalScope&&"function"==typeof Tw().importScripts}const Nw="firebaseLocalStorageDb",Cw="firebaseLocalStorage",Aw="fbase_key";class Rw{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ow(e,t){return e.transaction([Cw],t?"readwrite":"readonly").objectStore(Cw)}function Pw(){const e=indexedDB.open(Nw,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Cw,{keyPath:Aw})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Cw)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Nw);return new Rw(e).toPromise()}(),t(await Pw()))}))}))}async function Dw(e,t,n){const r=Ow(e,!0).put({[Aw]:t,value:n});return new Rw(r).toPromise()}function Lw(e,t){const n=Ow(e,!0).delete(t);return new Rw(n).toPromise()}class Mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Pw()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kw._getInstance(xw()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Sw(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pw();return await Dw(e,vw,"1"),await Lw(e,vw),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Dw(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ow(e,!1).get(t),r=await new Rw(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Lw(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ow(e,!1).getAll();return new Rw(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Mw.type="LOCAL";const Uw=Mw;function Fw(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=fv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function jw(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Vw=1e12;class qw{constructor(e){this.auth=e,this.counter=Vw,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new zw(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Vw;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Vw;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Vw;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class zw{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;vv(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bw=jw("rcb"),$w=new Sv(3e4,6e4);class Ww{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Tw().grecaptcha}load(e,t=""){return vv(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Tw().grecaptcha):new Promise(((n,r)=>{const i=Tw().setTimeout((()=>{r(fv(e,"network-request-failed"))}),$w.get());Tw()[Bw]=()=>{Tw().clearTimeout(i),delete Tw()[Bw];const s=Tw().grecaptcha;if(!s)return void r(fv(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Fw(`https://www.google.com/recaptcha/api.js??${D({onload:Bw,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(fv(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Tw().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hw{async load(e){return new qw(e)}clearedOneInstance(){}}const Kw="recaptcha",Gw={theme:"light",type:"image"};class Qw{constructor(e,t=Object.assign({},Gw),n){this.parameters=t,this.type=Kw,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=uy(n),this.isInvisible="invisible"===this.parameters.size,vv("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;vv(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hw:new Ww,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){vv(!this.parameters.sitekey,this.auth,"argument-error"),vv(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),vv("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=Tw()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){vv(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){vv(kv()&&!xw(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Rv(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);vv(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return vv(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Jw{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ey._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Yw(e,t,n){var r;const i=await n.verify();try{let s;if(vv("string"==typeof i,e,"argument-error"),vv(n.type===Kw,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){vv("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Rv(e,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{vv("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;vv(n,e,"missing-multi-factor-info");const o=await function(e,t){return Rv(e,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Rv(e,"POST","/v1/accounts:sendVerificationCode",Av(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Xw{constructor(e){this.providerId=Xw.PROVIDER_ID,this.auth=uy(e)}verifyPhoneNumber(e,t){return Yw(this.auth,e,V(t))}static credential(e,t){return Ey._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Xw.credentialFromTaggedObject(t)}static credentialFromError(e){return Xw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Ey._fromTokenResponse(t,n):null}}function Zw(e,t){return t?_v(t):(vv(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Xw.PROVIDER_ID="phone",Xw.PHONE_SIGN_IN_METHOD="phone";class eb extends py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wy(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tb(e){return By(e.auth,new eb(e),e.bypassAuthState)}function nb(e){const{auth:t,user:n}=e;return vv(n,t,"internal-error"),zy(n,new eb(e),e.bypassAuthState)}async function rb(e){const{auth:t,user:n}=e;return vv(n,t,"internal-error"),Vy(n,new eb(e),e.bypassAuthState)}class ib{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tb;case"linkViaPopup":case"linkViaRedirect":return rb;case"reauthViaPopup":case"reauthViaRedirect":return nb;default:dv(this.auth,"internal-error")}}resolve(e){wv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sb=new Sv(2e3,1e4);class ob extends ib{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ob.currentPopupAction&&ob.currentPopupAction.cancel(),ob.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vv(e,this.auth,"internal-error"),e}async onExecution(){wv(1===this.filter.length,"Popup operations only handle one event");const e=Iw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(fv(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(fv(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ob.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(fv(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,sb.get())};e()}}ob.currentPopupAction=null;const ab=new Map;class lb extends ib{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ab.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=hb(t),r="true"===await cb(e)._get(n);return await cb(e)._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ab.set(this.auth._key(),e)}return e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function ub(e,t){return cb(e)._set(hb(t),"true")}function cb(e){return _v(e._redirectPersistence)}function hb(e){return Qv("pendingRedirect",e.config.apiKey,e.name)}function db(e,t,n){return async function(e,t,n){const r=uy(e);mv(e,t,Sy);const i=Zw(r,n);return await ub(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function fb(e,t,n){return async function(e,t,n){const r=V(e);mv(r.auth,t,Sy);const i=Zw(r.auth,n);await ub(i,r.auth);const s=await gb(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function pb(e,t,n){return async function(e,t,n){const r=V(e);mv(r.auth,t,Sy);const i=Zw(r.auth,n);await qy(!1,r,t.providerId),await ub(i,r.auth);const s=await gb(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function mb(e,t,n=!1){const r=uy(e),i=Zw(r,t),s=new lb(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function gb(e){const t=Iw(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class vb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wb(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!wb(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(fv(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yb(e))}saveEventToCache(e){this.cachedEventUids.add(yb(e)),this.lastProcessedEventTime=Date.now()}}function yb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function wb({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function bb(e,t={}){return Rv(e,"GET","/v1/projects",t)}const _b=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eb=/^https?/;function kb(e){const t=Ev(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Eb.test(n))return!1;if(_b.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ib=new Sv(3e4,6e4);function Sb(){const e=Tw().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Tb=null;function xb(e){return Tb=Tb||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){Sb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Sb(),n(fv(e,"network-request-failed"))},timeout:Ib.get()})}if(null===(i=null===(r=Tw().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Tw().gapi)||void 0===s?void 0:s.load)){const t=jw("iframefcb");return Tw()[t]=()=>{gapi.load?o():n(fv(e,"network-request-failed"))},Fw(`https://apis.google.com/js/api.js?onload=${t}`)}o()}})).catch((e=>{throw Tb=null,e}))}(e),Tb}const Nb=new Sv(5e3,15e3),Cb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Ab=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rb(e){const t=e.config;vv(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Tv(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:me},i=Ab.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${D(r).slice(1)}`}const Ob={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Db(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ob),{width:r.toString(),height:i.toString(),top:s,left:o}),u=b().toLowerCase();n&&(a=ey(u)?"_blank":n),Xv(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=b()){var t;return sy(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Pb(null);const h=window.open(t||"",a,c);vv(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Pb(h)}const Lb="__/auth/handler",Mb="emulator/auth/handler";function Ub(e,t,n,r,i,s){vv(e.config.authDomain,e,"auth-domain-config-required"),vv(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:me,eventId:i};if(t instanceof Sy){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Ty){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Lb}`;return Tv(e,Mb)}(e)}?${D(a).slice(1)}`}const Fb="webStorageSupport";const jb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ew,this._completeRedirectFn=mb}async _openPopup(e,t,n,r){var i;wv(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Db(e,Ub(e,t,n,Ev(),r),Iw())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=Ub(e,t,n,Ev(),r),Tw().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(wv(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}async initAndGetManager(e){const t=await async function(e){const t=await xb(e),n=Tw().gapi;return vv(n,e,"internal-error"),t.open({where:document.body,url:Rb(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cb,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=fv(e,"network-request-failed"),s=Tw().setTimeout((()=>{r(i)}),Nb.get());function o(){Tw().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new vb(e);return t.register("authEvent",(t=>{vv(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fb,{type:Fb},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),dv(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await bb(e);for(const e of t)try{if(kb(e))return}catch(e){}dv(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oy()||Zv()||sy()}};class Vb extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return yv("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Vb(e)}_finalizeEnroll(e,t,n){return function(e,t){return Rv(e,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Rv(e,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class qb{constructor(){}static assertion(e){return Vb._fromCredential(e)}}var zb;class Bb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vv(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $b(){return window}zb="Browser",ue(new q("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{vv(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),vv(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:zb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ay(zb)},s=new ly(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_v);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ue(new q("auth-internal",(e=>(e=>new Bb(e))(uy(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),be("@firebase/auth","0.17.2",function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(zb));async function Wb(e,t,n){var r;const{BuildInfo:i}=$b();wv(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(wv(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return sy()?o.ibi=i.packageName:ny()?o.apn=i.packageName:dv(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Ub(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function Hb(e){const{cordova:t}=$b();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=b()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}class Kb extends vb{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Gb(e){const t=await Yb()._get(Xb(e));return t&&await Yb()._remove(Xb(e)),t}function Qb(e,t){var n,r;const i=function(e){const t=Zb(e),n=t.link?decodeURIComponent(t.link):void 0,r=Zb(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Zb(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Zb(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?fv(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Jb(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Yb(){return _v(bw)}function Xb(e){return Qv("authEvent",e.config.apiKey,e.name)}function Zb(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return L(n.join("?"))}const e_=class{constructor(){this._redirectPersistence=Ew,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mb}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Kb(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){dv(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,u,c;const h=$b();vv("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),vv(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),vv("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),vv("function"==typeof(null===(l=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),vv("function"==typeof(null===(c=null===(u=null==h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),ab.clear(),await this._originValidation(e);const s=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Jb(),postBody:null,tenantId:e.tenantId,error:fv(e,"no-auth-event")}}(e,n,r);await function(e,t){return Yb()._set(Xb(e),t)}(e,s);const o=await Wb(e,s,t);return async function(e,t,n){const{cordova:r}=$b();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout((()=>{o(fv(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(l),document.addEventListener("resume",u,!1),ny()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Hb(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=$b(),n={};sy()?n.iosBundleId=t.packageName:ny()?n.androidPackageName=t.packageName:dv(e,"operation-not-supported-in-this-environment"),await bb(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=$b(),s=setTimeout((async()=>{await Gb(e),t.onEvent(t_())}),500),o=async n=>{clearTimeout(s);const r=await Gb(e);let i=null;r&&(null==n?void 0:n.url)&&(i=Qb(r,n.url)),t.onEvent(i||t_())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,o);const a=r,l=`${i.packageName.toLowerCase()}://`;$b().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}}}};function t_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fv("no-auth-event")}}function n_(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function r_(e=b()){return!("file:"!==n_()&&"ionic:"!==n_()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function i_(e=b()){return S()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=b()){return/Edge\/\d+/.test(e)}(e)}function s_(){try{const e=self.localStorage,t=Iw();if(e)return e.setItem(t,"1"),e.removeItem(t),!i_()||T()}catch(e){return o_()&&T()}return!1}function o_(){return void 0!==i.g&&"WorkerGlobalScope"in i.g&&"importScripts"in i.g}function a_(){return("http:"===n_()||"https:"===n_()||k()||r_())&&!(I()||E())&&s_()&&!o_()}function l_(){return r_()&&"undefined"!=typeof document}const u_={LOCAL:"local",NONE:"none",SESSION:"session"},c_=vv,h_="persistence";async function d_(e){await e._initializationPromise;const t=f_(),n=Qv(h_,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function f_(){return"undefined"!=typeof window?window:null}const p_=vv;class m_{constructor(){this.browserResolver=_v(jb),this.cordovaResolver=_v(e_),this.underlyingResolver=null,this._redirectPersistence=Ew,this._completeRedirectFn=mb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return l_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return p_(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!l_()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function g_(e){return e.unwrap()}function v_(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code){t.resolver=new __(e,function(e,t){var n;const r=V(e),i=t;return vv(t.operationType,r,"argument-error"),vv(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),pw._fromError(r,i)}(e,t))}else if(r){const e=y_(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function y_(e){const{_tokenResponse:t}=e instanceof x?e.customData:e;if(!t)return null;if(!(e instanceof x)&&"temporaryProof"in t&&"phoneNumber"in t)return Xw.credentialFromResult(e);const n=t.providerId;if(!n||n===Xg)return null;let r;switch(n){case Yg:r=Cy;break;case Qg:r=Ny;break;case Jg:r=Ay;break;case Zg:r=Oy;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?Ry._create(n,o):by._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new xy(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof x?r.credentialFromError(e):r.credentialFromResult(e)}async function w_(e,t){let n;try{n=await t}catch(t){throw t instanceof x&&v_(e,t),t}const{operationType:r,user:i}=n;return{operationType:r,credential:(s=n,y_(s)),additionalUserInfo:dw(n),user:E_.getOrCreate(i)};var s}async function b_(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>w_(e,n.confirm(t))}}class __{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return w_(g_(this.auth),this.resolver.resolveSignIn(e))}}class E_{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=V(e);return gw.has(t)||gw.set(t,mw._fromUser(t)),gw.get(t)}(e)}static getOrCreate(e){return E_.USER_MAP.has(e)||E_.USER_MAP.set(e,new E_(e)),E_.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return w_(this.auth,Wy(this._delegate,e))}async linkWithPhoneNumber(e,t){return b_(this.auth,async function(e,t,n){const r=V(e);await qy(!1,r,"phone");const i=await Yw(r.auth,t,V(n));return new Jw(i,(e=>Wy(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return w_(this.auth,async function(e,t,n){const r=V(e);mv(r.auth,t,Sy);const i=Zw(r.auth,n);return new ob(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,m_))}async linkWithRedirect(e){return await d_(uy(this.auth)),pb(this._delegate,e,m_)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return w_(this.auth,Hy(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return b_(this.auth,async function(e,t,n){const r=V(e),i=await Yw(r.auth,t,V(n));return new Jw(i,(e=>Hy(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return w_(this.auth,async function(e,t,n){const r=V(e);mv(r.auth,t,Sy);const i=Zw(r.auth,n);return new ob(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,m_))}async reauthenticateWithRedirect(e){return await d_(uy(this.auth)),fb(this._delegate,e,m_)}sendEmailVerification(e){return nw(this._delegate,e)}async unlink(e){return await jy(this._delegate,e),this}updateEmail(e){return function(e,t){return sw(V(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return sw(V(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Vy(V(e),t)}(this._delegate,e)}updateProfile(e){return iw(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return rw(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}E_.USER_MAP=new WeakMap;const k_=vv;class I_{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;k_(n,"invalid-api-key",{appName:e.name});let r=[Gv];if("undefined"!=typeof window){r=function(e,t){const n=f_();if(!(null==n?void 0:n.sessionStorage))return[];const r=Qv(h_,e,t);switch(n.sessionStorage.getItem(r)){case u_.NONE:return[Gv];case u_.LOCAL:return[Uw,Ew];case u_.SESSION:return[Ew];default:return[]}}(n,e.name);for(const e of[Uw,bw,Ew])r.includes(e)||r.push(e)}k_(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?m_:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(av),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?E_.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){hy(this._delegate,e,t)}applyActionCode(e){return Xy(this._delegate,e)}checkActionCode(e){return Zy(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await my(V(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return w_(this._delegate,async function(e,t,n){const r=uy(e),i=await Py(r,{returnSecureToken:!0,email:t,password:n}),s=await Dy._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return tw(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=ky.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){k_(a_(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await uy(e)._initializationPromise,mb(e,t,!1)}(this._delegate,m_);return e?w_(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){uy(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=S_(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=S_(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return ew(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Yy(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){c_(Object.values(u_).includes(t),e,"invalid-persistence-type"),I()?c_(t!==u_.SESSION,e,"unsupported-persistence-type"):E()?c_(t===u_.NONE,e,"unsupported-persistence-type"):o_()?c_(t===u_.NONE||t===u_.LOCAL&&T(),e,"unsupported-persistence-type"):c_(t===u_.NONE||s_(),e,"unsupported-persistence-type")}(this._delegate,e),e){case u_.SESSION:t=Ew;break;case u_.LOCAL:t=await _v(Uw)._isAvailable()?Uw:bw;break;case u_.NONE:t=Gv;break;default:return dv("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return w_(this._delegate,async function(e){var t;const n=uy(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Dy({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Py(n,{returnSecureToken:!0}),i=await Dy._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return w_(this._delegate,$y(this._delegate,e))}signInWithCustomToken(e){return w_(this._delegate,Ky(this._delegate,e))}signInWithEmailAndPassword(e,t){return w_(this._delegate,function(e,t,n){return $y(V(e),Iy.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return w_(this._delegate,async function(e,t,n){const r=V(e),i=Iy.credentialWithLink(t,n||Ev());return vv(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),$y(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return b_(this._delegate,async function(e,t,n){const r=uy(e),i=await Yw(r,t,V(n));return new Jw(i,(e=>$y(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return k_(a_(),this._delegate,"operation-not-supported-in-this-environment"),w_(this._delegate,async function(e,t,n){const r=uy(e);mv(e,t,Sy);const i=Zw(r,n);return new ob(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,m_))}async signInWithRedirect(e){return k_(a_(),this._delegate,"operation-not-supported-in-this-environment"),await d_(this._delegate),db(this._delegate,e,m_)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Zy(V(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function S_(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&E_.getOrCreate(e)),error:t,complete:n}}I_.Persistence=u_;class T_{constructor(){this.providerId="phone",this._delegate=new Xw(g_(Ce.auth()))}static credential(e,t){return Xw.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}T_.PHONE_SIGN_IN_METHOD=Xw.PHONE_SIGN_IN_METHOD,T_.PROVIDER_ID=Xw.PROVIDER_ID;const x_=vv;class N_{constructor(e,t,n=Ce.app()){var r;x_(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Qw(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new q("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new I_(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ev,PASSWORD_RESET:tv,RECOVER_EMAIL:nv,REVERT_SECOND_FACTOR_ADDITION:rv,VERIFY_AND_CHANGE_EMAIL:iv,VERIFY_EMAIL:sv}},EmailAuthProvider:Iy,FacebookAuthProvider:Ny,GithubAuthProvider:Ay,GoogleAuthProvider:Cy,OAuthProvider:xy,PhoneAuthProvider:T_,PhoneMultiFactorGenerator:qb,RecaptchaVerifier:N_,TwitterAuthProvider:Oy,Auth:I_,AuthCredential:py,Error:x}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.1.2")}(Ce);Ce.initializeApp({apiKey:"AIzaSyDh02xdVEfBeqmH33tJb400jZILLmmHL0g",authDomain:"prototype-ae9eb.firebaseapp.com",databaseURL:"https://prototype-ae9eb-default-rtdb.europe-west1.firebasedatabase.app",projectId:"prototype-ae9eb",storageBucket:"prototype-ae9eb.appspot.com",messagingSenderId:"122319683458",appId:"1:122319683458:web:0364b2f50fde6ac375d99b",measurementId:"G-RE1ETFTFQE"});const C_=Ce.auth(),A_=new Ce.auth.GoogleAuthProvider,R_=new Ce.auth.FacebookAuthProvider,O_=Ce,P_=(0,t.createContext)({}),D_="?api_key=29ab4f75bb2db1deeb32771398e6c025&language=en-US";function L_(e,t){return L_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L_(e,t)}function M_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L_(e,t)}var U_=i(5697),F_=i.n(U_);function j_(){return j_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j_.apply(this,arguments)}function V_(e){return"/"===e.charAt(0)}function q_(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const z_=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&V_(e),o=t&&V_(t),a=s||o;if(e&&V_(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var u=0,c=i.length;c>=0;c--){var h=i[c];"."===h?q_(i,c):".."===h?(q_(i,c),u++):u&&(q_(i,c),u--)}if(!a)for(;u--;u)i.unshift("..");!a||""===i[0]||i[0]&&V_(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};var B_="Invariant failed";const $_=function(e,t){if(!e)throw new Error(B_)};function W_(e){return"/"===e.charAt(0)?e:"/"+e}function H_(e){return"/"===e.charAt(0)?e.substr(1):e}function K_(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function G_(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Q_(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function J_(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=j_({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=z_(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Y_(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var s="function"==typeof e?e(t,n):e;"string"==typeof s?"function"==typeof r?r(s,i):i(!0):i(!1!==s)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var X_=!("undefined"==typeof window||!window.document||!window.document.createElement);function Z_(e,t){t(window.confirm(e))}var eE="popstate",tE="hashchange";function nE(){try{return window.history.state||{}}catch(e){return{}}}function rE(e){void 0===e&&{},X_||$_(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,s=i.forceRefresh,o=void 0!==s&&s,a=i.getUserConfirmation,l=void 0===a?Z_:a,u=i.keyLength,c=void 0===u?6:u,h=e.basename?G_(W_(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,s=i.pathname+i.search+i.hash;return h&&K_(s,h),J_(s,r,n)}function f(){return Math.random().toString(36).substr(2,c)}var p=Y_();function m(e){j_(x,e),x.length=t.length,p.notifyListeners(x.location,x.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(d(e.state))}function v(){w(d(nE()))}var y=!1;function w(e){if(y)!1,m();else{p.confirmTransitionTo(e,"POP",l,(function(t){t?m({action:"POP",location:e}):function(e){var t=x.location,n=_.indexOf(t.key);-1===n&&0;var r=_.indexOf(e.key);-1===r&&0;var i=n-r;i&&(!0,k(i))}(e)}))}}var b=d(nE()),_=[b.key];function E(e){return h+Q_(e)}function k(e){t.go(e)}var I=0;function S(e){1===(I+=e)&&1===e?(window.addEventListener(eE,g),r&&window.addEventListener(tE,v)):0===I&&(window.removeEventListener(eE,g),r&&window.removeEventListener(tE,v))}var T=!1;var x={length:t.length,action:"POP",location:b,createHref:E,push:function(e,r){var i="PUSH",s=J_(e,r,f(),x.location);p.confirmTransitionTo(s,i,l,(function(e){if(e){var r=E(s),a=s.key,l=s.state;if(n)if(t.pushState({key:a,state:l},null,r),o)window.location.href=r;else{var u=_.indexOf(x.location.key),c=_.slice(0,u+1);c.push(s.key),c,m({action:i,location:s})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",s=J_(e,r,f(),x.location);p.confirmTransitionTo(s,i,l,(function(e){if(e){var r=E(s),a=s.key,l=s.state;if(n)if(t.replaceState({key:a,state:l},null,r),o)window.location.replace(r);else{var u=_.indexOf(x.location.key);-1!==u&&(_[u]=s.key),m({action:i,location:s})}else window.location.replace(r)}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(e){void 0===e&&!1;var t=p.setPrompt(e);return T||(S(1),!0),function(){return T&&(!1,S(-1)),t()}},listen:function(e){var t=p.appendListener(e);return S(1),function(){S(-1),t()}}};return x}var iE="hashchange",sE={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+H_(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:H_,decodePath:W_},slash:{encodePath:W_,decodePath:W_}};function oE(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function aE(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function lE(e){window.location.replace(oE(window.location.href)+"#"+e)}function uE(e){void 0===e&&(e={}),X_||$_(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?Z_:r,s=n.hashType,o=void 0===s?"slash":s,a=e.basename?G_(W_(e.basename)):"",l=sE[o],u=l.encodePath,c=l.decodePath;function h(){var e=c(aE());return a&&(e=K_(e,a)),J_(e)}var d=Y_();function f(e){j_(S,e),S.length=t.length,d.notifyListeners(S.location,S.action)}var p=!1,m=null;function g(){var e=aE(),t=u(e);if(e!==t)lE(t);else{var n=h(),r=S.location;if(!p&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===Q_(n))return;m=null,function(e){if(p)p=!1,f();else{var t="POP";d.confirmTransitionTo(e,t,i,(function(n){n?f({action:t,location:e}):function(e){var t=S.location,n=b.lastIndexOf(Q_(t));-1===n&&(n=0);var r=b.lastIndexOf(Q_(e));-1===r&&(r=0);var i=n-r;i&&(p=!0,_(i))}(e)}))}}(n)}}var v=aE(),y=u(v);v!==y&&lE(y);var w=h(),b=[Q_(w)];function _(e){t.go(e)}var E=0;function k(e){1===(E+=e)&&1===e?window.addEventListener(iE,g):0===E&&window.removeEventListener(iE,g)}var I=!1;var S={length:t.length,action:"POP",location:w,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=oE(window.location.href)),n+"#"+u(a+Q_(e))},push:function(e,t){var n="PUSH",r=J_(e,void 0,void 0,S.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=Q_(r),i=u(a+t);if(aE()!==i){m=t,function(e){window.location.hash=e}(i);var s=b.lastIndexOf(Q_(S.location)),o=b.slice(0,s+1);o.push(t),b=o,f({action:n,location:r})}else f()}}))},replace:function(e,t){var n="REPLACE",r=J_(e,void 0,void 0,S.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=Q_(r),i=u(a+t);aE()!==i&&(m=t,lE(i));var s=b.indexOf(Q_(S.location));-1!==s&&(b[s]=t),f({action:n,location:r})}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&(e=!1);var t=d.setPrompt(e);return I||(k(1),I=!0),function(){return I&&(I=!1,k(-1)),t()}},listen:function(e){var t=d.appendListener(e);return k(1),function(){k(-1),t()}}};return S}function cE(e,t,n){return Math.min(Math.max(e,t),n)}function hE(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,s=t.initialIndex,o=void 0===s?0:s,a=t.keyLength,l=void 0===a?6:a,u=Y_();function c(e){j_(g,e),g.length=g.entries.length,u.notifyListeners(g.location,g.action)}function h(){return Math.random().toString(36).substr(2,l)}var d=cE(o,0,i.length-1),f=i.map((function(e){return J_(e,void 0,"string"==typeof e?h():e.key||h())})),p=Q_;function m(e){var t=cE(g.index+e,0,g.entries.length-1),r=g.entries[t];u.confirmTransitionTo(r,"POP",n,(function(e){e?c({action:"POP",location:r,index:t}):c()}))}var g={length:f.length,action:"POP",location:f[d],index:d,entries:f,createHref:p,push:function(e,t){var r="PUSH",i=J_(e,t,h(),g.location);u.confirmTransitionTo(i,r,n,(function(e){if(e){var t=g.index+1,n=g.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),c({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=J_(e,t,h(),g.location);u.confirmTransitionTo(i,r,n,(function(e){e&&(g.entries[g.index]=i,c({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=g.index+e;return t>=0&&t<g.entries.length},block:function(e){return void 0===e&&!1,u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return g}var dE=1073741823,fE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:{};function pE(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var mE=t.createContext||function(e,n){var r,i,s="__create-react-context-"+function(){var e="__global_unique_id__";return fE[e]=(fE[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=pE(t.props.value),t}M_(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[s]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(t="function"==typeof n?n(r,i):dE,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[s]=F_().object.isRequired,r);var a=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}M_(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?dE:t},r.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?dE:e},r.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},r.getValue=function(){return this.context[s]?this.context[s].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return a.contextTypes=((i={})[s]=F_().object,i),{Provider:o,Consumer:a}};const gE=mE;var vE=i(9658),yE=i.n(vE);i(9864);function wE(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}i(8679);var bE=function(e){var t=gE();return t.displayName=e,t},_E=bE("Router-History"),EE=bE("Router"),kE=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}M_(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(EE.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(_E.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var IE={},SE=0;function TE(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,s=void 0!==i&&i,o=n.strict,a=void 0!==o&&o,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=IE[n]||(IE[n]={});if(r[e])return r[e];var i=[],s={regexp:yE()(e,i,t),keys:i};return SE<1e4&&(r[e]=s,SE++),s}(n,{end:s,strict:a,sensitive:u}),i=r.regexp,o=r.keys,l=i.exec(e);if(!l)return null;var c=l[0],h=l.slice(1),d=e===c;return s&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var xE=function(e){function n(){return e.apply(this,arguments)||this}return M_(n,e),n.prototype.render=function(){var e=this;return t.createElement(EE.Consumer,null,(function(n){n||$_(!1);var r=e.props.location||n.location,i=j_({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?TE(r.pathname,e.props):n.match}),s=e.props,o=s.children,a=s.component,l=s.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(EE.Provider,{value:i},i.match?o?"function"==typeof o?o(i):o:a?t.createElement(a,i):l?l(i):null:"function"==typeof o?o(i):null)}))},n}(t.Component);function NE(e){return"/"===e.charAt(0)?e:"/"+e}function CE(e,t){if(!e)return t;var n=NE(e);return 0!==t.pathname.indexOf(n)?t:j_({},t,{pathname:t.pathname.substr(n.length)})}function AE(e){return"string"==typeof e?e:Q_(e)}function RE(e){return function(){$_(!1)}}function OE(){}t.Component;var PE=function(e){function n(){return e.apply(this,arguments)||this}return M_(n,e),n.prototype.render=function(){var e=this;return t.createElement(EE.Consumer,null,(function(n){n||$_(!1);var r,i,s=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?TE(s.pathname,j_({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:s,computedMatch:i}):null}))},n}(t.Component);var DE=t.useContext;function LE(){return DE(_E)}function ME(){return DE(EE).location}t.Component;var UE=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=uE(t.props),t}return M_(n,e),n.prototype.render=function(){return t.createElement(kE,{history:this.history,children:this.props.children})},n}(t.Component);var FE=function(e,t){return"function"==typeof e?e(t):e},jE=function(e,t){return"string"==typeof e?J_(e,null,null,t):e},VE=function(e){return e},qE=t.forwardRef;void 0===qE&&(qE=VE);var zE=qE((function(e,n){var r=e.innerRef,i=e.navigate,s=e.onClick,o=wE(e,["innerRef","navigate","onClick"]),a=o.target,l=j_({},o,{onClick:function(e){try{s&&s(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return l.ref=VE!==qE&&n||r,t.createElement("a",l)}));var BE=qE((function(e,n){var r=e.component,i=void 0===r?zE:r,s=e.replace,o=e.to,a=e.innerRef,l=wE(e,["component","replace","to","innerRef"]);return t.createElement(EE.Consumer,null,(function(e){e||$_(!1);var r=e.history,u=jE(FE(o,e.location),e.location),c=u?r.createHref(u):"",h=j_({},l,{href:c,navigate:function(){var t=FE(o,e.location),n=Q_(e.location)===Q_(jE(t));(s||n?r.replace:r.push)(t)}});return VE!==qE?h.ref=n||a:h.innerRef=a,t.createElement(i,h)}))})),$E=function(e){return e},WE=t.forwardRef;void 0===WE&&(WE=$E);WE((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,s=e.activeClassName,o=void 0===s?"active":s,a=e.activeStyle,l=e.className,u=e.exact,c=e.isActive,h=e.location,d=e.sensitive,f=e.strict,p=e.style,m=e.to,g=e.innerRef,v=wE(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(EE.Consumer,null,(function(e){e||$_(!1);var r=h||e.location,s=jE(FE(m,r),r),y=s.pathname,w=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=w?TE(r.pathname,{path:w,exact:u,sensitive:d,strict:f}):null,_=!!(c?c(b,r):b),E="function"==typeof l?l(_):l,k="function"==typeof p?p(_):p;_&&(E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(E,o),k=j_({},k,a));var I=j_({"aria-current":_&&i||null,className:E,style:k,to:s},v);return $E!==WE?I.ref=n||g:I.innerRef=g,t.createElement(BE,I)}))}));const HE=()=>{const[e,n]=(0,t.useState)({title:"",subtitle:"",imageURL:"",actionNote:""}),r=(0,t.useContext)(P_),i=O_.firestore().collection("ATF"),s=(0,t.useCallback)((()=>{const e=[];i.onSnapshot((t=>{t.forEach((t=>{e.push(t.data())})),n({title:e[0].title,subtitle:e[0].subtitle,imageURL:e[0].imageURL,actionNote:e[0].actionNote})}))}),[i]);return(0,t.useEffect)((()=>{s()}),[s]),t.createElement("div",{className:"above-the-fold-wrapper"},t.createElement("img",{className:"above-the-fold_cover-image",src:e.imageURL,alt:"movies list cover"}),t.createElement("div",{className:"above-the-fold_info-wrapper"},t.createElement("div",{className:"above-the-fold_info-container"},t.createElement("h1",{className:"above-the-fold_title"},e.title),!0===r.loggedIn&&r.subscribed?t.createElement("div",{className:"above-the-fold_loggedIn__true_div"},t.createElement("h2",{className:"above-the-fold_subtitle"},"Begin your journey"),t.createElement("button",{className:"above-the-fold_action-button"},t.createElement(BE,{to:"/movies"}," Watch Now "))):t.createElement("div",{className:"above-the-fold_loggedIn__false_div"},t.createElement("h2",{className:"above-the-fold_subtitle"},e.subtitle),t.createElement("h3",{className:"above-the-fold_action-note"},e.actionNote),r.subscribed?null:t.createElement("button",{className:"above-the-fold_join-btn",onClick:()=>{r.setSubscriptionStatus(!0)}},"Subscribe")))))};i(8674);const KE=e=>{let{downloadGif:n,name:r,imageURL:i}=e;return t.createElement("div",{className:"additional-box_wrapper"},t.createElement("img",{src:i,alt:"",className:"additional-box_image"}),t.createElement("div",{className:"additional-box_info-container"},t.createElement("h4",{className:"additional-box_info-container_name"},r),t.createElement("h4",{className:"additional-box_info-container_downloading"},"Downloading")),t.createElement("img",{src:n,alt:"",className:"additional-box_gif"}))},GE=e=>{let{videoCover:n}=e;return t.createElement("div",{className:"video-cover_wrapper"},t.createElement("video",{autoPlay:!0,loop:!0,className:"video-cover_item"},t.createElement("source",{src:n})))},QE=e=>{let{title:n,subtitle:r,mediaURL:i,mediaAlt:s,additionalBox:o,videoCover:a,downloadGif:l,imageURL:u,name:c}=e;return t.createElement("div",{className:"list-gallery-item_wrapper"},t.createElement("div",{className:"list-gallery-item_content-wrapper"},t.createElement("div",{className:"list-gallery-item_info-container"},t.createElement("h2",{className:"list-gallery-item_title"},n),t.createElement("h3",{className:"list-gallery-item_subtitle"},r)),t.createElement("div",{className:"list-gallery-item_media-container"},a?t.createElement(GE,{videoCover:a}):null,t.createElement("img",{src:i,alt:s,className:"list-gallery-item_image"}),o?t.createElement(KE,{downloadGif:l,imageURL:u,name:c}):null)))},JE=()=>{const e=O_.firestore(),[n,r]=(0,t.useState)([null]),i=(0,t.useCallback)((async()=>{const n=await e.collection("HomeListGallery"),i=[];n.onSnapshot((e=>{e.forEach((e=>{const n=e.data(),{title:r,subtitle:s,mediaURL:o,mediaAlt:a,additionalBox:l,videoCover:u,downloadGif:c,imageURL:h,name:d}=n;i.push(t.createElement(QE,{title:r,subtitle:s,mediaURL:o,mediaAlt:a,additionalBox:l,videoCover:u,downloadGif:c,imageURL:h,name:d,key:r}))})),r(i)}))}),[e]);return(0,t.useEffect)((()=>{i()}),[i]),t.createElement("div",{className:"list-gallery_wrapper"},n)};i(2707);const YE=e=>{let{question:n,answer:r}=e;const[i,s]=(0,t.useState)("none"),o={display:i},a=r.map(((e,n)=>t.createElement("h3",{className:"faq_answer-body",id:"faq_answer-body__".concat(n),key:n},e)));return t.createElement("div",{className:"faq-item_wrapper"},t.createElement("div",{className:"faq_question_wrapper",onClick:()=>{s("none"===i?"block":"none")}},t.createElement("h3",{className:"faq_question-body"},n),"none"===i?t.createElement("button",{className:"faq_toggle-btn"},"＋"):t.createElement("button",{className:"faq_toggle-btn",style:{fontSize:"22px",fontWeight:900}},"⨉")),t.createElement("div",{className:"faq_answer-wrapper",style:o},a))},XE=()=>{const[e,n]=(0,t.useState)([null]),r=O_.firestore().collection("FAQ"),i=(0,t.useCallback)((()=>{r.onSnapshot((e=>{let r=[];e.forEach((e=>{const n=e.data(),{question:i,answer:s,sort:o}=n;r.push({item:t.createElement(YE,{question:i,answer:s,key:o}),num:o})})),r=r.sort(((e,t)=>e.num-t.num));const i=r.map((e=>e.item));n(i)}))}),[r]);return(0,t.useEffect)((()=>{i()}),[i]),t.createElement("div",{className:"faq-list_wrapper"},t.createElement("div",{className:"faq-list_content-container"},t.createElement("h2",{className:"faq_title"},"Frequently Asked Questions"),t.createElement("div",{className:"faq-items_wrapper"},e)))};var ZE=i(9359);const ek=e=>{let{setModalVisibility:n}=e;const r=(0,t.useContext)(P_),[i,s]=(0,t.useState)("none");return t.createElement("div",{className:"members-bar_wrapper"},r.loggedIn?t.createElement("button",{className:"member_welcome-message",onClick:()=>{ZE.tq&&s("none"===i?"block":"none")}},"Welcome, ",r.name):null,t.createElement("button",{className:"members-bar_login-button",style:{display:ZE.tq&&!r.loggedIn||!ZE.tq?"block":i,top:ZE.tq&&r.loggedIn?"-10px":ZE.tq&&!r.loggedIn?"-35px":"25px"},onClick:()=>{r.loggedIn?(r.setStatus(!1),window.localStorage.removeItem("appAuth-email"),window.localStorage.removeItem("appAuth-name")):n(!0)}},r.loggedIn?"Log Out":"Log In"))};i(4916),i(3123);const tk=e=>{let{setModalVisibility:n}=e;const[r,i]=(0,t.useState)("login"),[s,o]=(0,t.useState)({visible:!1,code:""}),a=(0,t.useContext)(P_),l=(e,t)=>{window.localStorage.setItem("appAuth-email",e),window.localStorage.setItem("appAuth-name",t),a.setEmail(e),a.setStatus(!0),a.setName(t),o({visible:!1,code:""}),n(!1)},u=async e=>{if("google"===e)try{const e=await C_.signInWithPopup(A_);e.user&&e.user.email&&e.user.displayName&&l(e.user.email,e.user.displayName)}catch(e){o({visible:!0,code:"Error here: "+e})}else try{const e=await C_.signInWithPopup(R_);e.user&&e.user.email&&e.user.displayName&&l(e.user.email,e.user.displayName)}catch(e){o({visible:!0,code:"Error here: "+e})}};return t.createElement("div",{className:"login-modal_wrapper"},t.createElement("div",{className:"login-modal_container"},t.createElement("h1",{className:"login-modal_title",onClick:()=>{i("login"===r?"signup":"login")}},"login"===r?"Click here to Sign Up":"Click here to Log In"),t.createElement("input",{type:"email",className:"login-form_email",id:"login-form_email",onInput:e=>o({visible:!1,code:""})}),t.createElement("input",{type:"password",className:"login-form_password",id:"login-form_password",onInput:e=>o({visible:!1,code:""})}),s.visible?t.createElement("h5",{className:"login-modal_error-message",style:{color:"red"}},s.code):null,t.createElement("button",{className:"login-form_submit-btn",onClick:async()=>{const e=document.getElementById("login-form_email"),t=document.getElementById("login-form_password");if("signup"===r)try{const n=await C_.createUserWithEmailAndPassword(e.value,t.value);n.user&&n.user.email&&l(n.user.email,n.user.email.split("@")[0])}catch(e){o({visible:!0,code:""+e})}else try{const n=await C_.signInWithEmailAndPassword(e.value,t.value);n.user&&n.user.email&&l(n.user.email,n.user.email.split("@")[0])}catch(e){o({visible:!0,code:""+e})}}},"Submit"),t.createElement("hr",{style:{width:"300px",color:"rgba(109, 109, 109, 0.322)",margin:"30px 0"}}),t.createElement("div",{className:"login-modal_oauth_container"},t.createElement("button",{className:"login-form_google-login",type:"button",onClick:()=>u("google")},"login"===r?"Login with Google":"Sign Up with Google"),t.createElement("button",{className:"login-form_facebook-login",type:"button",onClick:()=>u("facebook")},"login"===r?"Login with Facebook":"Sign Up with Facebook")),t.createElement("button",{className:"login-modal_close-btn",onClick:()=>n(!1)},"×")))},nk=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(!1),s=(0,t.useCallback)((async()=>{const e=O_.storage().ref(),t=await e.child("ATFImages/netflix.png"),r=await t.getDownloadURL();n(r)}),[]);return(0,t.useEffect)((()=>{s()}),[s]),t.createElement("div",{className:"header-home_wrapper"},t.createElement(BE,{to:"/"},t.createElement("img",{className:"site-logo-img",src:e,alt:"Netflix logo"})),t.createElement(ek,{setModalVisibility:i}),r?t.createElement(tk,{setModalVisibility:i}):null)},rk=()=>t.createElement("div",{className:"home-page-wrapper"},t.createElement(nk,null),t.createElement(HE,null),t.createElement(JE,null),t.createElement(XE,null));i(4765),i(5306),i(9714),i(3210);const ik=e=>{let{title:n,poster_path:r}=e;return t.createElement("div",{className:"search-item_wrapper",style:{backgroundImage:"url(".concat(r?"https://image.tmdb.org/t/p/original"+r:"https://imgix.bustle.com/uploads/image/2017/8/29/c8c8077a-10fc-44d5-93f0-da4e592a299e-netflix-logo-print_pms.jpg",")")}},t.createElement("h5",{className:"search-item_title"},n))},sk=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)("none"),s=LE(),o=()=>{i("none")};return(0,t.useEffect)((()=>{s.listen(((e,t)=>{"PUSH"===t&&o()}))}),[s]),t.createElement("div",{className:"search-bar_wrapper"},t.createElement("input",{className:"search-bar_input-bar",list:"movies-list",name:"moviesSearch",placeholder:"Search a movie...",autoComplete:"off",onInput:async e=>{let r=e.currentTarget;if(r.value.length>2){const e=(await fetch("https://api.themoviedb.org/3/search/movie"+D_+"&query="+r.value+"&page=1").then((e=>e.json()))).results.map((e=>t.createElement(BE,{to:"/movies/"+e.id,key:e.id},t.createElement(ik,{title:e.title,poster_path:e.poster_path}))));n(e),r.focus(),i("grid")}""===r.value.trim()&&o()}}),t.createElement("div",{className:"search-options_wrapper",style:{display:r}},e))},ok=()=>{const[e,n]=(0,t.useState)(""),r=(0,t.useContext)(P_),{loggedIn:i}=r,[s,o]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),u=(0,t.useCallback)((async()=>{const e=O_.storage().ref(),t=await e.child("ATFImages/netflix.png"),r=await t.getDownloadURL();n(r)}),[]);return(0,t.useEffect)((()=>{u()}),[u]),t.createElement("div",{className:"header-global_wrapper"},t.createElement(BE,{to:"/"},t.createElement("img",{className:"site-logo-img",src:e,alt:"Netflix logo"})),t.createElement(sk,null),t.createElement("div",{className:"header-global_members-area",style:{display:ZE.tq&&!a?"none":"flex"}},t.createElement("span",null," ",r.loggedIn?"Welcome, ".concat(r.name,"!"):"UNLIMITED TV SHOWS & MOVIES"),!r.subscribed&&r.loggedIn?t.createElement("button",{className:"subscription-bar",onClick:()=>{r.subscribed?r.setSubscriptionStatus(!1):r.setSubscriptionStatus(!0)}},"Join Now"):null,t.createElement("button",{className:"login-bar",onClick:()=>{r.loggedIn?(r.setStatus(!1),window.localStorage.removeItem("appAuth-email")):o(!0)}},i?"Sign Out":"Sign Up")),ZE.tq?t.createElement("button",{className:"members-bar_mobile-more-btn",onClick:()=>{l(!a)}},"More"):null,s?t.createElement(tk,{setModalVisibility:o}):null)};i(2023);const ak=e=>{let{data:n,category:r}=e;const i=LE(),s=ME(),[o,a]=(0,t.useState)("gray"),l=(0,t.useCallback)((()=>{const e=s.search.replace("?","");if(e){e.split("&").map((e=>e.split("="))).map((e=>({key:e[0],value:e[1].toString().split("|")}))).forEach((e=>{["true","false"].includes(n[1].toString())?(a("gray"),e.value.includes(n[1].toString())&&a("green")):e.value.includes(n[1].toString())&&a("green")}))}}),[s,n]);return(0,t.useEffect)((()=>{l()}),[l]),t.createElement("div",{className:"filter-subcategory-item_wrapper"},t.createElement("button",{className:"filter-subcategory-item_button",onClick:()=>{const e=s.search.replace("?","");if(e){let t=e.split("&").map((e=>e.split("="))).map((e=>({key:e[0],value:e[1].toString().split("|")}))),s=[],o=!1;t.forEach((e=>{if(e.key===r.toLowerCase().replace(" ","_")){if(-1===e.value.indexOf(n[1].toString()))["true","false"].includes(n[1].toString())?s.push("".concat(e.key,"=").concat(n[1].toString())):(e.value.push(n[1].toString()),s.push("".concat(e.key,"=").concat(e.value.join("|"))));else{const t=e.value.filter((e=>e!==n[1].toString()));t.length>0&&s.push("".concat(e.key,"=").concat(t.join("|"))),a("gray")}o=!0}else s.push("".concat(e.key,"=").concat(e.value.join("|")))})),!1===o&&(s=["".concat(e,"&").concat(r.toLowerCase().replace(" ","_"),"=").concat(n[1])]),i.push({search:s.join("&")})}else i.push({search:"".concat(r.toLowerCase().replace(" ","_"),"=").concat(n[1])})},style:{color:o}},n[0]))},lk=e=>{let{data:n}=e;const[r,i]=(0,t.useState)([]),[s,o]=(0,t.useState)("block"),a=(0,t.useCallback)((()=>{const e=n.value.map(((e,r)=>t.createElement(ak,{data:[e.lab,e.val],category:n.label,key:"value"+r})));i(e)}),[n]);return(0,t.useEffect)((()=>a()),[a]),t.createElement("div",{className:"filter-category-item_wrapper"},t.createElement("button",{className:"category-label_wrapper",onClick:()=>{o("block"===s?"none":"block")}},n.label),t.createElement("div",{className:"subcategories-list_wrapper",style:{display:s}},r))},uk=()=>{const[e,n]=(0,t.useState)([null]),r=(0,t.useCallback)((async()=>{const e=[{label:"Categories",value:[{val:"top_rated",lab:"Top Rated"},{val:"popular",lab:"Popular"},{val:"upcoming",lab:"Upcoming"},{val:"now_playing",lab:"Now Playing"}]},{label:"Genres",value:await(async()=>(await fetch("https://api.themoviedb.org/3/genre/movie/list"+D_).then((e=>e.json()))).genres.map((e=>({lab:e.name,val:e.id.toString()}))))()},{label:"Include Adult",value:[{lab:"Include",val:!0},{lab:"Exclude",val:!1}]}].map(((e,n)=>t.createElement(lk,{data:e,key:"cat"+n})));n(e)}),[]);return(0,t.useEffect)((()=>{r()}),[r]),t.createElement("div",{className:"filter-categories-list_wrapper"},e)},ck=e=>{let{setFiltersStatus:n}=e;return t.createElement("div",{className:"filter-widget_wrapper",style:{top:0}},t.createElement(uk,null),t.createElement("button",{className:"filter-widget_close-btn",onClick:n},"Close"))},hk=e=>{let{title:n,id:r,poster_path:i}=e;return t.createElement(BE,{to:"/movies/".concat(r)},t.createElement("div",{className:"movie-item_wrapper",key:r.toString()},t.createElement("div",{className:"movie-item_poster-container",style:{backgroundImage:"url(".concat("https://image.tmdb.org/t/p/original").concat(i).concat(D_,")")}}),t.createElement("h3",{className:"movie-item_title"},n)))},dk=window.innerWidth;let fk=480;const pk=e=>{let{category:n}=e;const[r,i]=(0,t.useState)([null]),[s,o]=(0,t.useState)(0),[a,l]=(0,t.useState)("none"),[u,c]=(0,t.useState)("flex"),h=(0,t.useCallback)((async()=>{const e=await fetch("https://api.themoviedb.org/3/movie/".concat(n).concat(D_)),r=(await e.json()).results,s=[];r.forEach((e=>{const{title:n,id:r,poster_path:i}=e;s.push(t.createElement(hk,{title:n,id:r,poster_path:i,key:r}))})),i(s)}),[n]),d=e=>{let t=s;if("forward"===e){const e=document.getElementById("movies-container_".concat(n)).lastElementChild.getBoundingClientRect().right;t-=fk,o(t),e<dk+fk?c("none"):l("flex")}else t+=fk,o(t),0===t||t>fk?l("none"):c("flex")};return(0,t.useEffect)((()=>{h()}),[h]),t.createElement("div",{className:"movies-list_wrapper"},t.createElement("h2",{className:"movies-page_subtitle"},n.toUpperCase()),t.createElement("div",{className:"movies-page_movies-list"},t.createElement("div",{className:"movies-list_navigation movies-list_navigation__left",style:{display:a}},t.createElement("button",{className:"movies-list_nav-btn movies-list_nav-btn_left",onClick:e=>d("back")},t.createElement("span",null))),t.createElement("div",{className:"movies-list_movies-container",id:"movies-container_".concat(n),style:{transform:"translateX(".concat(s,"px)")}},r),t.createElement("div",{className:"movies-list_navigation movies-list_navigation__right",style:{display:u}},t.createElement("button",{className:"movies-list_nav-btn movies-list_nav-btn_right",onClick:e=>d("forward")},t.createElement("span",null)))))},mk=e=>{let{title:n,poster_path:r,id:i}=e;return t.createElement(BE,{to:"/movies/".concat(i)},t.createElement("div",{className:"filtered-movie_item_wrapper"},t.createElement("h3",{className:"filtered-movie_item_title"},n),t.createElement("div",{className:"filtered-movie_item_poster",style:{backgroundImage:"url(".concat("https://image.tmdb.org/t/p/original"+r,")")}})))},gk=e=>{let{pageNum:n,setPage:r,page:i}=e;const[s,o]=(0,t.useState)("black"),a=(0,t.useCallback)((()=>{o(n===i?"blue":"black")}),[i,n]);return(0,t.useEffect)((()=>{a()}),[a]),t.createElement("div",{className:"pagination-item_wrapper"},t.createElement("button",{className:"pagination-item_btn",onClick:()=>r(n),style:{color:s,borderColor:s}},n))},vk=e=>{let{setPage:n,page:r}=e;const[i,s]=(0,t.useState)(null),o=(0,t.useCallback)((()=>{const e=new Array(5).fill(0).map(((e,t)=>t)).map((e=>t.createElement(gk,{pageNum:e+1,setPage:n,page:r})));s(e)}),[n,r]);return(0,t.useEffect)((()=>{o()}),[o]),t.createElement("div",{className:"pagination-widget_wrapper"},i)},yk=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null),[s,o]=(0,t.useState)(1),a=ME().search,l=()=>{n(!e)},u=(0,t.useCallback)((()=>{if(a){const e=a.replace("?","").split("&").map((e=>e.split("="))).map((e=>({key:e[0],value:e[1].toString().split("|")}))).map((e=>{switch(e.key){case"categories":return new Promise(((t,n)=>{const r=e.value.map((e=>fetch("https://api.themoviedb.org/3/movie/"+e+D_+"&page="+s).then((e=>e.json())).then((e=>e.results))));Promise.all(r).then((e=>{t([].concat.apply([],e))}))}));case"genres":return fetch("https://api.themoviedb.org/3/discover/movie"+D_+"&with_genres="+e.value.join("|")+"&page="+s).then((e=>e.json())).then((e=>e.results));case"include_adult":return fetch("https://api.themoviedb.org/3/discover/movie"+D_+"&include_adult"+e.value.join("|")+"&page="+s).then((e=>e.json())).then((e=>e.results))}}));Promise.all(e).then((e=>{const n=[].concat.apply([],e);console.log("all results: ",n);const r=n.map((e=>e.id)),s=[...new Set(r)].map((e=>n.filter((t=>t.id===e))[0])).map(((e,n)=>t.createElement(mk,{title:e.title,id:e.id,poster_path:e.poster_path,key:n})));i(t.createElement("div",{className:"filtered-movie-list_wrapper"},s))}))}else{const e=["upcoming","top_rated"].map(((e,n)=>t.createElement(pk,{category:e,key:"cat"+n})));i(e)}}),[a,s]);return(0,t.useEffect)((()=>{u()}),[u]),t.createElement("div",{className:"movies-page_wrapper"},t.createElement(ok,null),t.createElement("div",{className:"filter-widget-space_wrapper"},e?t.createElement(ck,{setFiltersStatus:l}):t.createElement("h3",{className:"filter-widget-space_title",onClick:l,style:{top:"50px"}},"Discover More")),t.createElement("h1",{className:"movies-page_title"},"Netflix choice"),t.createElement("div",{className:"movies-list_page-container"},r),a?t.createElement(vk,{setPage:o,page:s}):null)},wk=e=>{let{id:n}=e;const[r,i]=(0,t.useState)(null),s=(0,t.useCallback)((async()=>{const e=await fetch("https://api.themoviedb.org/3/movie/".concat(n,"/videos")+D_).then((e=>e.json()));if(e.results){const n=e.results.map(((e,n)=>t.createElement("iframe",{className:"movie-item_video_container",style:{border:"none",margin:"5px"},width:ZE.Em?"45%":"500px",height:"250px",src:"https://www.youtube.com/embed/".concat(e.key,"/"),title:"YouTube video player",key:"video"+n})));i(n)}}),[n]);return(0,t.useEffect)((()=>{s()}),[s]),t.createElement("div",{className:"movie-item-video_wrapper",style:{marginTop:"50px",display:"flex",justifyContent:"space-around",flexWrap:"wrap"}},r)},bk=e=>{let{movieData:n}=e;const{id:r,adult:i,genres:s,original_title:o,overview:a,popularity:l,poster_path:u,release_date:c,revenue:h,status:d,tagline:f,vote_count:p}=n[0],m=s.map((e=>e.name)).join(", "),g=(0,t.useContext)(P_);return t.createElement("div",{className:"movie-item-details_wrapper"},t.createElement("div",{className:"movie-item_poster",style:{backgroundImage:"url(".concat(u?"https://image.tmdb.org/t/p/original"+u:"https://static.wikia.nocookie.net/netflix/images/5/54/Netflix_logo.png/revision/latest?cb=20190623201834&path-prefix=ru",")")}}),t.createElement("div",{className:"movie-item_main-data movie-item_block"},t.createElement("div",{className:"movie-item_audience-data movie-item_sub-block"},t.createElement("h3",{className:"movie-item_audience-data_adult-status"},i?"Rated":"General audience")),t.createElement("div",{className:"movie-item_info movie-item_sub-block"},t.createElement("h2",{className:"movie-item_info_title"},o),t.createElement("h3",{className:"movie-item_info_release-date"},c),t.createElement("h3",{className:"movie-item_info_overview"},a))),g.subscribed?t.createElement("div",null):t.createElement("div",{className:"join-now-banner"},t.createElement("div",{className:"join-now_text"},t.createElement("img",{className:"join-now_logo",src:"https://pngimg.com/uploads/netflix/netflix_PNG15.png",alt:"netflix-logo"}),t.createElement("h3",{className:"join-now_subtitle"},"Watch all movies now.")),t.createElement("button",{className:"join-now_action-btn"},"Join Now")),t.createElement("div",{className:"movie-item_tagline-wrapper"},t.createElement("h3",{className:"movie-item_info_tagline"},f)),t.createElement("div",{className:"movie-item_additional-info movie-item_block"},t.createElement("h2",{className:"movie-item_additional-info_details"},"More Details"),t.createElement("div",{className:"movie-item_stats movie-item_sub-block"},t.createElement("h3",{className:"movie-item_stats_popularity"}," ",t.createElement("span",null,"Popularity: ")," ",t.createElement("br",null)," ",l),t.createElement("h3",{className:"movie-item_genres"},t.createElement("span",null,"Genres:")," ",t.createElement("br",null)," ",m),t.createElement("h3",{className:"movie-item_stats_revenue"}," ",t.createElement("span",null,"Revenue: ")," ",t.createElement("br",null),"  ",h),t.createElement("h3",{className:"movie-item_stats_vote-count"}," ",t.createElement("span",null,"Voted:"),"  ",t.createElement("br",null),"  ",p),t.createElement("h3",{className:"movie-item_stats_status"},t.createElement("span",null,"Release status:")," ",t.createElement("br",null),"  ",d))),t.createElement(wk,{id:r.toString()}))},_k=e=>{let{data:n}=e;const{poster_path:r,original_title:i}=n;return t.createElement("div",{className:"similar-item_wrapper"},t.createElement("div",{className:"similar-item_poster",style:{backgroundImage:"url(".concat("https://image.tmdb.org/t/p/original").concat(r,")")}}),t.createElement("h3",{className:"similar-item_title"},i))},Ek=e=>{let{id:n}=e;const[r,i]=(0,t.useState)([]),s=(0,t.useCallback)((async()=>{const e=(await fetch("https://api.themoviedb.org/3/movie/".concat(n,"/similar").concat(D_)).then((e=>e.json()))).results.map(((e,n)=>t.createElement(BE,{to:"/movies/"+e.id,key:"simLink"+n},t.createElement(_k,{data:e,key:"similar"+n}))));i(e)}),[n]);return(0,t.useEffect)((()=>{s()}),[s]),t.createElement("div",{className:"movie-item-similar_wrapper"},t.createElement("h3",{className:"movie-item_similar_text"},"Discover More:"),t.createElement("div",{className:"movie-item_similar_container"},r))},kk={id:0,adult:!1,genres:[{id:1,name:""}],original_title:"",overview:"",popularity:12,poster_path:"",release_date:"",revenue:12345,status:"Released",tagline:"",vote_count:123},Ik=()=>{const e=ME().pathname.replace("/movies",""),[n,r]=(0,t.useState)(kk),i=(0,t.useCallback)((async()=>{console.log("screen width: ",window.innerWidth);const t=await fetch("https://api.themoviedb.org/3/movie".concat(e).concat(D_)).then((e=>e.json()));r(t),window.scroll({top:0,behavior:"smooth"})}),[e]);return(0,t.useEffect)((()=>{i()}),[i]),t.createElement("div",{className:"movie_item_individual_wrapper"},t.createElement(ok,null),t.createElement(bk,{movieData:[n]}),t.createElement(Ek,{id:e}))},Sk=()=>t.createElement("div",{className:"footer_wrapper"},t.createElement(UE,null,t.createElement(BE,{to:"/builder"},t.createElement("h3",{className:"footer_title"},"Click to build your own widget!")))),Tk=[{group:"div",backgroundColor:"#fe02e0",title:"Boxes",items:[{key:"div",class:"element-child box-element",id:"redDiv",style:{backgroundColor:"#ff0000",width:"150px",height:"60px",cursor:"pointer",borderWidth:"1px",borderColor:"#ffffff",color:"#ffffff",borderRadius:"0",borderStyle:"solid"},content:"",offsetTop:0,offsetLeft:0,count:1},{key:"div",class:"element-child box-element",id:"yellowDiv",style:{backgroundColor:"#f8ed04",width:"150px",height:"60px",cursor:"pointer",borderWidth:"0",borderColor:"#ffffff",color:"#ffffff",borderRadius:"0",borderStyle:"none"},content:"",offsetTop:200,offsetLeft:200,count:1}]},{group:"button",backgroundColor:"#000000",title:"Buttons",items:[{key:"button",class:"element-child button-element",id:"blueButton",style:{backgroundColor:"blue",width:"100px",height:"50px",cursor:"pointer",borderWidth:"1px",borderColor:"#ffffff",borderRadius:"15px",borderStyle:"none",color:"#ffffff"},content:"Hello World!",offsetTop:200,offsetLeft:200,count:1},{key:"button",class:"element-child button-element",id:"fuchsiaButton",style:{backgroundColor:"#e10a9d",width:"100px",height:"50px",cursor:"pointer",borderWidth:"0",borderColor:"#ffffff",borderRadius:"5px",color:"#ffffff",borderStyle:"none"},content:"Contact Us!",offsetTop:200,offsetLeft:200,count:1}]}],xk=e=>{let{previewElements:n,setPreviewElements:r}=e;const[i,s]=(0,t.useState)(700),o=window.localStorage.getItem("previewItems"),a=e=>{let t=i;const n=e.clientX;t=i-(i-n-100),t>=350&&t<=700&&s(t)},l=(0,t.useCallback)((()=>{o&&r(o)}),[o,r]);return(0,t.useEffect)((()=>l()),[l]),t.createElement("div",{className:"builder-editor_wrapper",id:"builder-editor_wrapper",style:{width:i+"px"}},t.createElement("button",{id:"resize-handler",onMouseDown:()=>{window.addEventListener("mousemove",a),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",a)}))}}),t.createElement("div",{className:"editor-elements_container"},Tk.map(((e,i)=>t.createElement("div",{className:"elements-group_container",style:{backgroundColor:e.backgroundColor},key:i},t.createElement("h3",{className:"elements-group_title"},e.title),t.createElement("div",{className:"element-group_elements-list"},e.items.map(((e,i)=>{const s=t.createElement(e.key,{style:e.style,className:e.class},e.content);return t.createElement("div",{className:"element-item_wrapper",key:i+"child",onClick:t=>((e,t)=>{const i={element:t};let s;if(n){const e=JSON.parse(n),t=Math.max(...e.items.map((e=>e.element.count)));t>0?(i.element.count=t+1,s=JSON.stringify({items:[...e.items,i]})):s=JSON.stringify({items:[i]})}else s=JSON.stringify({items:[i]});r(s)})(0,e)},s)}))))))))},Nk=e=>{let{element:n,previewState:r,closePanel:i}=e;const{previewElements:s,setPreviewElements:o}=r,a=[{wrapperClassName:"border-panel_wrapper",inputClassName:"border_range",titleClassName:"border_title",inputType:"range",min:1,max:10,value:n.style.borderWidth,title:"Border width: "},{wrapperClassName:"bg-color_wrapper",inputClassName:"bg-color_range",titleClassName:"bg-color_title",inputType:"color",min:0,max:0,value:n.style.backgroundColor,title:"Background: "},{wrapperClassName:"border-color_wrapper",inputClassName:"border-color_range",titleClassName:"border-color_title",inputType:"color",min:0,max:0,value:n.style.borderColor,title:"Border color: "}],l=e=>{const t=e.target.classList[0];if(s){let r=null;const i=JSON.parse(s);switch(t){case"bg-color_range":r=i.items.map((t=>(n.id===t.element.id&&n.count===t.element.count&&(t.element.style.backgroundColor=e.target.value),t)));break;case"border_range":r=i.items.map((t=>(n.id===t.element.id&&n.count===t.element.count&&("none"!==n.style.borderStyle||(t.element.style.borderStyle="solid",t.element.style.borderColor="white"),t.element.style.borderWidth=e.target.value+"px"),t)));break;case"border-color_range":r=i.items.map((t=>(n.id===t.element.id&&n.count===t.element.count&&n.style.borderStyle&&(t.element.style.borderColor=e.target.value),t)))}o(JSON.stringify({items:r}))}};return window.addEventListener("mouseup",(e=>{const t=document.getElementsByClassName("preview-edit-panel_wrapper"),n=e.target.className;for(let e=0;e<t.length;e++){var r;null!==(r=t.item(e))&&void 0!==r&&r.innerHTML.includes(n)||i()}})),t.createElement("div",{className:"preview-edit-panel_wrapper"},a.map(((e,n)=>t.createElement("div",{className:"edit-panel_item-wrapper ".concat(e.wrapperClassName),key:n},t.createElement("h5",{className:e.titleClassName},e.title,"  ",e.value," "),t.createElement("input",{type:e.inputType,className:"".concat(e.inputClassName," input-range"),min:e.min,max:e.max,value:e.value,onChange:l})))))},Ck=e=>{let{element:n,previewState:r}=e;const{previewElements:i,setPreviewElements:s}=r,[o,a]=(0,t.useState)("none"),l=e=>{if(i){const t=JSON.parse(i).items.map((t=>{if(t.element.id===n.id&&t.element.count===n.count){const r=document.getElementById("preview-item-"+n.id+"_".concat(n.count));console.log(r);const i=document.getElementById("builder-editor_wrapper");if(r.scrollWidth>0&&r.scrollHeight>0){const s=e.clientX-i.offsetWidth-Number(n.style.width.replace("px","")),o=e.clientY-r.offsetHeight-Number(n.style.height.replace("px",""));t.element.offsetLeft=s,t.element.offsetTop=o}else window.removeEventListener("mousemove",l);return t}return t}));s(JSON.stringify({items:t}))}},u=()=>{console.log(o),a("none"===o?"block":"none")},c=e=>{if(i){const t=JSON.parse(i).items.map((t=>{if(t.element.id===n.id&&t.element.count===n.count){const r=document.getElementById("preview-item-".concat(n.id,"_").concat(n.count)),i=e.clientX,s=e.clientY;return t.element.style.width=i-r.offsetLeft-Number(t.element.style.width.replace("px",""))+"px",t.element.style.height=s-r.offsetTop-Number(t.element.style.height.replace("px",""))+"px",console.log(i,r),t}return t}));s(JSON.stringify({items:t}))}};return t.createElement("div",{className:"preview-item_wrapper",id:"preview-item-".concat(n.id,"_").concat(n.count),style:{top:n.offsetTop+"px",left:n.offsetLeft+"px"}},t.createElement("div",{className:"preview-item_wrapper"},"none"===o?t.createElement("button",{className:"preview-item_edit-btn",onClick:u},t.createElement("i",{className:"far fa-edit fa-lg"})):t.createElement(Nk,{previewState:r,element:n,closePanel:u}),t.createElement(n.key,{style:n.style,className:n.class+"_preview",onMouseDown:()=>{window.addEventListener("mousemove",l),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",l)}))}},n.content),t.createElement("button",{className:"preview-item_delete-btn",onClick:()=>{if(i){const e=JSON.parse(i).items.filter((e=>e.element.count!==n.count));s(JSON.stringify({items:e}))}}},t.createElement("i",{className:"fas fa-trash-alt fa-lg"})),t.createElement("button",{className:"preview-item_size-handler",onMouseDown:()=>{window.addEventListener("mousemove",c),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",c)}))}})))},Ak=e=>{let{previewElements:n,setPreviewElements:r}=e;const[i,s]=(0,t.useState)(null),o=(0,t.useCallback)((()=>{if(n){const e=JSON.parse(n);s(e.items.map((e=>e.element)))}}),[n]);return(0,t.useEffect)((()=>o()),[o]),t.createElement("div",{className:"builder-preview_wrapper"},i?i.map(((e,i)=>t.createElement(Ck,{element:e,previewState:{previewElements:n,setPreviewElements:r},key:i}))):null)},Rk=()=>{const[e,n]=(0,t.useState)("");return t.createElement("div",{className:"builder-widget_wrapper"},t.createElement(xk,{previewElements:e,setPreviewElements:n}),t.createElement(Ak,{previewElements:e,setPreviewElements:n}),t.createElement("button",{className:"save-changes_btn",onClick:()=>{e&&window.localStorage.setItem("previewItems",e)}},"Save"))},Ok=()=>t.createElement("div",{className:"builder-page_wrapper"},t.createElement(ok,null),t.createElement(Rk,null)),Pk=()=>t.createElement("div",{className:"App"},t.createElement(UE,null,t.createElement(PE,null,t.createElement(xE,{exact:!0,path:"/",component:rk}),t.createElement(xE,{exact:!0,path:"/movies/",component:yk}),t.createElement(xE,{exact:!0,path:"/movies/:movieId",component:Ik}),t.createElement(xE,{exact:!0,path:"/builder",component:Ok}))),t.createElement(Sk,null)),Dk=()=>{const e=window.localStorage.getItem("appAuth-email"),n=window.localStorage.getItem("appAuth-name");let r=null,i=!1,s=null;e&&(r=e,i=!0),n&&(s=n);const[o,a]=t.useState(r),[l,u]=t.useState(s),[c,h]=t.useState(i),[d,f]=t.useState(!1);return t.createElement(P_.Provider,{value:{loggedIn:c,email:o,name:l,setName:u,setEmail:a,setStatus:h,subscribed:d,setSubscriptionStatus:f}},t.createElement("div",{className:"appWrapper"},t.createElement(Pk,null)))},Lk=e=>{e&&e instanceof Function&&i.e(131).then(i.bind(i,2131)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};(0,n.render)(t.createElement(Dk,null),document.getElementById("root")),Lk()})()})();